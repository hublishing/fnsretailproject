function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t,r,n,i,o,s,a,u,c,l,f,d,h,p,g,y,v,m,b,w,S,E,C,A,x,_,k,P,I,T,O,U,L,M,R,N,D,j,B,F,z,K,q,H,V,G,W,$,Y,J,Z,X,Q,ee,et,er,en,ei,eo,es,ea,eu,ec,el,ef,ed,eh,ep,eg,ey,ev,em,eb,ew,eS,eE,eC,eA,ex,e_,ek,eP,eI,eT,eO,eU,eL,eM,eR,eN,eD,ej,eB,eF,ez,eK,eq,eH,eV,eG,eW,e$,eY,eJ,eZ,eX,eQ,e0,e1,e2,e3,e4,e6,e5,e8,e7,e9,te,tt,tr,tn,ti,to,ts,ta,tu,tc,tl,tf,td,th,tp,tg,ty,tv,tm,tb,tw,tS,tE,tC,tA,tx,t_,tk,tP,tI,tT,tO,tU,tL,tM,tR,tN,tD,tj,tB,tF,tz,tK,tq,tH,tV,tG,tW,t$,tY,tJ,tZ,tX,tQ,t0,t1,t2,t3,t4,t6,t5,t8,t7,t9,re,rt,rr,rn,ri,ro,rs,ra,ru,rc,rl,rf,rd,rh,rp,rg,ry,rv,rm,rb,rw,rS,rE,rC,rA,rx,r_,rk,rP,rI,rT,rO,rU,rL,rM,rR,rN,rD,rj,rB,rF,rz,rK,rq,rH,rV,rG,rW,r$,rY,rJ,rZ,rX,rQ,r0,r1,r2,r3,r4,r6,r5,r8,r7,r9,ne,nt,nr,nn,ni,no,ns,na,nu,nc,nl,nf,nd,nh,np,ng,ny,nv,nm,nb,nw,nS,nE,nC,nA,nx,n_,nk,nP,nI,nT,nO,nU,nL,nM,nR,nN,nD,nj,nB,nF,nz,nK,nq,nH,nV,nG,nW,n$,nY,nJ,nZ,nX,nQ,n0,n1,n2,n3,n4,n6,n5,n8,n7,n9,ie,it,ir,ii,io,is,ia,iu,ic,il,id,ih,ip,ig,iy,iv,im,ib,iw,iS,iE,iC,iA,ix,i_,ik,iP,iI,iT,iO,iU,iL,iM,iR,iN,iD,ij,iB,iF,iz,iK,iq,iH,iV,iG,iW,i$,iY,iJ,iZ,iX,iQ,i0,i1,i2,i3,i4,i6,i5,i8,i7,i9,oe,ot,or,on,oi,oo,os,oa,ou,oc,ol,of,od,oh,op,og,oy,ov=globalThis;function om(e){return e&&e.__esModule?e.default:e}var ob={},ow={},oS=ov.parcelRequire94c2;null==oS&&((oS=function(e){if(e in ob)return ob[e].exports;if(e in ow){var t=ow[e];delete ow[e];var r={id:e,exports:{}};return ob[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){ow[e]=t},ov.parcelRequire94c2=oS);var oE=oS.register;oE("dZNvx",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var r=oS("jLgwE"),n=oS("iS0p3"),i=oS("43ZGj"),o=oS("ev7Sh"),s=oS("5J2Ch"),a=oS("b3AtY"),u=function(){function e(e){(0,o.supportsWebCrypto)((0,a.locateWindow)())?this.hash=new n.Sha256(e):(0,s.isMsWindow)((0,a.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();e.exports.Sha256=u}),oE("jLgwE",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var r=oS("5W33V"),n=oS("HuE2p"),i=oS("f5Ly5"),o=oS("b3AtY"),s=function(){function e(e){e?(this.operation=new Promise(function(t,r){var i=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",a(e),n.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),r(Error("ImportKey completed without importing key."))},i.onerror=function(){r(Error("ImportKey failed to import key."))}}).then(function(e){return(0,o.locateWindow)().msCrypto.subtle.sign(n.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then(function(r){return r.onerror=function(){t.operation=Promise.reject(Error("Error encountered updating hash"))},r.process(a(e)),r}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(e){return new Promise(function(t,r){e.onerror=function(){r(Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),r(Error("Error encountered finalizing hash"))},e.finish()})})},e}();function a(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}e.exports.Sha256=s}),oE("5W33V",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}}),oE("HuE2p",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EMPTY_DATA_SHA_256=e.exports.SHA_256_HMAC_ALGO=e.exports.SHA_256_HASH=void 0,e.exports.SHA_256_HASH={name:"SHA-256"},e.exports.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.exports.SHA_256_HASH},e.exports.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}),oE("f5Ly5",function(t,r){e(t.exports,"fromUtf8",()=>o),e(t.exports,"toUtf8",()=>s);var n=oS("fv73a"),i=oS("fVPwZ"),o=function(e){return"function"==typeof TextEncoder?(0,i.fromUtf8)(e):(0,n.fromUtf8)(e)},s=function(e){return"function"==typeof TextDecoder?(0,i.toUtf8)(e):(0,n.toUtf8)(e)}}),oE("fv73a",function(t,r){e(t.exports,"fromUtf8",()=>n),e(t.exports,"toUtf8",()=>i);var n=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(r+1<e.length&&(64512&i)==55296&&(64512&e.charCodeAt(r+1))==56320){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},i=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];i<128?t+=String.fromCharCode(i):192<=i&&i<224?t+=String.fromCharCode((31&i)<<6|63&e[++r]):240<=i&&i<365?t+=decodeURIComponent("%"+[i,e[++r],e[++r],e[++r]].map(function(e){return e.toString(16)}).join("%")):t+=String.fromCharCode((15&i)<<12|(63&e[++r])<<6|63&e[++r])}return t}}),oE("fVPwZ",function(t,r){function n(e){return new TextEncoder().encode(e)}function i(e){return new TextDecoder("utf-8").decode(e)}e(t.exports,"fromUtf8",()=>n),e(t.exports,"toUtf8",()=>i)}),oE("b3AtY",function(t,r){e(t.exports,"locateWindow",()=>i);let n={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}}),oE("iS0p3",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var r=oS("8XVZm"),n=oS("HuE2p"),i=oS("b3AtY"),o=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise(function(t,o){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),n.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,o)}),this.key.catch(function(){}))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return(0,i.locateWindow)().crypto.subtle.sign(n.SHA_256_HMAC_ALGO,t,e.toHash).then(function(e){return new Uint8Array(e)})}):(0,r.isEmptyData)(this.toHash)?Promise.resolve(n.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,i.locateWindow)().crypto.subtle.digest(n.SHA_256_HASH,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e}();e.exports.Sha256=o}),oE("8XVZm",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=e.exports.numToUint8=e.exports.isEmptyData=e.exports.convertToBuffer=void 0;var r=oS("j519d");Object.defineProperty(e.exports,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var n=oS("7aVm5");Object.defineProperty(e.exports,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var i=oS("lBxdf");Object.defineProperty(e.exports,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var o=oS("3vXlk");Object.defineProperty(e.exports,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})}),oE("j519d",function(e,t){var r=oS("6ZWSX").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.convertToBuffer=void 0;var n=oS("f5Ly5"),i=void 0!==r&&r.from?function(e){return r.from(e,"utf8")}:n.fromUtf8;e.exports.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}),oE("6ZWSX",function(t,r){e(t.exports,"Buffer",()=>n,e=>n=e),e(t.exports,"INSPECT_MAX_BYTES",()=>i,e=>i=e);var n,i,o=oS("kuxul"),s=oS("9NvM5");let a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function u(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|y(e,t),n=u(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(B(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);let i=function(e){var t;if(c.isBuffer(e)){let t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){let t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),c.prototype),n}function g(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var i,s;return i=t,s=r,0===i&&s===this.length?o.fromByteArray(this):o.fromByteArray(this.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}function S(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function E(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function A(e,t,r,n,i){U(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function x(e,t,r,n,i){U(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function _(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,n,i){return t=+t,r>>>=0,i||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,i){return t=+t,r>>>=0,i||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,r,n,52,8),r+8}n=c,i=50,c.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return(f(e),e<=0)?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(B(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(B(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(c.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?S(this,0,e):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="",t=i;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(B(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){var i,o,s,a,u,c,l,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,j(N(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,j(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,j(D(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,j(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=z(function(e){L(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&M(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=z(function(e){L(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&M(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=z(function(e){L(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&M(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),c.prototype.readBigInt64BE=z(function(e){L(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&M(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),s.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),s.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;C(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;C(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=z(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=z(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=z(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=z(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let I={};function T(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function O(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function U(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new I.ERR_OUT_OF_RANGE("value",n,e)}L(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&M(i,n.length-(o+1))}function L(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function M(e,t,r){if(Math.floor(e)!==e)throw L(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let R=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function D(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function z(e){return"undefined"==typeof BigInt?K:e}function K(){throw Error("BigInt not supported")}}),oE("kuxul",function(t,r){e(t.exports,"toByteArray",()=>n,e=>n=e),e(t.exports,"fromByteArray",()=>i,e=>i=e),n=function(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),i=n[0],o=n[1],u=new a((i+o)*3/4-o),c=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},i=function(e){for(var t,r=e.length,n=r%3,i=[],s=0,a=r-n;s<a;s+=16383)i.push(function(e,t,r){for(var n,i=[],s=t;s<r;s+=3)i.push(o[(n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]);return i.join("")}(e,s,s+16383>a?a:s+16383));return 1===n?i.push(o[(t=e[r-1])>>2]+o[t<<4&63]+"=="):2===n&&i.push(o[(t=(e[r-2]<<8)+e[r-1])>>10]+o[t>>4&63]+o[t<<2&63]+"="),i.join("")};for(var n,i,o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],s[u.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}),oE("9NvM5",function(t,r){var n,i;e(t.exports,"read",()=>n,e=>n=e),e(t.exports,"write",()=>i,e=>i=e),n=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},i=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?5960464477539062e-23:0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*g}}),oE("7aVm5",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}}),oE("lBxdf",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.numToUint8=void 0,e.exports.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}}),oE("3vXlk",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=void 0,e.exports.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}}),oE("43ZGj",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),(0,oS("fo9tD").__exportStar)(oS("ap24y"),e.exports)}),oE("fo9tD",function(t,r){function n(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function i(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function o(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}e(t.exports,"__awaiter",()=>n),e(t.exports,"__generator",()=>i),e(t.exports,"__exportStar",()=>o)}),oE("ap24y",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var r=oS("fo9tD"),n=oS("gHUYh"),i=oS("slA5K"),o=oS("8XVZm"),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,o.convertToBuffer)(e);if(t.byteLength>n.BLOCK_SIZE){var r=new i.RawSha256;r.update(t),t=r.digest()}var s=new Uint8Array(n.BLOCK_SIZE);return s.set(t),s}(e),r=new Uint8Array(n.BLOCK_SIZE);r.set(t);for(var s=0;s<n.BLOCK_SIZE;s++)t[s]^=54,r[s]^=92;this.hash.update(t),this.outer.update(r);for(var s=0;s<t.byteLength;s++)t[s]=0}}return e.prototype.update=function(e){if(!(0,o.isEmptyData)(e)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return[2,this.digestSync()]})})},e}();e.exports.Sha256=s}),oE("gHUYh",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MAX_HASHABLE_LENGTH=e.exports.INIT=e.exports.KEY=e.exports.DIGEST_LENGTH=e.exports.BLOCK_SIZE=void 0,e.exports.BLOCK_SIZE=64,e.exports.DIGEST_LENGTH=32,e.exports.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.exports.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.exports.MAX_HASHABLE_LENGTH=9007199254740991}),oE("slA5K",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RawSha256=void 0;var r=oS("gHUYh"),n=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(r.DIGEST_LENGTH),i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();e.exports.RawSha256=n}),oE("ev7Sh",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),oS("kzTHY").__exportStar(oS("kxobH"),e.exports)}),oE("kzTHY",function(t,r){function n(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function i(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function o(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}e(t.exports,"__awaiter",()=>n),e(t.exports,"__generator",()=>i),e(t.exports,"__exportStar",()=>o)}),oE("kxobH",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.supportsZeroByteGCM=e.exports.supportsSubtleCrypto=e.exports.supportsSecureRandom=e.exports.supportsWebCrypto=void 0;var r=oS("kzTHY"),n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function o(e){return e&&n.every(function(t){return"function"==typeof e[t]})}e.exports.supportsWebCrypto=function(e){return!!i(e)&&"object"==typeof e.crypto.subtle&&o(e.crypto.subtle)},e.exports.supportsSecureRandom=i,e.exports.supportsSubtleCrypto=o,e.exports.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(r){switch(r.label){case 0:if(!o(e))return[2,!1];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=r.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===r.sent().byteLength];case 4:return r.sent(),[2,!1];case 5:return[2]}})})}}),oE("5J2Ch",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var r=oS("eQfwo");r.__exportStar(oS("eMy2l"),e.exports),r.__exportStar(oS("inKXX"),e.exports),r.__exportStar(oS("cNnlx"),e.exports),r.__exportStar(oS("8ShfB"),e.exports),r.__exportStar(oS("5zgQn"),e.exports)}),oE("eQfwo",function(t,r){e(t.exports,"__exportStar",()=>n);function n(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}}),oE("eMy2l",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),oE("inKXX",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),oE("cNnlx",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),oE("8ShfB",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),oE("5zgQn",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isMsWindow=void 0;var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];e.exports.isMsWindow=function(e){if("MSInputMethodContext"in e&&"msCrypto"in e&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map(function(e){return i[e]}).concat(n).every(function(e){return"function"==typeof e})}return!1}}),oE("3OBZa",function(e,t){var r;r=function(){var e=e||function(e,t){if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==ov&&ov.crypto&&(r=ov.crypto),!r)try{r=oS("kjyEk")}catch(e){}var r,n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=a.extend({init:function(e,r){e=this.words=e||[],r!=t?this.sigBytes=r:this.sigBytes=4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new u.init(t,e)}}),c=o.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=s)this._doProcessBlock(i,f);r=i.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=o.algo={};return o}(Math);return e},e.exports=r()}),oE("kjyEk",function(e,t){}),oE("dOqqi",function(e,t){var r;r=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},e.exports=r(oS("3OBZa"))}),oE("dCBbD",function(e,t){var r;r=function(e){var t,r,n,i,o,s,a,u,c;return t=Math,n=(r=e.lib).WordArray,i=r.Hasher,o=e.algo,s=[],a=[],function(){function e(e){return(e-(0|e))*4294967296|0}for(var r=2,n=0;n<64;)(function(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0})(r)&&(n<8&&(s[n]=e(t.pow(r,.5))),a[n]=e(t.pow(r,1/3)),n++),r++}(),u=[],c=o.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],c=r[4],l=r[5],f=r[6],d=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=u[h-2],v=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;u[h]=g+u[h-7]+v+u[h-16]}var m=c&l^~c&f,b=n&i^n&o^i&o,w=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),S=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+m+a[h]+u[h],E=w+b;d=f,f=l,l=c,c=s+S|0,s=o,o=i,i=n,n=S+E|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=t.floor(n/4294967296),r[(i+64>>>9<<4)+15]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA256=i._createHelper(c),e.HmacSHA256=i._createHmacHelper(c),e.SHA256},e.exports=r(oS("3OBZa"))}),oE("WS9F7",function(e,t){var r;r=function(e){return e.HmacSHA256},e.exports=r(oS("3OBZa"),oS("dCBbD"),oS("6gSsW"))}),oE("6gSsW",function(e,t){var r;r=function(e){var t,r;t=e.lib.Base,r=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},e.exports=r(oS("3OBZa"))}),oE("33Dov",function(e,t){var r;r=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var r=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(r=a)}return function(e,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return t.create(i,o)}(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},e.exports=r(oS("3OBZa"))}),oE("laOt8",function(t,r){function n(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase() in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){o.push(t=t.toLowerCase()),s.push([t,r]),a[t]=a[t]?a[t]+","+r:r}),r(u())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})}Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",()=>n)}),oE("biuEp",function(e,t){var r=oS("dBHwk");function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),u=["%","/","?",";","#"].concat(a),c=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=oS("2rasJ");function y(e,t,r){if(e&&"object"==typeof e&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}n.prototype.parse=function(e,t,n){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),y=-1!==o&&o<e.indexOf("#")?"?":"#",v=e.split(y);v[0]=v[0].replace(/\\/g,"/");var m=e=v.join(y);if(m=m.trim(),!n&&1===e.split("#").length){var b=s.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],t?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=i.exec(m);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,m=m.substr(w.length)}if(n||w||m.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===m.substr(0,2);E&&!(w&&h[w])&&(m=m.substr(2),this.slashes=!0)}if(!h[w]&&(E||w&&!p[w])){for(var C,A,x=-1,_=0;_<c.length;_++){var k=m.indexOf(c[_]);-1!==k&&(-1===x||k<x)&&(x=k)}-1!==(A=-1===x?m.lastIndexOf("@"):m.lastIndexOf("@",x))&&(C=m.slice(0,A),m=m.slice(A+1),this.auth=decodeURIComponent(C)),x=-1;for(var _=0;_<u.length;_++){var k=m.indexOf(u[_]);-1!==k&&(-1===x||k<x)&&(x=k)}-1===x&&(x=m.length),this.host=m.slice(0,x),m=m.slice(x),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),_=0,T=I.length;_<T;_++){var O=I[_];if(O&&!O.match(l)){for(var U="",L=0,M=O.length;L<M;L++)O.charCodeAt(L)>127?U+="x":U+=O[L];if(!U.match(l)){var R=I.slice(0,_),N=I.slice(_+1),D=O.match(f);D&&(R.push(D[1]),N.unshift(D[2])),N.length&&(m="/"+N.join(".")+m),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!d[S])for(var _=0,T=a.length;_<T;_++){var F=a[_];if(-1!==m.indexOf(F)){var z=encodeURIComponent(F);z===F&&(z=escape(F)),m=m.split(F).join(z)}}var K=m.indexOf("#");-1!==K&&(this.hash=m.substr(K),m=m.slice(0,K));var q=m.indexOf("?");if(-1!==q?(this.search=m.substr(q),this.query=m.substr(q+1),t&&(this.query=g.parse(this.query)),m=m.slice(0,q)):t&&(this.search="",this.query={}),m&&(this.pathname=m),p[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",H=this.search||"";this.path=j+H}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||p[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},n.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if("string"==typeof e){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(r[c]=e[c])}return p[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!p[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var d=l[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||h[e.protocol])r.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",v=r.search||"";r.path=y+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||m||r.host&&e.pathname,S=w,E=r.pathname&&r.pathname.split("/")||[],g=e.pathname&&e.pathname.split("/")||[],C=r.protocol&&!p[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),w=w&&(""===g[0]||""===E[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=g;else if(g.length)E||(E=[]),E.pop(),E=E.concat(g),r.search=e.search,r.query=e.query;else if(null!=e.search){if(C){r.host=E.shift(),r.hostname=r.host;var A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=E.slice(-1)[0],_=(r.host||e.host||E.length>1)&&("."===x||".."===x)||""===x,k=0,P=E.length;P>=0;P--)"."===(x=E[P])?E.splice(P,1):".."===x?(E.splice(P,1),k++):k&&(E.splice(P,1),k--);if(!w&&!S)for(;k--;k)E.unshift("..");w&&""!==E[0]&&(!E[0]||"/"!==E[0].charAt(0))&&E.unshift(""),_&&"/"!==E.join("/").substr(-1)&&E.push("");var I=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(C){r.hostname=I?"":E.length?E.shift():"",r.host=r.hostname;var A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return(w=w||r.host&&E.length)&&!I&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return("string"==typeof e&&(e=y(e)),e instanceof n)?e.format():n.prototype.format.call(e)},t.Url=n}),oE("dBHwk",function(e,t){!function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o="object"==typeof ov&&ov;(o.global===o||o.window===o||o.self===o)&&(r=o);var s,a,u=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function p(e){throw RangeError(f[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(l,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function m(e){return g(e,function(e){var t="";return e>65535&&(e-=65536,t+=h(e>>>10&1023|55296),e=56320|1023&e),t+=h(e)}).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))}function S(e){var t,r,n,i,o,s,a,u,c,l,f,h=[],g=e.length,y=0,v=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),h.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<g;){for(s=y,a=1,u=36;o>=g&&p("invalid-input"),((c=(t=e.charCodeAt(o++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||c>d((2147483647-y)/a))&&p("overflow"),y+=c*a,!(c<(l=u<=b?1:u>=b+26?26:u-b));u+=36)a>d(2147483647/(f=36-l))&&p("overflow"),a*=f;b=w(y-s,r=h.length+1,0==s),d(y/r)>2147483647-v&&p("overflow"),v+=d(y/r),y%=r,h.splice(y++,0,v)}return m(h)}function E(e){var t,r,n,i,o,s,a,u,c,l,f,g,y,m,S,E=[];for(s=0,g=(e=v(e)).length,t=128,r=0,o=72;s<g;++s)(f=e[s])<128&&E.push(h(f));for(n=i=E.length,i&&E.push("-");n<g;){for(a=2147483647,s=0;s<g;++s)(f=e[s])>=t&&f<a&&(a=f);for(a-t>d((2147483647-r)/(y=n+1))&&p("overflow"),r+=(a-t)*y,t=a,s=0;s<g;++s)if((f=e[s])<t&&++r>2147483647&&p("overflow"),f==t){for(u=r,c=36;!(u<(l=c<=o?1:c>=o+26?26:c-o));c+=36)S=u-l,m=36-l,E.push(h(b(l+S%m,0))),u=d(S/m);E.push(h(b(u,0))),o=w(r,y,n==i),r=0,++n}++r,++t}return E.join("")}if(s={version:"1.4.1",ucs2:{decode:v,encode:m},decode:S,encode:E,toASCII:function(e){return y(e,function(e){return c.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return y(e,function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return s});else if(n&&i){if(e.exports==n)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a])}else r.punycode=s}(this)}),oE("2rasJ",function(e,t){var r=oS("jJyEy"),n=oS("cfYIz"),i=oS("i1Gbt");e.exports={formats:i,parse:n,stringify:r}}),oE("jJyEy",function(e,t){var r=oS("LlIML"),n=oS("iBfJ5"),i=oS("i1Gbt"),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h={},p=function e(t,i,o,s,u,l,f,p,g,y,v,m,b,w,S,E,C,A){for(var x,_,k=t,P=A,I=0,T=!1;void 0!==(P=P.get(h))&&!T;){var O=P.get(t);if(I+=1,void 0!==O){if(O===I)throw RangeError("Cyclic object value");T=!0}void 0===P.get(h)&&(I=0)}if("function"==typeof y?k=y(i,k):k instanceof Date?k=b(k):"comma"===o&&a(k)&&(k=n.maybeMap(k,function(e){return e instanceof Date?b(e):e})),null===k){if(l)return g&&!E?g(i,d.encoder,C,"key",w):i;k=""}if("string"==typeof(x=k)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||n.isBuffer(k))return g?[S(E?i:g(i,d.encoder,C,"key",w))+"="+S(g(k,d.encoder,C,"value",w))]:[S(i)+"="+S(String(k))];var U=[];if(void 0===k)return U;if("comma"===o&&a(k))E&&g&&(k=n.maybeMap(k,g)),_=[{value:k.length>0?k.join(",")||null:void 0}];else if(a(y))_=y;else{var L=Object.keys(k);_=v?L.sort(v):L}var M=p?i.replace(/\./g,"%2E"):i,R=s&&a(k)&&1===k.length?M+"[]":M;if(u&&a(k)&&0===k.length)return R+"[]";for(var N=0;N<_.length;++N){var D=_[N],j="object"==typeof D&&void 0!==D.value?D.value:k[D];if(!f||null!==j){var B=m&&p?D.replace(/\./g,"%2E"):D,F=a(k)?"function"==typeof o?o(R,B):R:R+(m?"."+B:"["+B+"]");A.set(t,I);var z=r();z.set(h,A),c(U,e(j,F,o,s,u,l,f,p,"comma"===o&&E&&a(k)?null:g,y,v,m,b,w,S,E,C,z))}}return U},g=function(e){if(!e)return d;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!o.call(i.formatters,e.format))throw TypeError("Unknown format option provided.");n=e.format}var u=i.formatters[n],c=d.filter;if(("function"==typeof e.filter||a(e.filter))&&(c=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":d.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||d.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:d.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:d.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:c,format:n,formatter:u,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var n,i=e,o=g(t);"function"==typeof o.filter?i=(0,o.filter)("",i):a(o.filter)&&(n=o.filter);var u=[];if("object"!=typeof i||null===i)return"";var l=s[o.arrayFormat],f="comma"===l&&o.commaRoundTrip;n||(n=Object.keys(i)),o.sort&&n.sort(o.sort);for(var d=r(),h=0;h<n.length;++h){var y=n[h];o.skipNulls&&null===i[y]||c(u,p(i[y],y,l,f,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}var v=u.join(o.delimiter),m=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),v.length>0?m+v:""}}),oE("LlIML",function(e,t){var r=oS("1zENl"),n=oS("hXu6F"),i=oS("e7DLx"),o=oS("eEkyn"),s=r("%WeakMap%",!0),a=r("%Map%",!0),u=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),l=n("WeakMap.prototype.has",!0),f=n("Map.prototype.get",!0),d=n("Map.prototype.set",!0),h=n("Map.prototype.has",!0),p=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},g=function(e,t){var r=p(e,t);return r&&r.value},y=function(e,t,r){var n=p(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new o("Side channel does not contain "+i(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(a){if(t)return f(t,n)}else if(r)return g(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return l(e,n)}else if(a){if(t)return h(t,n)}else if(r)return!!p(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),c(e,n,i)):a?(t||(t=new a),d(t,n,i)):(r||(r={key:{},next:null}),y(r,n,i))}};return n}}),oE("1zENl",function(e,t){var r=oS("5A49f"),n=oS("hDtVy"),i=oS("9RC8m"),o=oS("2BaZq"),s=oS("5Ox6r"),a=oS("eEkyn"),u=oS("hFSMY"),c=Function,l=function(e){try{return c('"use strict"; return ('+e+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(e){f=null}var d=function(){throw new a},h=f?function(){try{return arguments.callee,d}catch(e){try{return f(arguments,"callee").get}catch(e){return d}}}():d,p=oS("24qIq")(),g=oS("dSRh6")(),y=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),v={},m="undefined"!=typeof Uint8Array&&y?y(Uint8Array):void 0,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":p&&y?y([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&y?y(y([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&y?y(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&y?y(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&y?y(""[Symbol.iterator]()):void 0,"%Symbol%":p?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":h,"%TypedArray%":m,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(y)try{null.error}catch(e){var w=y(y(e));b["%Error.prototype%"]=w}var S=function e(t){var r;if("%AsyncFunction%"===t)r=l("async function () {}");else if("%GeneratorFunction%"===t)r=l("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=l("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&y&&(r=y(i.prototype))}return b[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=oS("gvair"),A=oS("4c4Ky"),x=C.call(Function.call,Array.prototype.concat),_=C.call(Function.apply,Array.prototype.splice),k=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),I=C.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,U=function(e){var t=P(e,0,1),r=P(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return k(e,T,function(e,t,r,i){n[n.length]=r?k(i,O,"$1"):t||e}),n},L=function(e,t){var r,n=e;if(A(E,n)&&(n="%"+(r=E[n])[0]+"%"),A(b,n)){var i=b[n];if(i===v&&(i=S(n)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=U(e),n=r.length>0?r[0]:"",i=L("%"+n+"%",t),o=i.name,u=i.value,c=!1,l=i.alias;l&&(n=l[0],_(r,x([0,1],l)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],g=P(p,0,1),y=P(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&h||(c=!0),n+="."+p,A(b,o="%"+n+"%"))u=b[o];else if(null!=u){if(!(p in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(f&&d+1>=r.length){var v=f(u,p);u=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else h=A(u,p),u=u[p];h&&!c&&(b[o]=u)}}return u}}),oE("5A49f",function(e,t){e.exports=Error}),oE("hDtVy",function(e,t){e.exports=EvalError}),oE("9RC8m",function(e,t){e.exports=RangeError}),oE("2BaZq",function(e,t){e.exports=ReferenceError}),oE("5Ox6r",function(e,t){e.exports=SyntaxError}),oE("eEkyn",function(e,t){e.exports=TypeError}),oE("hFSMY",function(e,t){e.exports=URIError}),oE("24qIq",function(e,t){var r="undefined"!=typeof Symbol&&Symbol,n=oS("7YWkK");e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}}),oE("7YWkK",function(e,t){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}}),oE("dSRh6",function(e,t){var r={__proto__:null,foo:{}},n=Object;e.exports=function(){return({__proto__:r}).foo===r.foo&&!(r instanceof n)}}),oE("gvair",function(e,t){var r=oS("kAGnA");e.exports=Function.prototype.bind||r}),oE("kAGnA",function(e,t){var r=Object.prototype.toString,n=Math.max,i=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},o=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},s=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var t,a=this;if("function"!=typeof a||"[object Function]"!==r.apply(a))throw TypeError("Function.prototype.bind called on incompatible "+a);for(var u=o(arguments,1),c=n(0,a.length-u.length),l=[],f=0;f<c;f++)l[f]="$"+f;if(t=Function("binder","return function ("+s(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof t){var r=a.apply(this,i(u,arguments));return Object(r)===r?r:this}return a.apply(e,i(u,arguments))}),a.prototype){var d=function(){};d.prototype=a.prototype,t.prototype=new d,d.prototype=null}return t}}),oE("4c4Ky",function(e,t){var r=Function.prototype.call,n=Object.prototype.hasOwnProperty,i=oS("gvair");e.exports=i.call(r,n)}),oE("hXu6F",function(e,t){var r=oS("1zENl"),n=oS("cOB0F"),i=n(r("String.prototype.indexOf"));e.exports=function(e,t){var o=r(e,!!t);return"function"==typeof o&&i(e,".prototype.")>-1?n(o):o}}),oE("cOB0F",function(e,t){var r=oS("gvair"),n=oS("1zENl"),i=oS("BPe9e"),o=oS("eEkyn"),s=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||r.call(a,s),c=oS("jAy3M"),l=n("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var t=u(r,a,arguments);return i(t,1+l(0,e.length-(arguments.length-1)),!0)};var f=function(){return u(r,s,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f}),oE("BPe9e",function(e,t){var r=oS("1zENl"),n=oS("5FEEt"),i=oS("i16wS")(),o=oS("dYOee"),s=oS("eEkyn"),a=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||a(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in e&&o){var l=o(e,"length");l&&!l.configurable&&(u=!1),l&&!l.writable&&(c=!1)}return(u||c||!r)&&(i?n(e,"length",t,!0,!0):n(e,"length",t)),e}}),oE("5FEEt",function(e,t){var r=oS("jAy3M"),n=oS("5Ox6r"),i=oS("eEkyn"),o=oS("dYOee");e.exports=function(e,t,s){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],f=!!o&&o(e,t);if(r)r(e,t,{configurable:null===c&&f?f.configurable:!c,enumerable:null===a&&f?f.enumerable:!a,value:s,writable:null===u&&f?f.writable:!u});else if(!l&&(a||u||c))throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=s}}),oE("jAy3M",function(e,t){var r=oS("1zENl")("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r}),oE("dYOee",function(e,t){var r=oS("1zENl")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r}),oE("i16wS",function(e,t){var r=oS("jAy3M"),n=function(){return!!r};n.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=n}),oE("e7DLx",function(e,t){var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&n&&"function"==typeof n.get?n.get:null,o=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&a&&"function"==typeof a.get?a.get:null,c=s&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,p=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,m=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,C=Array.prototype.join,A=Array.prototype.slice,x=Math.floor,_="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I?"object":"symbol")?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,U=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-x(-e):x(e);if(n!==e){var i=String(n),o=v.call(t,i.length+1);return m.call(i,r,"$&_")+"."+m.call(m.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(t,r,"$&_")}var M=oS("kjyEk"),R=M.custom,N=F(R)?R:null;function D(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function j(e){return"[object Array]"===q(e)&&(!T||!("object"==typeof e&&T in e))}function B(e){return"[object RegExp]"===q(e)&&(!T||!("object"==typeof e&&T in e))}function F(e){if(I)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,s){var a=r||{};if(K(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(K(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=!K(a,"customInspect")||a.customInspect;if("boolean"!=typeof p&&"symbol"!==p)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(a,"indent")&&null!==a.indent&&"	"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(v.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}return D(m.call(m.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",r)}(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return b?L(t,S):S}if("bigint"==typeof t){var x=String(t)+"n";return b?L(t,x):x}var k=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=k&&k>0&&"object"==typeof t)return j(t)?"[Array]":"[Object]";var R=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=C.call(Array(e.indent+1)," ")}return{base:r,prev:C.call(Array(t+1),r)}}(a,n);if(void 0===s)s=[];else if(H(s,t)>=0)return"[Circular]";function z(t,r,i){if(r&&(s=A.call(s)).push(r),i){var o={depth:a.depth};return K(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),e(t,o,n+1,s)}return e(t,a,n+1,s)}if("function"==typeof t&&!B(t)){var Z=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),X=J(t,z);return"[Function"+(Z?": "+Z:" (anonymous)")+"]"+(X.length>0?" { "+C.call(X,", ")+" }":"")}if(F(t)){var Q=I?m.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!=typeof t||I?Q:G(Q)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var ee,et="<"+w.call(String(t.nodeName)),er=t.attributes||[],en=0;en<er.length;en++)et+=" "+er[en].name+"="+D((ee=er[en].value,m.call(String(ee),/"/g,"&quot;")),"double",a);return et+=">",t.childNodes&&t.childNodes.length&&(et+="..."),et+="</"+w.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var ei=J(t,z);return R&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(ei)?"["+Y(ei,R)+"]":"[ "+C.call(ei,", ")+" ]"}if("[object Error]"===q(t)&&(!T||!("object"==typeof t&&T in t))){var eo=J(t,z);return"cause"in Error.prototype||!("cause"in t)||O.call(t,"cause")?0===eo.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(eo,", ")+" }":"{ ["+String(t)+"] "+C.call(E.call("[cause]: "+z(t.cause),eo),", ")+" }"}if("object"==typeof t&&p){if(N&&"function"==typeof t[N]&&M)return M(t,{depth:k-n});if("symbol"!==p&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var es=[];return o&&o.call(t,function(e,r){es.push(z(r,t,!0)+" => "+z(e,t))}),$("Map",i.call(t),es,R)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ea=[];return c&&c.call(t,function(e){ea.push(z(e,t))}),$("Set",u.call(t),ea,R)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e,l);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return W("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{l.call(e,l)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return W("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return W("WeakRef");if("[object Number]"===q(t)&&(!T||!("object"==typeof t&&T in t)))return G(z(Number(t)));if(function(e){if(!e||"object"!=typeof e||!_)return!1;try{return _.call(e),!0}catch(e){}return!1}(t))return G(z(_.call(t)));if("[object Boolean]"===q(t)&&(!T||!("object"==typeof t&&T in t)))return G(h.call(t));if("[object String]"===q(t)&&(!T||!("object"==typeof t&&T in t)))return G(z(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==ov&&t===ov)return"{ [object globalThis] }";if(!("[object Date]"===q(t)&&(!T||!("object"==typeof t&&T in t)))&&!B(t)){var eu=J(t,z),ec=U?U(t)===Object.prototype:t instanceof Object||t.constructor===Object,el=t instanceof Object?"":"null prototype",ef=!ec&&T&&Object(t)===t&&T in t?v.call(q(t),8,-1):el?"Object":"",ed=(ec||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ef||el?"["+C.call(E.call([],ef||[],el||[]),": ")+"] ":"");return 0===eu.length?ed+"{}":R?ed+"{"+Y(eu,R)+"}":ed+"{ "+C.call(eu,", ")+" }"}return String(t)};var z=Object.prototype.hasOwnProperty||function(e){return e in this};function K(e,t){return z.call(e,t)}function q(e){return p.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function V(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function G(e){return"Object("+e+")"}function W(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?Y(r,n):C.call(r,", "))+"}"}function Y(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+C.call(e,","+r)+"\n"+t.prev}function J(e,t){var r,n=j(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=K(e,o)?t(e[o],e):""}var s="function"==typeof k?k(e):[];if(I){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var u in e)if(K(e,u)&&(!n||String(Number(u))!==u||!(u<e.length))){if(I&&r["$"+u]instanceof Symbol)continue;S.call(/[^\w$]/,u)?i.push(t(u,e)+": "+t(e[u],e)):i.push(u+": "+t(e[u],e))}if("function"==typeof k)for(var c=0;c<s.length;c++)O.call(e,s[c])&&i.push("["+t(s[c])+"]: "+t(e[s[c]],e));return i}}),oE("iBfJ5",function(e,t){var r=oS("i1Gbt"),n=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],l=o[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:o,prop:c}),r.push(l))}return s(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,n,i,s){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<a.length;c+=1024){for(var l=a.length>=1024?a.slice(c,c+1024):a,f=[],d=0;d<l.length;++d){var h=l.charCodeAt(d);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===r.RFC1738&&(40===h||41===h)){f[f.length]=l.charAt(d);continue}if(h<128){f[f.length]=o[h];continue}if(h<2048){f[f.length]=o[192|h>>6]+o[128|63&h];continue}if(h<55296||h>=57344){f[f.length]=o[224|h>>12]+o[128|h>>6&63]+o[128|63&h];continue}d+=1,h=65536+((1023&h)<<10|1023&l.charCodeAt(d)),f[f.length]=o[240|h>>18]+o[128|h>>12&63]+o[128|h>>6&63]+o[128|63&h]}u+=f.join("")}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return(i(t)&&!i(r)&&(s=a(t,o)),i(t)&&i(r))?(r.forEach(function(r,i){if(n.call(t,i)){var s=t[i];s&&"object"==typeof s&&r&&"object"==typeof r?t[i]=e(s,r,o):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var s=r[i];return n.call(t,i)?t[i]=e(t[i],s,o):t[i]=s,t},s)}}}),oE("i1Gbt",function(e,t){var r=String.prototype.replace,n=/%20/g,i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return r.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:i}}),oE("cfYIz",function(e,t){var r=oS("iBfJ5"),n=Object.prototype.hasOwnProperty,i=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},a=function(e,t){var a={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=t.parameterLimit===1/0?void 0:t.parameterLimit,l=u.split(t.delimiter,c),f=-1,d=t.charset;if(t.charsetSentinel)for(h=0;h<l.length;++h)0===l[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[h]?d="utf-8":"utf8=%26%2310003%3B"===l[h]&&(d="iso-8859-1"),f=h,h=l.length);for(h=0;h<l.length;++h)if(h!==f){var h,p,g,y=l[h],v=y.indexOf("]="),m=-1===v?y.indexOf("="):v+1;-1===m?(p=t.decoder(y,o.decoder,d,"key"),g=t.strictNullHandling?null:""):(p=t.decoder(y.slice(0,m),o.decoder,d,"key"),g=r.maybeMap(s(y.slice(m+1),t),function(e){return t.decoder(e,o.decoder,d,"value")})),g&&t.interpretNumericEntities&&"iso-8859-1"===d&&(g=g.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),y.indexOf("[]=")>-1&&(g=i(g)?[g]:g);var b=n.call(a,p);b&&"combine"===t.duplicates?a[p]=r.combine(a[p],g):b&&"last"!==t.duplicates||(a[p]=g)}return a},u=function(e,t,r,n){for(var i=n?t:s(t,r),o=e.length-1;o>=0;--o){var a,u=e[o];if("[]"===u&&r.parseArrays)a=r.allowEmptyArrays&&(""===i||r.strictNullHandling&&null===i)?[]:[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,f=parseInt(l,10);r.parseArrays||""!==l?!isNaN(f)&&u!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[])[f]=i:"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i},c=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,l=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}for(var f=0;r.depth>0&&null!==(a=s.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}if(a){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");l.push("["+o.slice(a.index)+"]")}return u(l,t,r,i)}},l=function(e){if(!e)return o;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset,n=void 0===e.duplicates?o.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||o.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:o.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var n=l(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?a(e,n):e,o=n.plainObjects?Object.create(null):{},s=Object.keys(i),u=0;u<s.length;++u){var f=s[u],d=c(f,i[f],n,"string"==typeof e);o=r.merge(o,d,n)}return!0===n.allowSparse?o:r.compact(o)}}),oE("9CiNR",function(t,r){e(t.exports,"convert2nimn",()=>l,e=>l=e);let n=function(e){return String.fromCharCode(e)},i={nilChar:n(176),missingChar:n(201),nilPremitive:n(175),missingPremitive:n(200),emptyChar:n(178),emptyValue:n(177),boundryChar:n(179),objStart:n(198),arrStart:n(204),arrayEnd:n(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function(e,t,r){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?a(e[0].val,t):a(e,t);{var n;let o=void 0===(n=e)?i.missingChar:null===n?i.nilChar:!n.child||0!==Object.keys(n.child).length||!!n.attrsMap&&0!==Object.keys(n.attrsMap).length||i.emptyChar;if(!0!==o)return o;{let n="";if(Array.isArray(t)){n+=i.arrStart;let o=t[0],c=e.length;if("string"==typeof o)for(let t=0;t<c;t++)n=u(n,a(e[t].val,o));else for(let t=0;t<c;t++)n=u(n,s(e[t],o,r));n+=i.arrayEnd}else{n+=i.objStart;let o=Object.keys(t);for(let i in Array.isArray(e)&&(e=e[0]),o){let a=o[i];n=u(n,!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?s(e.attrsMap[a],t[a],r):a===r.textNodeName?s(e.val,t[a],r):s(e.child[a],t[a],r))}}return n}}},a=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return -1!==o.indexOf(e)};var l,f=oS("21YsA"),d=oS("l8rQG").buildOptions;l=function(e,t,r){return s(e,t,r=d(r,f.defaultOptions,f.props))}}),oE("21YsA",function(t,r){e(t.exports,"defaultOptions",()=>n,e=>n=e),e(t.exports,"props",()=>i,e=>i=e),e(t.exports,"getTraversalObj",()=>o,e=>o=e);var n,i,o,s=(oS("l8rQG"),oS("l8rQG")),a=s.buildOptions,u=oS("ji8Zv"),c=oS("fLtYL");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,s.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);let l={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};n=l;let f=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function d(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=h(t=r.tagValueProcessor(t,e),r.parseNodeValue,r.numParseOptions)),t}function h(e,t,r){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&c(e,r)}return s.isExist(e)?e:""}i=f;let p=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function g(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");let r=s.getAllMatches(e,p),n=r.length,i={};for(let e=0;e<n;e++){let n=function(e,t){if(t.ignoreNameSpace){let t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}(r[e][1],t);n.length&&(void 0!==r[e][4]?(t.trimValues&&(r[e][4]=r[e][4].trim()),r[e][4]=t.attrValueProcessor(r[e][4],n),i[t.attributeNamePrefix+n]=h(r[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+n]=!0))}if(Object.keys(i).length){if(t.attrNodeName){let e={};return e[t.attrNodeName]=i,e}return i}}}function y(e,t,r,n){let i=e.indexOf(t,r);if(-1!==i)return i+t.length-1;throw Error(n)}o=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=a(t,l,f);let r=new u("!xml"),n=r,i="";for(let r=0;r<e.length;r++)if("<"===e[r]){if("/"===e[r+1]){let o=y(e,">",r,"Closing Tag is not closed."),a=e.substring(r+2,o).trim();if(t.ignoreNameSpace){let e=a.indexOf(":");-1!==e&&(a=a.substr(e+1))}n&&(n.val?n.val=s.getValue(n.val)+""+d(a,i,t):n.val=d(a,i,t)),t.stopNodes.length&&t.stopNodes.includes(n.tagname)&&(n.child=[],void 0==n.attrsMap&&(n.attrsMap={}),n.val=e.substr(n.startIndex+1,r-n.startIndex-1)),n=n.parent,i="",r=o}else if("?"===e[r+1])r=y(e,"?>",r,"Pi Tag is not closed.");else if("!--"===e.substr(r+1,3))r=y(e,"-->",r,"Comment is not closed.");else if("!D"===e.substr(r+1,2)){let t=y(e,">",r,"DOCTYPE is not closed.");r=e.substring(r,t).indexOf("[")>=0?e.indexOf("]>",r)+1:t}else if("!["===e.substr(r+1,2)){let o=y(e,"]]>",r,"CDATA is not closed.")-2,a=e.substring(r+9,o);if(i&&(n.val=s.getValue(n.val)+""+d(n.tagname,i,t),i=""),t.cdataTagName){let e=new u(t.cdataTagName,n,a);n.addChild(e),n.val=s.getValue(n.val)+t.cdataPositionChar,a&&(e.val=a)}else n.val=(n.val||"")+(a||"");r=o+2}else{let o=function(e,t){let r;let n="";for(let i=t;i<e.length;i++){let t=e[i];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else{if(">"===t)return{data:n,index:i};"	"===t&&(t=" ")}n+=t}}(e,r+1),a=o.data,c=o.index,l=a.indexOf(" "),f=a,h=!0;if(-1!==l&&(f=a.substr(0,l).replace(/\s\s*$/,""),a=a.substr(l+1)),t.ignoreNameSpace){let e=f.indexOf(":");-1!==e&&(h=(f=f.substr(e+1))!==o.data.substr(e+1))}if(n&&i&&"!xml"!==n.tagname&&(n.val=s.getValue(n.val)+""+d(n.tagname,i,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){a="/"===f[f.length-1]?f=f.substr(0,f.length-1):a.substr(0,a.length-1);let e=new u(f,n,"");f!==a&&(e.attrsMap=g(a,t)),n.addChild(e)}else{let e=new u(f,n);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=c),f!==a&&h&&(e.attrsMap=g(a,t)),n.addChild(e),n=e}i="",r=c}}else i+=e[r];return r}}),oE("l8rQG",function(t,r){var n,i,o,s,a,u,c,l,f;e(t.exports,"isExist",()=>n,e=>n=e),e(t.exports,"isEmptyObject",()=>i,e=>i=e),e(t.exports,"merge",()=>o,e=>o=e),e(t.exports,"getValue",()=>s,e=>s=e),e(t.exports,"buildOptions",()=>a,e=>a=e),e(t.exports,"isTagNameInArrayMode",()=>u,e=>u=e),e(t.exports,"isName",()=>c,e=>c=e),e(t.exports,"getAllMatches",()=>l,e=>l=e),e(t.exports,"nameRegexp",()=>f,e=>f=e);let d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h="["+d+"]["+d+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",p=RegExp("^"+h+"$");n=function(e){return void 0!==e},i=function(e){return 0===Object.keys(e).length},o=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let o=0;o<i;o++)"strict"===r?e[n[o]]=[t[n[o]]]:e[n[o]]=t[n[o]]}},s=function(e){return n(e)?e:""},a=function(e,t,r){let n={};if(!e)return t;for(let i=0;i<r.length;i++)void 0!==e[r[i]]?n[r[i]]=e[r[i]]:n[r[i]]=t[r[i]];return n},u=function(e,t,r){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,r):"strict"===t)},c=function(e){return null!=p.exec(e)},l=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let e=0;e<o;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r},f=h}),oE("ji8Zv",function(e,t){e.exports=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}}),oE("fLtYL",function(e,t){let r=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);let i={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,t={}){if(t=Object.assign({},i,t),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(o))return e;{if(t.hex&&r.test(o))return Number.parseInt(o,16);let i=n.exec(o);if(!i)return e;{var s;let r=i[1],n=i[2],a=((s=i[3])&&-1!==s.indexOf(".")&&("."===(s=s.replace(/0+$/,""))?s="0":"."===s[0]?s="0"+s:"."===s[s.length-1]&&(s=s.substr(0,s.length-1))),s),u=i[4]||i[6];if(!t.leadingZeros&&n.length>0&&r&&"."!==o[2])return e;{if(!t.leadingZeros&&n.length>0&&!r&&"."!==o[1])return e;let i=Number(o),s=""+i;return -1!==s.search(/[eE]/)||u?t.eNotation?i:e:-1!==o.indexOf(".")?"0"===s&&""===a?i:s===a?i:r&&s==="-"+a?i:e:n?a===s?i:r+a===s?i:e:o===s?i:o===r+s?i:e}}}}}),oE("ajMmB",function(t,r){e(t.exports,"convertToJsonString",()=>n,e=>n=e);var n,i=(oS("l8rQG"),oS("l8rQG")),o=i.buildOptions,s=oS("21YsA");let a=function(e,t,r){var n;let o="{",s=Object.keys(e.child);for(let r=0;r<s.length;r++){let n=s[r];if(e.child[n]&&e.child[n].length>1){for(let r in o+='"'+n+'" : [ ',e.child[n])o+=a(e.child[n][r],t)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+n+'" : '+a(e.child[n][0],t)+" ,"}return(i.merge(o,e.attrsMap),i.isEmptyObject(o))?i.isExist(e.val)?e.val:"":(i.isExist(e.val)&&!("string"==typeof e.val&&(""===e.val||e.val===t.cdataPositionChar))&&(o+='"'+t.textNodeName+'" : '+(!0!==(n=e.val)&&!1!==n&&isNaN(n)?'"'+n+'"':n)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}")};n=function(e,t){return(t=o(t,s.defaultOptions,s.props)).indentBy=t.indentBy||"",a(e,t,0)}}),oE("gnljR",function(e,t){var r=oS("l8rQG").buildOptions;let n={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},i=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function o(e){this.options=r(e,n,i),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=g:this.isCDATA=function(){return!1},this.replaceCDATAstr=a,this.replaceCDATAarr=u,this.processTextOrObjNode=s,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=d,this.buildObjNode=l):(this.buildTextNode=f,this.buildObjNode=c),this.buildTextValNode=f,this.buildObjectNode=c}function s(e,t,r){let n=this.j2x(e,r+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(n.val,t,n.attrStr,r):this.buildObjNode(n.val,t,n.attrStr,r)}function a(e,t){return(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function u(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function c(e,t,r,n){return r&&-1===e.indexOf("<")?this.indentate(n)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(n)+"<"+t+r+this.tagEndChar+e+this.indentate(n)+"</"+t+this.tagEndChar}function l(e,t,r,n){return""!==e?this.buildObjectNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function f(e,t,r,n){return this.indentate(n)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function d(e,t,r,n){return""!==e?this.buildTextValNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function h(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function g(e){return e===this.options.cdataTagName}o.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},o.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(void 0===e[i]);else if(null===e[i])n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){let o=this.isAttribute(i);o?r+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?n+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+e[i])):n+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i])){if(this.isCDATA(i))n+=this.indentate(t),e[this.options.textNodeName]?n+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAarr("",e[i]);else{let r=e[i].length;for(let o=0;o<r;o++){let r=e[i][o];void 0===r||(null===r?n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof r?n+=this.processTextOrObjNode(r,i,t):n+=this.buildTextNode(r,i,"",t))}}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){let t=Object.keys(e[i]),n=t.length;for(let o=0;o<n;o++)r+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}},e.exports=o}),oE("7we3r",function(e,t){var r=oS("gKvUL"),n=oS("jJbMR"),i=oS("ewFRw"),o=oS("lk5EI");function s(e){var t=new i(e),o=n(i.prototype.request,t);return r.extend(o,i.prototype,t),r.extend(o,t),o}var a=s(oS("lJY4v"));a.Axios=i,a.create=function(e){return s(o(a.defaults,e))},a.Cancel=oS("4Tkeq"),a.CancelToken=oS("lAKPy"),a.isCancel=oS("7L4QX"),a.all=function(e){return Promise.all(e)},a.spread=oS("JEeti"),a.isAxiosError=oS("dxy9O"),e.exports=a,e.exports.default=a}),oE("gKvUL",function(e,t){var r=oS("jJbMR"),n=Object.prototype.toString;function i(e){return"[object Array]"===n.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function a(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===n.call(e)}function c(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:a,isUndefined:o,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){a(t[n])&&a(r)?t[n]=e(t[n],r):a(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,n){return c(t,function(t,i){n&&"function"==typeof t?e[i]=r(t,n):e[i]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}),oE("jJbMR",function(e,t){e.exports=function(e,t){return function(){for(var r=Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}}),oE("ewFRw",function(e,t){var r=oS("gKvUL"),n=oS("cbIsf"),i=oS("83RYu"),o=oS("dlZEJ"),s=oS("lk5EI"),a=oS("bv3QM"),u=a.validators;function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,r=e.transitional;void 0!==r&&a.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!i){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(c),t=Promise.resolve(e);l.length;)t=t.then(l.shift(),l.shift());return t}for(var f=e;n.length;){var d=n.shift(),h=n.shift();try{f=d(f)}catch(e){h(e);break}}try{t=o(f)}catch(e){return Promise.reject(e)}for(;c.length;)t=t.then(c.shift(),c.shift());return t},c.prototype.getUri=function(e){return n((e=s(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}}),r.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}}),e.exports=c}),oE("cbIsf",function(e,t){var r=oS("gKvUL");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;if(i)o=i(t);else if(r.isURLSearchParams(t))o=t.toString();else{var o,s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))}))}),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}}),oE("83RYu",function(e,t){var r=oS("gKvUL");function n(){this.handlers=[]}n.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n}),oE("dlZEJ",function(e,t){var r=oS("gKvUL"),n=oS("7YJ0v"),i=oS("7L4QX"),o=oS("lJY4v");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return s(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!i(t)&&(s(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}}),oE("7YJ0v",function(e,t){var r=oS("gKvUL"),n=oS("lJY4v");e.exports=function(e,t,i){var o=this||n;return r.forEach(i,function(r){e=r.call(o,e,t)}),e}}),oE("lJY4v",function(e,t){var r,n=oS("hPtJY"),i=oS("gKvUL"),o=oS("kiL6T"),s=oS("8v8A7"),a={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?r=oS("at5cb"):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(r=oS("at5cb")),r),transformRequest:[function(e,t){return(o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){c.headers[e]={}}),i.forEach(["post","put","patch"],function(e){c.headers[e]=i.merge(a)}),e.exports=c}),oE("hPtJY",function(e,t){var r,n,i,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c=[],l=!1,f=-1;function d(){l&&i&&(l=!1,i.length?c=i.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(i=c,c=[];++f<t;)i&&i[f].run();f=-1,t=c.length}i=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}),oE("kiL6T",function(e,t){var r=oS("gKvUL");e.exports=function(e,t){r.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}}),oE("8v8A7",function(e,t){e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}}),oE("at5cb",function(e,t){var r=oS("gKvUL"),n=oS("kk0E9"),i=oS("8JRzs"),o=oS("cbIsf"),s=oS("7GD7a"),a=oS("lDriZ"),u=oS("889er"),c=oS("kjF3e");e.exports=function(e){return new Promise(function(t,l){var f=e.data,d=e.headers,h=e.responseType;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+y)}var v=s(e.baseURL,e.url);function m(){if(p){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null;n(t,l,{data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}}if(p.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(l(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),f||(f=null),p.send(f)})}}),oE("kk0E9",function(e,t){var r=oS("kjF3e");e.exports=function(e,t,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}}),oE("kjF3e",function(e,t){var r=oS("8v8A7");e.exports=function(e,t,n,i,o){return r(Error(e),t,n,i,o)}}),oE("8JRzs",function(e,t){var r=oS("gKvUL");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}),oE("7GD7a",function(e,t){var r=oS("ckHwb"),n=oS("fE4ul");e.exports=function(e,t){return e&&!r(t)?n(e,t):t}}),oE("ckHwb",function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}}),oE("fE4ul",function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}),oE("lDriZ",function(e,t){var r=oS("gKvUL"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,s={};return e&&r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),i=r.trim(e.substr(o+1)),t&&!(s[t]&&n.indexOf(t)>=0)&&("set-cookie"===t?s[t]=(s[t]?s[t]:[]).concat([i]):s[t]=s[t]?s[t]+", "+i:i)}),s}}),oE("889er",function(e,t){var r=oS("gKvUL");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}}),oE("7L4QX",function(e,t){e.exports=function(e){return!!(e&&e.__CANCEL__)}}),oE("lk5EI",function(e,t){var r=oS("gKvUL");e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))}),r.forEach(o,c),r.forEach(s,function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])}),r.forEach(a,function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))});var l=i.concat(o).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===l.indexOf(e)});return r.forEach(f,c),n}}),oE("bv3QM",function(e,t){var r=oS("bgdCC"),n={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var i={},o=r.version.split(".");function s(e,t){for(var r=t?t.split("."):o,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])break}return!1}n.transitional=function(e,t,n){var o=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(r,n,s){if(!1===e)throw Error(a(n," has been removed in "+t));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw TypeError("option "+o+" must be "+u);continue}if(!0!==r)throw Error("Unknown option "+o)}},validators:n}}),oE("bgdCC",function(e,t){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}),oE("4Tkeq",function(e,t){function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r}),oE("lAKPy",function(e,t){var r=oS("4Tkeq");function n(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n}),oE("JEeti",function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}}),oE("dxy9O",function(e,t){e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}});var oC=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oA=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ox=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oA(arguments[t]));return e},o_={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(r=_||(_={})).DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE";var ok=function(){function e(e,t){void 0===t&&(t=_.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e&&(this._config=e),this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=o_[s];if(o_[t]>=a){var u=console.log.bind(console);t===_.ERROR&&console.error&&(u=console.error.bind(console)),t===_.WARN&&console.warn&&(u=console.warn.bind(console));var c="["+t+"] "+this._ts()+" "+this.name,l="";if(1===i.length&&"string"==typeof i[0])u(l=c+" - "+i[0]);else if(1===i.length)l=c+" "+i[0],u(c,i[0]);else if("string"==typeof i[0]){var f=i.slice(1);1===f.length&&(f=f[0]),l=c+" - "+i[0]+" "+f,u(c+" - "+i[0],f)}else l=c+" "+i,u(c,i);try{for(var d=oC(this._pluggables),h=d.next();!h.done;h=d.next()){var p=h.value,g={message:l,timestamp:Date.now()};p.pushLogs([g])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ox([_.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),oP=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},oI=new ok("Amplify"),oT=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=ok,this.ServiceWorker=null}return e.prototype.register=function(e){oI.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):oI.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e&&(this._config=Object.assign(this._config,e),oI.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var r=oP(e,2),n=(r[0],r[1]);Object.keys(n).forEach(function(e){t._modules[e]&&(n[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)})),this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e}()),oO="aws-amplify/4.3.10",oU={userAgent:oO+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&((oU.product=navigator.product||"",oU.navigator=navigator||null,"ReactNative"===navigator.product)?(oU.userAgent=oO+" react-native",oU.isReactNative=!0):(oU.userAgent=oO+" js",oU.isReactNative=!1));var oL=function(){return oU.userAgent},oM=function(){return(oM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oR=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},oN=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oR(arguments[t]));return e},oD=new ok("Hub"),oj="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",oB=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var r=this.patterns.find(function(t){return t.pattern.source===e.source});if(!r){oD.warn("No listeners for "+e);return}this.patterns=oN(this.patterns.filter(function(e){return e!==r}))}else{var n=this.listeners[e];if(!n){oD.warn("No listeners for "+e);return}this.listeners[e]=oN(n.filter(function(e){return e.callback!==t}))}},e.prototype.dispatch=function(e,t,r,n){void 0===r&&(r=""),this.protectedChannels.indexOf(e)>-1&&n!==oj&&oD.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences");var i={channel:e,payload:oM({},t),source:r,patternInfo:[]};try{this._toListeners(i)}catch(e){oD.error(e)}},e.prototype.listen=function(e,t,r){var n,i=this;if(void 0===r&&(r="noname"),void 0!==t.onHubCapsule)oD.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),n=t.onHubCapsule.bind(t);else if("function"!=typeof t)throw Error("No callback supplied to Hub");else n=t;if(e instanceof RegExp)this.patterns.push({pattern:e,callback:n});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:r,callback:n})}return function(){i.remove(e,n)}},e.prototype._toListeners=function(e){var t=e.channel,r=e.payload,n=this.listeners[t];if(n&&n.forEach(function(n){oD.debug("Dispatching to "+t+" with ",r);try{n.callback(e)}catch(e){oD.error(e)}}),this.patterns.length>0){if(!r.message){oD.warn("Cannot perform pattern matching without a message key");return}var i=r.message;this.patterns.forEach(function(t){var r=i.match(t.pattern);if(r){var n=oR(r).slice(1),o=oM(oM({},e),{patternInfo:n});try{t.callback(o)}catch(e){oD.error(e)}}})}},e}())("__default__"),oF=new ok("I18n"),oz=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),oF.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var r=this._lang,n=this.getByLanguage(e,r);return n||((r.indexOf("-")>0&&(n=this.getByLanguage(e,r.split("-")[0])),n)?n:void 0!==t?t:e)},e.prototype.getByLanguage=function(e,t,r){if(void 0===r&&(r=null),!t)return r;var n=this._dict[t];return n?n[e]:r},e.prototype.putVocabulariesForLanguage=function(e,t){var r=this._dict[e];r||(r=this._dict[e]={}),Object.assign(r,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map(function(r){t.putVocabulariesForLanguage(r,e[r])})},e}(),oK=new ok("I18n"),oq=null,oH=null,oV=function(){function e(){}return e.configure=function(t){return oK.debug("configure I18n"),t&&(oq=Object.assign({},oq,t.I18n||t),e.createInstance()),oq},e.getModuleName=function(){return"I18n"},e.createInstance=function(){oK.debug("create I18n instance"),oH||(oH=new oz(oq))},e.setLanguage=function(t){return e.checkConfig(),oH.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?oH.get(t,r):void 0===r?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),oH.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),oH.putVocabularies(t)},e.checkConfig=function(){return oH||(oH=new oz(oq)),!0},e}();oT.register(oV);var oG=oS("hPtJY"),oW=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],o$=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},oY=function(e,t,r){if(!e||!e.sort)return!1;var n=r&&"desc"===r?-1:1;return e.sort(function(e,r){var i=e[t],o=r[t];return void 0===o?void 0===i?0:1*n:void 0===i||i<o?-1*n:i>o?1*n:0}),!0},oJ=function(e,t){var r=Object.assign({},e);return t&&("string"==typeof t?delete r[t]:t.forEach(function(e){delete r[e]})),r},oZ=function(e,t){void 0===t&&(t="application/octet-stream");var r=e.toLowerCase(),n=oW.filter(function(e){return r.endsWith("."+e.ext)});return n.length>0?n[0].type:t},oX=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||"application/json"===t||"application/xml"===t||"application/sh"===t},oQ=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=t[Math.floor(Math.random()*t.length)];return e},o0=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(e){return n=!0,t=!1,e},function(e){throw r=!0,t=!1,e});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},o1=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},o2=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==oG&&null!=oG.versions&&null!=oG.versions.node}},o3=function(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),!o6(e))return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=r.includes(i)?e[i]:o3(e[i],t,r));return n},o4=function(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),!o6(e))return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=r.includes(i)?e[i]:o4(e[i],t,r));return n},o6=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},o5=function(){function e(){}return e.isEmpty=o$,e.sortByField=oY,e.objectLessAttributes=oJ,e.filenameToContentType=oZ,e.isTextFile=oX,e.generateRandomString=oQ,e.makeQuerablePromise=o0,e.isWebWorker=o1,e.browserOrNode=o2,e.transferKeyToLowerCase=o3,e.transferKeyToUpperCase=o4,e.isStrictObject=o6,e}(),o8=function(){return(o8=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o7=new ok("Parser"),o9=function(e){var t,r={};if(e.aws_mobile_analytics_app_id){var n={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};r.Analytics=n}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(r.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(r.Logging=o8(o8({},e.Logging),{region:e.aws_project_region})),e.geo&&(r.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(r.Geo={AmazonLocationService:e.geo.amazon_location_service})),r.Analytics=Object.assign({},r.Analytics,e.Analytics),r.Auth=Object.assign({},r.Auth,e.Auth),r.Storage=Object.assign({},t),r.Logging=Object.assign({},r.Logging,e.Logging),o7.debug("parse config",e,"to amplifyconfig",r),r},se=function(){function e(){}return e.parseMobilehubConfig=o9,e}(),st={},sr=function(){function e(){}return e.setItem=function(e,t){return st[e]=t,st[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(st,e)?st[e]:void 0},e.removeItem=function(e){return delete st[e]},e.clear=function(){return st={}},e}(),sn=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=sr}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),si=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),so=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ss=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},sa=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ss(arguments[t]));return e},su=new ok("Util"),sc=function(e){function t(t){var r=e.call(this,t)||this;return r.nonRetryable=!0,r}return si(t,e),t}(Error),sl=function(e,t,r){var n;return void 0===r&&(r=3e5),function e(t,r,n,i){var o,s,a,u;return void 0===i&&(i=1),o=this,s=void 0,a=void 0,u=function(){var o,s;return so(this,function(a){switch(a.label){case 0:if("function"!=typeof t)throw Error("functionToRetry must be a function");su.debug(t.name+" attempt #"+i+" with this vars: "+JSON.stringify(r)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,t.apply(void 0,sa(r))];case 2:case 5:return[2,a.sent()];case 3:var u;if(o=a.sent(),su.debug("error on "+t.name,o),(u=o)&&u.nonRetryable)throw su.debug(t.name+" non retryable error",o),o;if(s=n(i,r,o),su.debug(t.name+" retrying in "+s+" ms"),!(!1!==s))return[3,6];return[4,new Promise(function(e){return setTimeout(e,s)})];case 4:return a.sent(),[4,e(t,r,n,i+1)];case 6:throw o;case 7:return[3,8];case 8:return[2]}})},new(a||(a=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,n)}i((u=u.apply(o,s||[])).next())})}(e,t,(n=r,function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>n)&&t}))},sf=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sd=new ok("CognitoCredentials"),sh=new Promise(function(e,t){return o2().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(sd.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(sd.debug("not in the browser, directly resolved"),e())}),sp=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return sf(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return sd.debug("need to wait for the Google SDK loaded"),[4,sh];case 1:e.sent(),this.initialized=!0,sd.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return(o2().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e)?new Promise(function(t,r){e.getAuthInstance().then(function(e){e||(sd.debug("google Auth undefined"),r(new sc("google Auth undefined")));var n=e.currentUser.get();n.isSignedIn()?(sd.debug("refreshing the google access token"),n.reloadAuthResponse().then(function(e){t({token:e.id_token,expires_at:e.expires_at})}).catch(function(e){e&&"network_error"===e.error?r("Network error reloading google auth response"):r(new sc("Failed to reload google auth response"))})):r(new sc("User is not signed in with Google"))}).catch(function(e){sd.debug("Failed to refresh google token",e),r(new sc("Failed to refresh google token"))})}):(sd.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),sg=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sy=new ok("CognitoCredentials"),sv=new Promise(function(e,t){return o2().isBrowser?window.FB?(sy.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(sy.debug("not in the browser, directly resolved"),e())}),sm=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return sg(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return sy.debug("need to wait for the Facebook SDK loaded"),[4,sv];case 1:e.sent(),this.initialized=!0,sy.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(o2().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return sy.debug(t),Promise.reject(new sc(t))}return new Promise(function(t,r){e.getLoginStatus(function(e){if(e&&e.authResponse){var n=e.authResponse,i=n.accessToken,o=1e3*n.expiresIn+new Date().getTime();if(!i){var s="the jwtToken is undefined";sy.debug(s),r(new sc(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";sy.debug(s),r(new sc(s))}},{scope:"public_profile,email"})})},e}(),sb=new sp,sw=new sm;function sS(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function sE(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var sC=function(e,t){return(sC=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function sA(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}sC(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var sx=function(){return(sx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s_(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function sk(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}"function"==typeof SuppressedError&&SuppressedError,(i=k||(k={})).AUTHENTICATED_ROLE="AuthenticatedRole",i.DENY="Deny",(P||(P={})).filterSensitiveLog=function(e){return sx({},e)},(I||(I={})).filterSensitiveLog=function(e){return sx({},e)},(T||(T={})).filterSensitiveLog=function(e){return sx({},e)},(O||(O={})).filterSensitiveLog=function(e){return sx({},e)},(U||(U={})).filterSensitiveLog=function(e){return sx({},e)},(L||(L={})).filterSensitiveLog=function(e){return sx({},e)},(M||(M={})).filterSensitiveLog=function(e){return sx({},e)},(R||(R={})).filterSensitiveLog=function(e){return sx({},e)},(N||(N={})).filterSensitiveLog=function(e){return sx({},e)},(D||(D={})).filterSensitiveLog=function(e){return sx({},e)},(o=j||(j={})).ACCESS_DENIED="AccessDenied",o.INTERNAL_SERVER_ERROR="InternalServerError",(B||(B={})).filterSensitiveLog=function(e){return sx({},e)},(F||(F={})).filterSensitiveLog=function(e){return sx({},e)},(z||(z={})).filterSensitiveLog=function(e){return sx({},e)},(K||(K={})).filterSensitiveLog=function(e){return sx({},e)},(q||(q={})).filterSensitiveLog=function(e){return sx({},e)},(H||(H={})).filterSensitiveLog=function(e){return sx({},e)},(V||(V={})).filterSensitiveLog=function(e){return sx({},e)},(G||(G={})).filterSensitiveLog=function(e){return sx({},e)},(W||(W={})).filterSensitiveLog=function(e){return sx({},e)},($||($={})).filterSensitiveLog=function(e){return sx({},e)},(Y||(Y={})).filterSensitiveLog=function(e){return sx({},e)},(J||(J={})).filterSensitiveLog=function(e){return sx({},e)},(Z||(Z={})).filterSensitiveLog=function(e){return sx({},e)},(X||(X={})).filterSensitiveLog=function(e){return sx({},e)},(Q||(Q={})).filterSensitiveLog=function(e){return sx({},e)},(s=ee||(ee={})).CONTAINS="Contains",s.EQUALS="Equals",s.NOT_EQUAL="NotEqual",s.STARTS_WITH="StartsWith",(et||(et={})).filterSensitiveLog=function(e){return sx({},e)},(er||(er={})).filterSensitiveLog=function(e){return sx({},e)},(a=en||(en={})).RULES="Rules",a.TOKEN="Token",(ei||(ei={})).filterSensitiveLog=function(e){return sx({},e)},(eo||(eo={})).filterSensitiveLog=function(e){return sx({},e)},(es||(es={})).filterSensitiveLog=function(e){return sx({},e)},(ea||(ea={})).filterSensitiveLog=function(e){return sx({},e)},(eu||(eu={})).filterSensitiveLog=function(e){return sx({},e)},(ec||(ec={})).filterSensitiveLog=function(e){return sx({},e)},(el||(el={})).filterSensitiveLog=function(e){return sx({},e)},(ef||(ef={})).filterSensitiveLog=function(e){return sx({},e)},(ed||(ed={})).filterSensitiveLog=function(e){return sx({},e)},(eh||(eh={})).filterSensitiveLog=function(e){return sx({},e)},(ep||(ep={})).filterSensitiveLog=function(e){return sx({},e)},(eg||(eg={})).filterSensitiveLog=function(e){return sx({},e)},(ey||(ey={})).filterSensitiveLog=function(e){return sx({},e)},(ev||(ev={})).filterSensitiveLog=function(e){return sx({},e)},(em||(em={})).filterSensitiveLog=function(e){return sx({},e)},(eb||(eb={})).filterSensitiveLog=function(e){return sx({},e)},(ew||(ew={})).filterSensitiveLog=function(e){return sx({},e)},(eS||(eS={})).filterSensitiveLog=function(e){return sx({},e)},(eE||(eE={})).filterSensitiveLog=function(e){return sx({},e)},(eC||(eC={})).filterSensitiveLog=function(e){return sx({},e)},(eA||(eA={})).filterSensitiveLog=function(e){return sx({},e)},(ex||(ex={})).filterSensitiveLog=function(e){return sx({},e)},(e_||(e_={})).filterSensitiveLog=function(e){return sx({},e)},(ek||(ek={})).filterSensitiveLog=function(e){return sx({},e)},(eP||(eP={})).filterSensitiveLog=function(e){return sx({},e)},(eI||(eI={})).filterSensitiveLog=function(e){return sx({},e)};var sP=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers},e}(),sI=function(){return(sI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},sT=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers},e.prototype.clone=function(){var t,r=new e(sI(sI({},this),{headers:sI({},this.headers)}));return r.query&&(r.query=Object.keys(t=r.query).reduce(function(e,r){var n,i=t[r];return sI(sI({},e),((n={})[r]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}(i):i,n))},{})),r},e}(),sO=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sB(e.body,t),[2,sx({name:"ExternalServiceException",$fault:"client",$metadata:sY(e)},r)]})})},sU=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sz(e.body,t),[2,sx({name:"InternalErrorException",$fault:"server",$metadata:sY(e)},r)]})})},sL=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sq(e.body,t),[2,sx({name:"InvalidParameterException",$fault:"client",$metadata:sY(e)},r)]})})},sM=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sV(e.body,t),[2,sx({name:"NotAuthorizedException",$fault:"client",$metadata:sY(e)},r)]})})},sR=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sG(e.body,t),[2,sx({name:"ResourceConflictException",$fault:"client",$metadata:sY(e)},r)]})})},sN=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=sW(e.body,t),[2,sx({name:"ResourceNotFoundException",$fault:"client",$metadata:sY(e)},r)]})})},sD=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){return r=s$(e.body,t),[2,sx({name:"TooManyRequestsException",$fault:"client",$metadata:sY(e)},r)]})})},sj=function(e,t){return Object.entries(e).reduce(function(e,t){var r,n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(t,2),i=n[0],o=n[1];return null===o?e:sx(sx({},e),((r={})[i]=o,r))},{})},sB=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sF=function(e,t){var r;return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?{AccessKeyId:void 0!==(r=e.Credentials).AccessKeyId&&null!==r.AccessKeyId?r.AccessKeyId:void 0,Expiration:void 0!==r.Expiration&&null!==r.Expiration?new Date(Math.round(1e3*r.Expiration)):void 0,SecretKey:void 0!==r.SecretKey&&null!==r.SecretKey?r.SecretKey:void 0,SessionToken:void 0!==r.SessionToken&&null!==r.SessionToken?r.SessionToken:void 0}:void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},sz=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sK=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sq=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sH=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sV=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sG=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sW=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},s$=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},sY=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},sJ=function(e,t){var r;return((void 0===(r=e)&&(r=new Uint8Array),r instanceof Uint8Array)?Promise.resolve(r):t.streamCollector(r)||Promise.resolve(new Uint8Array)).then(function(e){return t.utf8Encoder(e)})},sZ=function(e,t,r,n,i){return s_(void 0,void 0,void 0,function(){var o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return[4,e.endpoint()];case 1:return s=(o=c.sent()).hostname,u={protocol:void 0===(a=o.protocol)?"https":a,hostname:s,port:o.port,method:"POST",path:r,headers:t},void 0!==n&&(u.hostname=n),void 0!==i&&(u.body=i),[2,new sT(u)]}})})},sX=function(e,t){return sJ(e,t).then(function(e){return e.length?JSON.parse(e):{}})},sQ=function(e,t){var r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},n=Object.keys(e.headers).find(function(e){return"x-amzn-errortype"===e.toLowerCase()});return void 0!==n?r(e.headers[n]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},s0=function(){return(s0=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s1(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function s2(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var s3={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},s4={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s6(e,t,r){return{applyToStack:function(n){n.add(function(t,n){return function(n){return s1(void 0,void 0,void 0,function(){var i,o;return s2(this,function(s){switch(s.label){case 0:return[4,t(n)];case 1:return[4,r(i=s.sent().response,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}})})}},s3),n.add(function(r,n){return function(n){return s1(void 0,void 0,void 0,function(){var i;return s2(this,function(o){switch(o.label){case 0:return[4,t(n.input,e)];case 1:return i=o.sent(),[2,r(s0(s0({},n),{request:i}))]}})})}},s4)}}}var s5=function(){return(s5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s8(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}var s7=function(){var e=[],t=[],r=new Set,n=function(n){var i=!1,o=function(e){return!e.name||e.name!==n||(i=!0,r.delete(n),!1)};return e=e.filter(o),t=t.filter(o),i},i=function(n){var i=!1,o=function(e){return e.middleware!==n||(i=!0,e.name&&r.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i},o=function(r){return e.forEach(function(e){r.add(e.middleware,s5({},e))}),t.forEach(function(e){r.addRelativeTo(e.middleware,s5({},e))}),r},s=function(e){var t=[];return e.before.forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,s8(s(e)))}),t.push(e),e.after.reverse().forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,s8(s(e)))}),t},a=function(){var r=[],n=[],i={};return e.forEach(function(e){var t=s5(s5({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)}),t.forEach(function(e){var t=s5(s5({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)}),n.forEach(function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),r.sort(function(e,t){return s9[t.step]-s9[e.step]||ae[t.priority||"normal"]-ae[e.priority||"normal"]}).map(s).reduce(function(e,t){return e.push.apply(e,s8(t)),e},[]).map(function(e){return e.middleware})},u={add:function(t,n){void 0===n&&(n={});var i=n.name,o=n.override,s=s5({step:"initialize",priority:"normal",middleware:t},n);if(i){if(r.has(i)){if(!o)throw Error("Duplicate middleware name '"+i+"'");var a=e.findIndex(function(e){return e.name===i}),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be "+("overridden by same-name middleware with "+s.priority)+" priority in "+s.step+" step.");e.splice(a,1)}r.add(i)}e.push(s)},addRelativeTo:function(e,n){var i=n.name,o=n.override,s=s5({middleware:e},n);if(i){if(r.has(i)){if(!o)throw Error("Duplicate middleware name '"+i+"'");var a=t.findIndex(function(e){return e.name===i}),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+s.relation)+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}r.add(i)}t.push(s)},clone:function(){return o(s7())},use:function(e){e.applyToStack(u)},remove:function(e){return"string"==typeof e?n(e):i(e)},removeByTag:function(n){var i=!1,o=function(e){var t=e.tags,o=e.name;return!(t&&t.includes(n))||(o&&r.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=o(s7());return t.use(e),t},applyToStack:o,resolve:function(e,t){var r,n;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a().reverse()),o=i.next();!o.done;o=i.next())e=(0,o.value)(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e}};return u},s9={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ae={high:3,normal:2,low:1},at=function(){function e(e){this.middlewareStack=s7(),this.config=e}return e.prototype.send=function(e,t,r){var n="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!n)return i(e).then(function(e){return e.output});i(e).then(function(e){return n(null,e.output)},function(e){return n(e)}).catch(function(){})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),ar=function(){this.middlewareStack=s7()};function an(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}var ai=function(e){return Array.isArray(e)?e:[e]},ao=function(e){var t="#text";for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=ao(e[r]));return e},as=function(e,t){return(as=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},aa=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};aa.prototype=Object.create(String.prototype,{constructor:{value:aa,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(aa,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function r(){this.constructor=e}as(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(aa);var au=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ac=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function al(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return au[n]+", "+(i<10?"0"+i:""+i)+" "+ac[r]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var af="***SensitiveInformation***",ad=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:W.filterSensitiveLog,outputFilterSensitiveLog:Y.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(sx(sx(sx({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:sj(e.Logins,t)})),[2,sZ(t,r,"/",void 0,n)]})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,f,d,h,p,g,y;return sk(this,function(v){switch(v.label){case 0:return n=[sx({},e)],y={},[4,sX(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(y.body=v.sent(),y)])),o="UnknownError",o=sQ(e,r.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,sO(r,t)];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 4:return a=[{}],[4,sU(r,t)];case 5:return i=sx.apply(void 0,[sx.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 6:var m,b;return u=[{}],[4,(m=r,b=t,s_(void 0,void 0,void 0,function(){var e;return sk(this,function(t){return e=sK(m.body,b),[2,sx({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:sY(m)},e)]})}))];case 7:return i=sx.apply(void 0,[sx.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 8:return c=[{}],[4,sL(r,t)];case 9:return i=sx.apply(void 0,[sx.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 10:return l=[{}],[4,sM(r,t)];case 11:return i=sx.apply(void 0,[sx.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 12:return f=[{}],[4,sR(r,t)];case 13:return i=sx.apply(void 0,[sx.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 14:return d=[{}],[4,sN(r,t)];case 15:return i=sx.apply(void 0,[sx.apply(void 0,d.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 16:return h=[{}],[4,sD(r,t)];case 17:return i=sx.apply(void 0,[sx.apply(void 0,h.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 18:o=(p=r.body).code||p.Code||o,i=sx(sx({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:sY(e)}),v.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(Error(g),i))]}})})];return[4,sX(e.body,t)];case 1:return r=i.sent(),n={},n=sF(r,t),[2,Promise.resolve(sx({$metadata:sY(e)},n))]}})})},t}(ar),ah=function(e,t){return(ah=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},ap=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,t)||this;return n.tryNextLink=r,n}return!function(e,t){function r(){this.constructor=e}ah(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error);function ag(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return"string"==typeof n?t.push([r,n]):t.push(n().then(function(e){return[r,e]})),t},[])).then(function(e){return e.reduce(function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(t,2),n=r[0],i=r[1];return e[n]=i,e},{})})}function ay(e){var t=this;return function(){return sS(t,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,l,f,d,h;return sE(this,function(p){switch(p.label){case 0:if(l=(c=e.client).send,f=ad.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},!e.logins)return[3,2];return[4,ag(e.logins)];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(ad,[void 0,(h.Logins=d,h)]))])];case 4:return i=void 0===(n=(r=void 0===(t=p.sent().Credentials)?function(){throw new ap("Response from Amazon Cognito contained no credentials")}():t).AccessKeyId)?function(){throw new ap("Response from Amazon Cognito contained no access key ID")}():n,o=r.Expiration,a=void 0===(s=r.SecretKey)?function(){throw new ap("Response from Amazon Cognito contained no secret key")}():s,u=r.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}})})}}var av=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Z.filterSensitiveLog,outputFilterSensitiveLog:X.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(sx(sx(sx({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:sj(e.Logins,t)})),[2,sZ(t,r,"/",void 0,n)]})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,f,d,h,p,g,y;return sk(this,function(v){switch(v.label){case 0:return n=[sx({},e)],y={},[4,sX(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(y.body=v.sent(),y)])),o="UnknownError",o=sQ(e,r.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,sO(r,t)];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 4:return a=[{}],[4,sU(r,t)];case 5:return i=sx.apply(void 0,[sx.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 6:return u=[{}],[4,sL(r,t)];case 7:return i=sx.apply(void 0,[sx.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 8:var m,b;return c=[{}],[4,(m=r,b=t,s_(void 0,void 0,void 0,function(){var e;return sk(this,function(t){return e=sH(m.body,b),[2,sx({name:"LimitExceededException",$fault:"client",$metadata:sY(m)},e)]})}))];case 9:return i=sx.apply(void 0,[sx.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 10:return l=[{}],[4,sM(r,t)];case 11:return i=sx.apply(void 0,[sx.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 12:return f=[{}],[4,sR(r,t)];case 13:return i=sx.apply(void 0,[sx.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 14:return d=[{}],[4,sN(r,t)];case 15:return i=sx.apply(void 0,[sx.apply(void 0,d.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 16:return h=[{}],[4,sD(r,t)];case 17:return i=sx.apply(void 0,[sx.apply(void 0,h.concat([v.sent()])),{name:o,$metadata:sY(e)}]),[3,19];case 18:o=(p=r.body).code||p.Code||o,i=sx(sx({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:sY(e)}),v.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(Error(g),i))]}})})];return[4,sX(e.body,t)];case 1:return r=i.sent(),n={},n={IdentityId:void 0!==r.IdentityId&&null!==r.IdentityId?r.IdentityId:void 0},[2,Promise.resolve(sx({$metadata:sY(e)},n))]}})})},t}(ar),am="IdentityIds",ab=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",function(t){var r=t.get(e);return new Promise(function(e){r.onerror=function(){return e(null)},r.onsuccess=function(){return e(r.result?r.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",function(t){var r=t.delete(e);return new Promise(function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}})})},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",function(r){var n=r.put({id:e,value:t});return new Promise(function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}})})},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise(function(t,r){e.onsuccess=function(){t(e.result)},e.onerror=function(){r(e.error)},e.onblocked=function(){r(Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){r(Error("Failed to create object store"))},t.createObjectStore(am,{keyPath:"id"})}})},e.prototype.withObjectStore=function(e,t){return this.getDb().then(function(r){var n=r.transaction(am,e);return n.oncomplete=function(){return r.close()},new Promise(function(e,r){n.onerror=function(){return r(n.error)},e(t(n.objectStore(am)))}).catch(function(e){throw r.close(),e})})},e}(),aw=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}()),aS={};aS=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}');var aE={};Object.defineProperty(aE,"__esModule",{value:!0}),aE.WebCryptoSha256=aE.Ie11Sha256=void 0,(0,oS("fo9tD").__exportStar)(oS("dZNvx"),aE);var aC=oS("jLgwE");Object.defineProperty(aE,"Ie11Sha256",{enumerable:!0,get:function(){return aC.Sha256}});var aA=oS("iS0p3");function ax(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function a_(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.defineProperty(aE,"WebCryptoSha256",{enumerable:!0,get:function(){return aA.Sha256}});var ak=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,aP)},aP=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function aI(e){var t,r,n=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=ak(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)n.push(s+"="+ak(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+ak(a)),n.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}for(var aT=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var r,n=(void 0===t?{}:t).abortSignal,i=this.requestTimeout;if(null==n?void 0:n.aborted){var o=Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var s=e.path;if(e.query){var a=aI(e.query);a&&(s+="?"+a)}var u=e.port,c=e.method,l=e.protocol+"//"+e.hostname+(u?":"+u:"")+s,f={body:"GET"===c||"HEAD"===c?void 0:e.body,headers:new Headers(e.headers),method:c};"undefined"!=typeof AbortController&&(f.signal=n);var d=[fetch(new Request(l,f)).then(function(e){var t,r,n=e.headers,i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new sP({headers:i,statusCode:e.status,body:e.body})}:e.blob().then(function(t){return{response:new sP({headers:i,statusCode:e.status,body:t})}})}),(void 0===(r=i)&&(r=0),new Promise(function(e,t){r&&setTimeout(function(){var e=Error("Request did not complete within "+r+" ms");e.name="TimeoutError",t(e)},r)}))];return n&&d.push(new Promise(function(e,t){n.onabort=function(){var e=Error("Request aborted");e.name="AbortError",t(e)}})),Promise.race(d)},e}(),aO={},aU=Array(64),aL=0,aM=65,aR=90;aL+aM<=aR;aL++){var aN=String.fromCharCode(aL+aM);aO[aN]=aL,aU[aL]=aN}for(var aL=0,aM=97,aR=122;aL+aM<=aR;aL++){var aN=String.fromCharCode(aL+aM),aD=aL+26;aO[aN]=aD,aU[aD]=aN}for(var aL=0;aL<10;aL++){aO[aL.toString(10)]=aL+52;var aN=aL.toString(10),aD=aL+52;aO[aN]=aD,aU[aD]=aN}function aj(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=aO[e[a]]<<(u-a)*6,s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=(l-f-1)*8;n.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(r)}function aB(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,s=Math.min(r+3,e.length);o<s;o++)n|=e[o]<<(s-o-1)*8,i+=8;var a=Math.ceil(i/6);n<<=6*a-i;for(var u=1;u<=a;u++){var c=(a-u)*6;t+=aU[(n&63<<c)>>c]}t+="==".slice(0,4-a)}return t}aO["+"]=62,aU[62]="+",aO["/"]=63,aU[63]="/";var aF=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return ax(this,void 0,void 0,function(){return a_(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){var n=new FileReader;n.onloadend=function(){if(2!==n.readyState)return r(Error("Reader aborted too early"));var e,i=null!==(e=n.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},n.onabort=function(){return r(Error("Read aborted"))},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)})];case 1:return[2,new Uint8Array(aj(t.sent()))]}})})}(e):function(e){return ax(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return a_(this,function(u){switch(u.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,u.label=1;case 1:if(n)return[3,3];return[4,r.read()];case 2:return o=(i=u.sent()).done,(s=i.value)&&((t=new Uint8Array((a=t).length+s.length)).set(a),t.set(s,a.length)),n=o,[3,1];case 3:return[2,t]}})})}(e)},az=function(e){return function(){return Promise.reject(e)}},aK=function(){return(aK=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function aq(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function aH(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var aV={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},aG=function(e){return{applyToStack:function(t){t.add(function(t,r){return function(n){return aq(void 0,void 0,void 0,function(){var i;return aH(this,function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(r.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}},aV)}}},aW=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],a$=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],aY=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],aJ=[500,502,503,504],aZ=function(e){var t,r;return(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)===429||a$.includes(e.name)||(null===(r=e.$retryable)||void 0===r?void 0:r.throttling)==!0},aX=function(e){var t;return aY.includes(e.name)||aJ.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},aQ={},a0={},a1={},a2="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a2){var a3=new Uint8Array(16);a1=function(){return a2(a3),a3}}else{var a4=Array(16);a1=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),a4[t]=e>>>((3&t)<<3)&255;return a4}}for(var a6={},a5=[],a8=0;a8<256;++a8)a5[a8]=(a8+256).toString(16).substr(1);a6=function(e,t){var r=t||0;return[a5[e[r++]],a5[e[r++]],a5[e[r++]],a5[e[r++]],"-",a5[e[r++]],a5[e[r++]],"-",a5[e[r++]],a5[e[r++]],"-",a5[e[r++]],a5[e[r++]],"-",a5[e[r++]],a5[e[r++]],a5[e[r++]],a5[e[r++]],a5[e[r++]],a5[e[r++]]].join("")};var a7=0,a9=0;a0=function(e,t,r){var n=t&&r||0,i=t||[],o=(e=e||{}).node||eT,s=void 0!==e.clockseq?e.clockseq:eO;if(null==o||null==s){var a=a1();null==o&&(o=eT=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=eO=(a[6]<<8|a[7])&16383)}var u=void 0!==e.msecs?e.msecs:new Date().getTime(),c=void 0!==e.nsecs?e.nsecs:a9+1,l=u-a7+(c-a9)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>a7)&&void 0===e.nsecs&&(c=0),c>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a7=u,a9=c,eO=s;var f=((268435455&(u+=122192928e5))*1e4+c)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var d=u/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=255&d,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var h=0;h<6;++h)i[n+h]=o[h];return t||a6(i)};var ue={},ut=ue=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a1)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||a6(i)};ut.v1=a0,ut.v4=ue,aQ=ut;var ur=function(e){var t=e,r=function(e){return"TimeoutError"===e.name?10:5},n=function(e){return r(e)<=t};return Object.freeze({hasRetryTokens:n,retrieveRetryTokens:function(e){if(!n(e))throw Error("No retry token available");var i=r(e);return t-=i,i},releaseRetryTokens:function(r){t+=null!=r?r:1,t=Math.min(t,e)}})},un=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},ui=function(e){return!!e&&(void 0!==e.$retryable||aW.includes(e.name)||aZ(e)||aX(e))},uo=function(){function e(e,t){var r,n,i;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(r=null==t?void 0:t.retryDecider)&&void 0!==r?r:ui,this.delayDecider=null!==(n=null==t?void 0:t.delayDecider)&&void 0!==n?n:un,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:ur(500)}return e.prototype.shouldRetry=function(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return aq(this,void 0,void 0,function(){var e;return aH(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}})})},e.prototype.retry=function(e,t){return aq(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return aH(this,function(l){switch(l.label){case 0:return n=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,sT.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,aQ.v4)()),a=function(){var a,c,l,f,d;return aH(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),sT.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(n+1)+"; max="+o),[4,e(t)];case 1:return c=(a=h.sent()).response,l=a.output,u.retryQuota.releaseRetryTokens(r),l.$metadata.attempts=n+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:if(f=h.sent(),n++,!u.shouldRetry(f,n,o))return[3,4];return r=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(aZ(f)?500:100,n),i+=d,[4,new Promise(function(e){return setTimeout(e,d)})];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=n,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}})},u=this,l.label=2;case 2:return[5,a()];case 3:if("object"==typeof(c=l.sent()))return[2,c.value];return[3,2];case 4:return[2]}})})},e}(),us=function(e){var t=ua(e.maxAttempts);return aK(aK({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new uo(t)})},ua=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function uu(e){if("string"==typeof e){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var uc={};uc=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(i,o),a=0,u=e.map([t,r],function(t){var r=s-e.getVersionPrecision(t),n=t+Array(r+1).join(".0");return e.map(n.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return -1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));for(t=0,r=i.length;t<r;t+=1)(function(){var r=i[t];"object"==typeof r&&null!==r&&Object.keys(r).forEach(function(t){e[t]=r[t]})})();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18),s=function(){function e(){}return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}]),e}();t.default=s,e.exports=t.default},91:function(e,t,r){t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),o=u(r(94)),s=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(r[t]=s,n+=1)}),n>0){var s=Object.keys(r),u=a.default.find(s,function(e){return t.isOS(e)});if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var l=a.default.find(s,function(e){return t.isPlatform(e)});if(l){var f=this.satisfies(r[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=c,e.exports=t.default},92:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}});var ul=function(e){var t=e.serviceId,r=e.clientVersion;return function(){var e,n,i,o;return e=void 0,n=void 0,i=void 0,o=function(){var e,n,i,o,s,a,u,c,l;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(f){return n=[["aws-sdk-js",r],["os/"+((null===(o=null==(e=(null===(i=null==window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?/*@__PURE__*/om(uc).parse(window.navigator.userAgent):void 0)?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&n.push(["api/"+t,r]),[2,n]})},new(i||(i=Promise))(function(t,r){function s(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var r;e.done?t(e.value):((r=e.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}u((o=o.apply(e,n||[])).next())})}},uf=oS("f5Ly5"),ud="cognito-identity.{region}.amazonaws.com",uh=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),up=new Set(["cn-north-1","cn-northwest-1"]),ug=new Set(["us-iso-east-1"]),uy=new Set(["us-isob-east-1"]),uv=new Set(["us-gov-east-1","us-gov-west-1"]),um=function(e){var t,r=new URL(e),n=r.hostname,i=r.pathname,o=r.port,s=r.protocol,a=r.search;return a&&(t=function(e){var t,r,n={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(s.split("="),2),u=a[0],c=a[1],l=void 0===c?null:c;u=decodeURIComponent(u),l&&(l=decodeURIComponent(l)),u in n?Array.isArray(n[u])?n[u].push(l):n[u]=[n[u],l]:n[u]=l}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(a)),{hostname:n,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},ub={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:uh.has(e)&&(r={hostname:ud.replace("{region}",e),partition:"aws"}),up.has(e)&&(r={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ug.has(e)&&(r={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),uy.has(e)&&(r={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),uv.has(e)&&(r={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===r&&(r={hostname:ud.replace("{region}",e),partition:"aws"})}return Promise.resolve(sx({signingService:"cognito-identity"},r))},serviceId:"Cognito Identity",urlParser:um},uw=sx(sx({},ub),{runtime:"browser",base64Decoder:aj,base64Encoder:aB,bodyLengthChecker:uu,credentialDefaultProvider:function(e){return function(){return Promise.reject(Error("Credential is missing"))}},defaultUserAgentProvider:ul({serviceId:ub.serviceId,clientVersion:/*@__PURE__*/om(aS).version}),maxAttempts:3,region:az("Region is missing"),requestHandler:new aT,sha256:aE.Sha256,streamCollector:aF,utf8Decoder:uf.fromUtf8,utf8Encoder:uf.toUtf8}),uS=function(){return(uS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},uE=function(e){var t;return uS(uS({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?uC(e):function(){return uA(e)},isCustomEndpoint:!!e.endpoint})},uC=function(e){var t=e.endpoint,r=e.urlParser;if("string"==typeof t){var n=Promise.resolve(r(t));return function(){return n}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},uA=function(e){var t,r,n,i;return t=void 0,r=void 0,n=void 0,i=function(){var t,r,n,i,o;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(s){switch(s.label){case 0:return r=void 0===(t=e.tls)||t,[4,e.region()];case 1:if(n=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+i)]}})},new(n||(n=Promise))(function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}u((i=i.apply(t,r||[])).next())})},ux=function(e){if(!e.region)throw Error("Region is missing");return uS(uS({},e),{region:u_(e.region)})},u_=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},uk=function(){return(uk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},uP="content-length",uI={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},uT=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(r){return function(n){var i,o,s;return i=void 0,o=void 0,s=function(){var t,i,o,s,a;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(u){return t=n.request,sT.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map(function(e){return e.toLowerCase()}).indexOf(uP)&&void 0!==(s=e(i))&&(t.headers=uk(uk({},t.headers),((a={})[uP]=String(s),a)))),[2,r(uk(uk({},n),{request:t}))]})},new(o||(o=Promise))(function(e,r){function n(e){try{u(s.next(e))}catch(e){r(e)}}function a(e){try{u(s.throw(e))}catch(e){r(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof o?r:new o(function(e){e(r)})).then(n,a)}u((s=s.apply(t,i||[])).next())})}}}(e.bodyLengthChecker),uI)}}},uO={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},uU=function(e){return{applyToStack:function(t){t.add(function(t){return function(r){var n,i,o,s;return n=void 0,i=void 0,o=void 0,s=function(){var n,i;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(o){return sT.isInstance(r.request)&&(n=r.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname)),[2,t(r)]})},new(o||(o=Promise))(function(e,t){function r(e){try{u(s.next(e))}catch(e){t(e)}}function a(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(r,a)}u((s=s.apply(n,i||[])).next())})}},uO)}}},uL={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},uM=function(e){return{applyToStack:function(e){e.add(function(e,t){return function(r){var n,i,o,s;return n=void 0,i=void 0,o=void 0,s=function(){var n,i,o,s,a,u,c,l,f;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(d){switch(d.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(r)];case 1:if(u=d.sent(),!s)return[2,u];return"function"==typeof s.info&&(l=(c=u.output).$metadata,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(c,["$metadata"]),s.info({clientName:n,commandName:i,input:o(r.input),output:a(f),metadata:l})),[2,u]}})},new(o||(o=Promise))(function(e,t){function r(e){try{u(s.next(e))}catch(e){t(e)}}function a(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(r,a)}u((s=s.apply(n,i||[])).next())})}},uL)}}},uR=function(){return(uR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function uN(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function uD(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var uj=function(){return(uj=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function uB(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function uF(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function uz(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}for(var uK={},uq={},uH=0;uH<256;uH++){var uV=uH.toString(16).toLowerCase();1===uV.length&&(uV="0"+uV),uK[uH]=uV,uq[uV]=uH}function uG(e){for(var t="",r=0;r<e.byteLength;r++)t+=uK[e[r]];return t}var uW="X-Amz-Date",u$="X-Amz-Signature",uY="X-Amz-Security-Token",uJ="authorization",uZ=uW.toLowerCase(),uX=[uJ,uZ,"date"],uQ=u$.toLowerCase(),u0="x-amz-content-sha256",u1=uY.toLowerCase(),u2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},u3=/^proxy-/,u4=/^sec-/,u6="AWS4-HMAC-SHA256",u5="aws4_request",u8={},u7=[];function u9(e,t,r){return e+"/"+t+"/"+r+"/"+u5}function ce(e,t,r){var n=new e(t);return n.update(r),n.digest()}function ct(e,t,r){var n,i,o=e.headers,s={};try{for(var a=uz(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(!(l in u2||(null==t?void 0:t.has(l))||u3.test(l)||u4.test(l))||r&&(!r||r.has(l)))&&(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function cr(e,t){var r=e.headers,n=e.body;return uB(this,void 0,void 0,function(){var e,i,o,s,a,u,c;return uF(this,function(l){switch(l.label){case 0:try{for(i=(e=uz(Object.keys(r))).next();!i.done;i=e.next())if((o=i.value).toLowerCase()===u0)return[2,r[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}if(void 0!=n)return[3,1];return[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:if(!("string"==typeof n||ArrayBuffer.isView(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(n)))return[3,3];return(s=new t).update(n),a=uG,[4,s.digest()];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}})})}function cn(e){var t=e.headers,r=e.query,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["headers","query"]);return uj(uj({},n),{headers:uj({},t),query:r?Object.keys(r).reduce(function(e,t){var n,i=r[t];return uj(uj({},e),((n={})[t]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}(i):i,n))},{}):void 0})}function ci(e){var t,r;e="function"==typeof e.clone?e.clone():cn(e);try{for(var n=uz(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;uX.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}var co=function(){function e(e){var t=e.applyChecksum,r=e.credentials,n=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath;this.service=i,this.sha256=o,this.uriEscapePath=void 0===s||s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=cu(n),this.credentialProvider=cc(r)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),uB(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,f,d,h,p,g,y,v,m,b,w,S,E,C,A,x;return uF(this,function(_){switch(_.label){case 0:return n=void 0===(r=t.signingDate)?new Date:r,o=void 0===(i=t.expiresIn)?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:if(f=_.sent(),!(null!=c))return[3,2];return h=c,[3,4];case 2:return[4,this.regionProvider()];case 3:h=_.sent(),_.label=4;case 4:if(d=h,g=(p=cs(n)).longDate,y=p.shortDate,o>604800)return[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")];return v=u9(y,d,null!=l?l:this.service),m=function(e,t){void 0===t&&(t={});var r,n,i,o="function"==typeof e.clone?e.clone():cn(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=uz(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return uj(uj({},e),{headers:s,query:u})}(ci(e),{unhoistableHeaders:a}),f.sessionToken&&(m.query[uY]=f.sessionToken),m.query["X-Amz-Algorithm"]=u6,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+v,m.query[uW]=g,m.query["X-Amz-Expires"]=o.toString(10),b=ct(m,s,u),m.query["X-Amz-SignedHeaders"]=ca(b),w=m.query,S=u$,E=this.getSignature,C=[g,v,this.getSigningKey(f,d,y,l)],A=this.createCanonicalRequest,x=[m,b],[4,cr(e,this.sha256)];case 5:return[4,E.apply(this,C.concat([A.apply(this,x.concat([_.sent()]))]))];case 6:return w[S]=_.sent(),[2,m]}})})},e.prototype.sign=function(e,t){return uB(this,void 0,void 0,function(){return uF(this,function(r){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]})})},e.prototype.signEvent=function(e,t){var r=e.headers,n=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return uB(this,void 0,void 0,function(){var e,t,i,c,l,f,d,h,p,g,y;return uF(this,function(v){switch(v.label){case 0:if(!(null!=a))return[3,1];return t=a,[3,3];case 1:return[4,this.regionProvider()];case 2:t=v.sent(),v.label=3;case 3:return e=t,c=(i=cs(o)).shortDate,l=i.longDate,f=u9(c,e,null!=u?u:this.service),[4,cr({headers:{},body:n},this.sha256)];case 4:return d=v.sent(),(h=new this.sha256).update(r),g=uG,[4,h.digest()];case 5:return p=g.apply(void 0,[v.sent()]),y=["AWS4-HMAC-SHA256-PAYLOAD",l,f,s,p,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}})})},e.prototype.signString=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,i=void 0===n?new Date:n,o=r.signingRegion,s=r.signingService;return uB(this,void 0,void 0,function(){var t,r,n,a,u,c,l,f;return uF(this,function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:if(t=d.sent(),!(null!=o))return[3,2];return n=o,[3,4];case 2:return[4,this.regionProvider()];case 3:n=d.sent(),d.label=4;case 4:return r=n,a=cs(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,r,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=uG,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}})})},e.prototype.signRequest=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,i=void 0===n?new Date:n,o=r.signableHeaders,s=r.unsignableHeaders,a=r.signingRegion,u=r.signingService;return uB(this,void 0,void 0,function(){var t,r,n,c,l,f,d,h,p,g,y;return uF(this,function(v){switch(v.label){case 0:return[4,this.credentialProvider()];case 1:if(t=v.sent(),!(null!=a))return[3,2];return n=a,[3,4];case 2:return[4,this.regionProvider()];case 3:n=v.sent(),v.label=4;case 4:return r=n,c=ci(e),f=(l=cs(i)).longDate,h=u9(d=l.shortDate,r,null!=u?u:this.service),c.headers[uZ]=f,t.sessionToken&&(c.headers[u1]=t.sessionToken),[4,cr(c,this.sha256)];case 5:return p=v.sent(),!function(e,t){var r,n;e=e.toLowerCase();try{for(var i=uz(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;if(e===s.toLowerCase())return!0}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}(u0,c.headers)&&this.applyChecksum&&(c.headers[u0]=p),g=ct(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,r,d,u),this.createCanonicalRequest(c,g,p))];case 6:return y=v.sent(),c.headers[uJ]=u6+" "+("Credential="+t.accessKeyId)+"/"+h+", SignedHeaders="+ca(g)+", Signature="+y,[2,c]}})})},e.prototype.createCanonicalRequest=function(e,t,r){var n=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,r,n=e.query,i=void 0===n?{}:n,o=[],s={},a=function(e){if(e.toLowerCase()===uQ)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=ak(e)+"="+ak(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce(function(t,r){return t.concat([ak(e)+"="+ak(r)])},[]).join("&"))};try{for(var u=uz(Object.keys(i).sort()),c=u.next();!c.done;c=u.next()){var l=c.value;a(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return o.map(function(e){return s[e]}).filter(function(e){return e}).join("&")}(e)+"\n"+n.map(function(e){return e+":"+t[e]}).join("\n")+"\n\n"+n.join(";")+"\n"+r},e.prototype.createStringToSign=function(e,t,r){return uB(this,void 0,void 0,function(){var n;return uF(this,function(i){switch(i.label){case 0:return(n=new this.sha256).update(r),[4,n.digest()];case 1:return[2,u6+"\n"+e+"\n"+t+"\n"+uG(i.sent())]}})})},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,r,n){return uB(this,void 0,void 0,function(){var i,o,s,a,u;return uF(this,function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,n)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,r];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=uG,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}})})},e.prototype.getSigningKey=function(e,t,r,n){var i,o;return i=this.sha256,o=n||this.service,uB(void 0,void 0,void 0,function(){var n,s,a,u,c,l,f;return uF(this,function(d){switch(d.label){case 0:return[4,ce(i,e.secretAccessKey,e.accessKeyId)];case 1:if((n=r+":"+t+":"+o+":"+uG(d.sent())+":"+e.sessionToken)in u8)return[2,u8[n]];for(u7.push(n);u7.length>50;)delete u8[u7.shift()];s="AWS4"+e.secretAccessKey,d.label=2;case 2:d.trys.push([2,7,8,9]),u=(a=uz([r,t,o,u5])).next(),d.label=3;case 3:if(u.done)return[3,6];return c=u.value,[4,ce(i,s,c)];case 4:s=d.sent(),d.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return l={error:d.sent()},[3,9];case 8:try{u&&!u.done&&(f=a.return)&&f.call(a)}finally{if(l)throw l.error}return[7];case 9:return[2,u8[n]=s]}})})},e}(),cs=function(e){var t=("number"==typeof e?new Date(1e3*e):"string"==typeof e?new Date(Number(e)?1e3*Number(e):e):e).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},ca=function(e){return Object.keys(e).sort().join(";")},cu=function(e){if("string"!=typeof e)return e;var t=Promise.resolve(e);return function(){return t}},cc=function(e){if("object"!=typeof e)return e;var t=Promise.resolve(e);return function(){return t}};function cl(e){var t,r=this,n=cf(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?cf(e.signer):function(){return cf(e.region)().then(function(t){return uN(r,void 0,void 0,function(){return uD(this,function(r){switch(r.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[r.sent()||{},t]]}})})}).then(function(t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(t,2),i=r[0],s=r[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new co({credentials:n,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})})},uR(uR({},e),{systemClockOffset:a,signingEscapePath:o,credentials:n,signer:t})}function cf(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var cd={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},ch=function(){return(ch=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function cp(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function cg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cp(arguments[t]));return e}function cy(e){return ch(ch({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var cv="user-agent",cm=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,cb=function(e){var t=cp(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),s=r.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,n].filter(function(e){return e&&e.length>0}).map(function(e){return null==e?void 0:e.replace(cm,"_")}).join("/")},cw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},cS=function(e){return{applyToStack:function(t){t.add(function(t,r){return function(n){var i,o,s,a;return i=void 0,o=void 0,s=void 0,a=function(){var i,o,s,a,u,c,l,f;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(d){switch(d.label){case 0:if(i=n.request,!sT.isInstance(i))return[2,t(n)];return o=i.headers,s=(null===(l=null==r?void 0:r.userAgent)||void 0===l?void 0:l.map(cb))||[],[4,e.defaultUserAgentProvider()];case 1:return a=d.sent().map(cb),u=(null===(f=null==e?void 0:e.customUserAgent)||void 0===f?void 0:f.map(cb))||[],o["x-amz-user-agent"]=cg(a,s,u).join(" "),c=cg(a.filter(function(e){return e.startsWith("aws-sdk-")}),u).join(" "),"browser"!==e.runtime&&c&&(o[cv]=o[cv]?o[cv]+" "+c:c),[2,t(ch(ch({},n),{request:i}))]}})},new(s||(s=Promise))(function(e,t){function r(e){try{u(a.next(e))}catch(e){t(e)}}function n(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}u((a=a.apply(i,o||[])).next())})}},cw)}}},cE=function(e){function t(t){var r=this,n=cy(us(cl(uE(ux(sx(sx({},uw),t))))));return(r=e.call(this,n)||this).config=n,r.middlewareStack.use(aG(r.config)),r.middlewareStack.use(uT(r.config)),r.middlewareStack.use(uU(r.config)),r.middlewareStack.use(uM(r.config)),r.middlewareStack.use(cS(r.config)),r}return sA(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(at),cC=function(){return(cC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},cA=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},cx=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c_=new ok("Credentials"),ck=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=sb.refreshGoogleToken,this._refreshHandlers.facebook=sw.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=cC(cC({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new sn().getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return c_.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return c_.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?c_.debug("getting old cred promise"):(c_.debug("getting new cred promise"),this._gettingCredPromise=o0(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return cA(this,void 0,void 0,function(){var e,t,r,n,i,o;return cx(this,function(s){switch(s.label){case 0:if(c_.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return c_.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(c_.debug("need to get a new credential or refresh the existing one"),!(r=void 0===(t=this.Auth)?oT.Auth:t)||"function"!=typeof r.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(e)&&this._isPastTTL()))return[3,6];c_.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,r.currentUserPoolUser()];case 2:return n=s.sent(),[4,r.currentSession()];case 3:return i=s.sent().refreshToken,[4,new Promise(function(e,t){n.refreshSession(i,function(r,n){return r?t(r):e(n)})})];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),c_.debug("Error attempting to refreshing the session",o),[3,6];case 6:return[2,r.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(e){c_.debug("Getting federated credentials");var t=e.provider,r=e.user,n=e.token,i=e.identity_id,o=e.expires_at;return(o=1970===new Date(o).getFullYear()?1e3*o:o,c_.debug("checking if federated jwt token expired"),o>new Date().getTime())?(c_.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:n,user:r,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(c_.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:r})):(c_.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,r=e.refreshHandler,n=e.provider,i=e.user;return sl(r,[],1e4).then(function(e){return c_.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:n,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),c_.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},e.prototype._isExpired=function(e){if(!e)return c_.debug("no credentials for expiration check"),!0;c_.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return cA(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a=this;return cx(this,function(u){switch(u.label){case 0:if(c_.debug("setting credentials for guest"),t=(e=this._config).identityPoolId,r=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return c_.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!r)return c_.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];return i=this,[4,this._getGuestIdentityId()];case 1:return n=i._identityId=u.sent(),o=new cE({region:r,customUserAgent:oL()}),s=void 0,s=n?ay({identityId:n,client:o})():cA(a,void 0,void 0,function(){var e;return cx(this,function(r){switch(r.label){case 0:return[4,o.send(new av({IdentityPoolId:t}))];case 1:return e=r.sent().IdentityId,this._identityId=e,[2,ay({client:o,identityId:e})()]}})}).catch(function(e){return cA(a,void 0,void 0,function(){return cx(this,function(t){throw e})})}),[2,this._loadCredentials(s,"guest",!1,null).then(function(e){return e}).catch(function(e){return cA(a,void 0,void 0,function(){var r=this;return cx(this,function(i){switch(i.label){case 0:if(!("ResourceNotFoundException"===e.name&&e.message==="Identity '"+n+"' not found."))return[3,2];return c_.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()];case 1:return i.sent(),s=cA(r,void 0,void 0,function(){var e;return cx(this,function(r){switch(r.label){case 0:return[4,o.send(new av({IdentityPoolId:t}))];case 1:return e=r.sent().IdentityId,this._identityId=e,[2,ay({client:o,identityId:e})()]}})}).catch(function(e){return cA(r,void 0,void 0,function(){return cx(this,function(t){throw e})})}),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,r=e.token,n=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=r;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return c_.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return c_.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new cE({region:u,customUserAgent:oL()}),l=void 0;if(n){var f={identityId:n,logins:o,client:c};l=ay(f)()}else{var f={logins:o,identityPoolId:a,client:c};l=(function(e){var t=this,r=e.accountId,n=e.cache,i=void 0===n?"object"==typeof self&&self.indexedDB?new ab:"object"==typeof window&&window.localStorage?window.localStorage:aw:n,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return sS(t,void 0,void 0,function(){var e,t,n,c,l,h,p,g;return sE(this,function(y){switch(y.label){case 0:if(!(t=f))return[3,2];return[4,i.getItem(f)];case 1:t=y.sent(),y.label=2;case 2:if(e=t)return[3,7];if(l=(c=o).send,h=av.bind,g={AccountId:r,IdentityPoolId:a},!u)return[3,4];return[4,ag(u)];case 3:return p=y.sent(),[3,5];case 4:p=void 0,y.label=5;case 5:return[4,l.apply(c,[new(h.apply(av,[void 0,(g.Logins=p,g)]))])];case 6:e=void 0===(n=y.sent().IdentityId)?function(){throw new ap("Response from Amazon Cognito contained no identity ID")}():n,f&&Promise.resolve(i.setItem(f,e)).catch(function(){}),y.label=7;case 7:return[2,(d=ay({client:o,customRoleArn:s,logins:u,identityId:e}))()]}})})};return function(){return d().catch(function(e){return sS(t,void 0,void 0,function(){return sE(this,function(t){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),e})})})}})(f)()}return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;c_.debug("set credentials from session");var r=e.getIdToken().getJwtToken(),n=this._config,i=n.region,o=n.userPoolId,s=n.identityPoolId;if(!s)return c_.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return c_.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=r;var u=new cE({region:i,customUserAgent:oL()}),c=cA(t,void 0,void 0,function(){var e,t,r,n,i,o,c,l,f;return cx(this,function(d){switch(d.label){case 0:return[4,this._getGuestIdentityId()];case 1:if(e=d.sent())return[3,3];return[4,u.send(new av({IdentityPoolId:s,Logins:a}))];case 2:t=d.sent().IdentityId,d.label=3;case 3:return[4,u.send(new ad({IdentityId:e||t,Logins:a}))];case 4:if(i=(n=(r=d.sent()).Credentials).AccessKeyId,o=n.Expiration,c=n.SecretKey,l=n.SessionToken,f=r.IdentityId,this._identityId=f,!e)return[3,6];return c_.debug("The guest identity "+e+" has been successfully linked to the logins"),e===f&&c_.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()];case 5:d.sent(),d.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:c,sessionToken:l,expiration:o,identityId:f}]}})}).catch(function(e){return cA(t,void 0,void 0,function(){return cx(this,function(t){throw e})})});return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,r,n){var i=this,o=this;return new Promise(function(s,a){e.then(function(e){return cA(i,void 0,void 0,function(){var i,a,u,c,l;return cx(this,function(f){switch(f.label){case 0:if(c_.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=r,o._credentials_source=t,o._nextCredentialsRefresh=new Date().getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},n.user),a=n.provider,u=n.token,c=n.expires_at,l=n.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){c_.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,2];return[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}})})}).catch(function(t){if(t){c_.debug("Failed to load credentials",e),c_.debug("Error loading credentials",t),a(t);return}})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(c_.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return cA(this,void 0,void 0,function(){return cx(this,function(e){return this._credentials=null,this._credentials_source=null,c_.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return cA(this,void 0,void 0,function(){var e,t;return cx(this,function(r){switch(r.label){case 0:e=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=r.sent(),c_.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(e){return cA(this,void 0,void 0,function(){var t,r;return cx(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return r=n.sent(),c_.debug("Failed to cache guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return cA(this,void 0,void 0,function(){var e;return cx(this,function(t){return e=this._config.identityPoolId,c_.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);oT.register(ck);var cP=function(){function e(){this._logger=new ok("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var r=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise(function(n,i){if(!(navigator&&"serviceWorker"in navigator))return i(Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then(function(e){return e.installing?r._serviceWorker=e.installing:e.waiting?r._serviceWorker=e.waiting:e.active&&(r._serviceWorker=e.active),r._registration=e,r._setupListeners(),r._logger.debug("Service Worker Registration Success: "+e),n(e)}).catch(function(e){return r._logger.debug("Service Worker Registration Failed "+e),i(e)})})},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw Error("Service Worker not registered");return this._publicKey=e,new Promise(function(r,n){if(!o2().isBrowser)return n(Error("Service Worker not available"));t._registration.pushManager.getSubscription().then(function(n){if(!n)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then(function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),r(e)}).catch(function(e){t._logger.error(e)});t._subscription=n,t._logger.debug("User is subscribed to push: "+JSON.stringify(n)),r(n)})})},e.prototype._urlB64ToUint8Array=function(e){for(var t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length),o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",function(t){var r=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+r),oT.Analytics&&"function"==typeof oT.Analytics.record&&oT.Analytics.record({name:"ServiceWorker",attributes:{state:r}})}),this._serviceWorker.addEventListener("message",function(t){e._logger.debug("ServiceWorker message event: "+t)})},e}();eU=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=e.split(";"),i=(t||{}).decode||cI,o=0;o<n.length;o++){var s=n[o],a=s.indexOf("=");if(!(a<0)){var u=s.substring(0,a).trim();if(void 0==r[u]){var c=s.substring(a+1,s.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),r[u]=function(e,t){try{return t(e)}catch(t){return e}}(c,i)}}}return r},eL=function(e,t,r){var n=r||{},i=n.encode||cT;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!cO.test(e))throw TypeError("argument name is invalid");var o=i(t);if(o&&!cO.test(o))throw TypeError("argument val is invalid");var s=e+"="+o;if(null!=n.maxAge){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!cO.test(n.domain))throw TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!cO.test(n.path))throw TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return s};var cI=decodeURIComponent,cT=encodeURIComponent,cO=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function cU(e,t){void 0===t&&(t={});var r,n=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(r=t.doNotParse)&&(r=!n||"{"!==n[0]&&"["!==n[0]&&'"'!==n[0]),!r)try{return JSON.parse(n)}catch(e){}return e}var cL=function(){return(cL=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},cM=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?eU(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){r.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=eU(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),cU(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=cU(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var n;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=cL(cL({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=eL(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=cL(cL({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=cL({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=eL(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),cR=o2().isBrowser,cN=function(){function e(e){void 0===e&&(e={}),this.cookies=new cM,this.store=cR?window.localStorage:Object.create(null),this.cookies=e.req?new cM(e.req.headers.cookie):new cM,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(Array(this.length)).map(function(t,r){return e.key(r)}).forEach(function(t){return e.removeItem(t)})},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":cR?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}();function cD(e){return e&&!!["provider"].find(function(t){return e.hasOwnProperty(t)})}function cj(e){return void 0!==e.redirectSignIn}oU.userAgent,(u=eM||(eM={})).Cognito="COGNITO",u.Google="Google",u.Facebook="Facebook",u.Amazon="LoginWithAmazon",u.Apple="SignInWithApple",(c=eR||(eR={})).NoConfig="noConfig",c.MissingAuthConfig="missingAuthConfig",c.EmptyUsername="emptyUsername",c.InvalidUsername="invalidUsername",c.EmptyPassword="emptyPassword",c.EmptyCode="emptyCode",c.SignUpError="signUpError",c.NoMFA="noMFA",c.InvalidMFA="invalidMFA",c.EmptyChallengeResponse="emptyChallengeResponse",c.NoUserSession="noUserSession",c.Default="default",c.DeviceConfig="deviceConfig",c.NetworkError="networkError";/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 *//*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var cB=/*#__PURE__*/function(){function e(e){var t=e||{},r=t.ValidationData,n=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=r||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=n,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),cF=oS("kuxul"),cz=oS("9NvM5"),cK={},cq={}.toString;function cH(){return cG.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function cV(e,t){if(cH()<t)throw RangeError("Invalid typed array length");return cG.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=cG.prototype:(null===e&&(e=new cG(t)),e.length=t),e}function cG(e,t,r){if(!cG.TYPED_ARRAY_SUPPORT&&!(this instanceof cG))return new cG(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return cY(this,e)}return cW(this,e,t,r)}function cW(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),cG.TYPED_ARRAY_SUPPORT?(e=t).__proto__=cG.prototype:e=cJ(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!cG.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|cX(t,r),i=(e=cV(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(cG.isBuffer(t)){var r,n=0|cZ(t.length);return 0===(e=cV(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?cV(e,0):cJ(e,t);if("Buffer"===t.type&&cK(t.data))return cJ(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c$(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function cY(e,t){if(c$(t),e=cV(e,t<0?0:0|cZ(t)),!cG.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function cJ(e,t){var r=t.length<0?0:0|cZ(t.length);e=cV(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function cZ(e){if(e>=cH())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+cH().toString(16)+" bytes");return 0|e}function cX(e,t){if(cG.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return lr(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return li(e).length;default:if(n)return lr(e).length;t=(""+t).toLowerCase(),n=!0}}function cQ(e,t,r){var n,i,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",s=t;s<r;++s)o+=(n=e[s])<16?"0"+n.toString(16):n.toString(16);return o}(this,t,r);case"utf8":case"utf-8":return c3(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return n=t,i=r,0===n&&i===this.length?cF.fromByteArray(this):cF.fromByteArray(this.slice(n,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function c0(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function c1(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),isNaN(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=cG.from(t,n)),cG.isBuffer(t))return 0===t.length?-1:c2(e,t,r,n,i);if("number"==typeof t)return(t&=255,cG.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):c2(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function c2(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return -1}function c3(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function c4(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function c6(e,t,r,n,i,o){if(!cG.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function c5(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function c8(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function c7(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function c9(e,t,r,n,i){return i||c7(e,t,r,4,34028234663852886e22,-34028234663852886e22),cz.write(e,t,r,n,23,4),r+4}function le(e,t,r,n,i){return i||c7(e,t,r,8,17976931348623157e292,-17976931348623157e292),cz.write(e,t,r,n,52,8),r+8}cK=Array.isArray||function(e){return"[object Array]"==cq.call(e)},cG.TYPED_ARRAY_SUPPORT=void 0!==ov.TYPED_ARRAY_SUPPORT?ov.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),cH(),cG.poolSize=8192,cG._augment=function(e){return e.__proto__=cG.prototype,e},cG.from=function(e,t,r){return cW(null,e,t,r)},cG.TYPED_ARRAY_SUPPORT&&(cG.prototype.__proto__=Uint8Array.prototype,cG.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&cG[Symbol.species]===cG&&Object.defineProperty(cG,Symbol.species,{value:null,configurable:!0})),cG.alloc=function(e,t,r){return(c$(e),e<=0)?cV(null,e):void 0!==t?"string"==typeof r?cV(null,e).fill(t,r):cV(null,e).fill(t):cV(null,e)},cG.allocUnsafe=function(e){return cY(null,e)},cG.allocUnsafeSlow=function(e){return cY(null,e)},cG.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},cG.compare=function(e,t){if(!cG.isBuffer(e)||!cG.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},cG.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cG.concat=function(e,t){if(!cK(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return cG.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=cG.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!cG.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},cG.byteLength=cX,cG.prototype._isBuffer=!0,cG.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)c0(this,t,t+1);return this},cG.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)c0(this,t,t+3),c0(this,t+1,t+2);return this},cG.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)c0(this,t,t+7),c0(this,t+1,t+6),c0(this,t+2,t+5),c0(this,t+3,t+4);return this},cG.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?c3(this,0,e):cQ.apply(this,arguments)},cG.prototype.equals=function(e){if(!cG.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===cG.compare(this,e)},cG.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},cG.prototype.compare=function(e,t,r,n,i){if(!cG.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},cG.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},cG.prototype.indexOf=function(e,t,r){return c1(this,e,t,r,!0)},cG.prototype.lastIndexOf=function(e,t,r){return c1(this,e,t,r,!1)},cG.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,d,h,p,g,y=this.length-t;if((void 0===r||r>y)&&(r=y),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var v=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return u=t,c=r,lo(lr(e,this.length-u),this,u,c);case"ascii":return l=t,f=r,lo(ln(e),this,l,f);case"latin1":case"binary":return i=this,o=e,s=t,a=r,lo(ln(o),i,s,a);case"base64":return d=t,h=r,lo(li(e),this,d,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,g=r,lo(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-p),this,p,g);default:if(v)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),v=!0}},cG.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},cG.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),cG.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=cG.prototype;else{var i=t-e;r=new cG(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},cG.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||c4(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},cG.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||c4(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},cG.prototype.readUInt8=function(e,t){return t||c4(e,1,this.length),this[e]},cG.prototype.readUInt16LE=function(e,t){return t||c4(e,2,this.length),this[e]|this[e+1]<<8},cG.prototype.readUInt16BE=function(e,t){return t||c4(e,2,this.length),this[e]<<8|this[e+1]},cG.prototype.readUInt32LE=function(e,t){return t||c4(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},cG.prototype.readUInt32BE=function(e,t){return t||c4(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},cG.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||c4(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},cG.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||c4(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},cG.prototype.readInt8=function(e,t){return(t||c4(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},cG.prototype.readInt16LE=function(e,t){t||c4(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},cG.prototype.readInt16BE=function(e,t){t||c4(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},cG.prototype.readInt32LE=function(e,t){return t||c4(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},cG.prototype.readInt32BE=function(e,t){return t||c4(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},cG.prototype.readFloatLE=function(e,t){return t||c4(e,4,this.length),cz.read(this,e,!0,23,4)},cG.prototype.readFloatBE=function(e,t){return t||c4(e,4,this.length),cz.read(this,e,!1,23,4)},cG.prototype.readDoubleLE=function(e,t){return t||c4(e,8,this.length),cz.read(this,e,!0,52,8)},cG.prototype.readDoubleBE=function(e,t){return t||c4(e,8,this.length),cz.read(this,e,!1,52,8)},cG.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;c6(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},cG.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;c6(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},cG.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,1,255,0),cG.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},cG.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,2,65535,0),cG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):c5(this,e,t,!0),t+2},cG.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,2,65535,0),cG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):c5(this,e,t,!1),t+2},cG.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,4,4294967295,0),cG.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):c8(this,e,t,!0),t+4},cG.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,4,4294967295,0),cG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):c8(this,e,t,!1),t+4},cG.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);c6(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},cG.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);c6(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},cG.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,1,127,-128),cG.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},cG.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,2,32767,-32768),cG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):c5(this,e,t,!0),t+2},cG.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,2,32767,-32768),cG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):c5(this,e,t,!1),t+2},cG.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,4,2147483647,-2147483648),cG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):c8(this,e,t,!0),t+4},cG.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||c6(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),cG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):c8(this,e,t,!1),t+4},cG.prototype.writeFloatLE=function(e,t,r){return c9(this,e,t,!0,r)},cG.prototype.writeFloatBE=function(e,t,r){return c9(this,e,t,!1,r)},cG.prototype.writeDoubleLE=function(e,t,r){return le(this,e,t,!0,r)},cG.prototype.writeDoubleBE=function(e,t,r){return le(this,e,t,!1,r)},cG.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!cG.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},cG.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!cG.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=cG.isBuffer(e)?e:lr(new cG(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var lt=/[^+\/0-9A-Za-z-_]/g;function lr(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function ln(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function li(e){return cF.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(lt,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function lo(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}var ls=oS("3OBZa");oS("dOqqi");var la=oS("dCBbD"),lu=oS("WS9F7");if("undefined"!=typeof window&&window.crypto&&(eN=window.crypto),!eN&&"undefined"!=typeof window&&window.msCrypto&&(eN=window.msCrypto),!eN&&void 0!==ov&&ov.crypto&&(eN=ov.crypto),!eN)try{eN=oS("kjyEk")}catch(e){}var lc=/*#__PURE__*/function(){function e(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=4*e.length}var t=e.prototype;return t.random=function(t){for(var r=[],n=0;n<t;n+=4)r.push(function(){if(eN){if("function"==typeof eN.getRandomValues)try{return eN.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof eN.randomBytes)try{return eN.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}());return new e(r,t)},t.toString=function(){return function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")}(this)},e}();function ll(e,t){null!=e&&this.fromString(e,t)}function lf(){return new ll(null)}var ld="undefined"!=typeof navigator;ld&&"Microsoft Internet Explorer"==navigator.appName?(ll.prototype.am=function(e,t,r,n,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},eD=30):ld&&"Netscape"!=navigator.appName?(ll.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},eD=26):(ll.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+a*c,r[n++]=268435455&u}return i},eD=28),ll.prototype.DB=eD,ll.prototype.DM=(1<<eD)-1,ll.prototype.DV=1<<eD,ll.prototype.FV=4503599627370496,ll.prototype.F1=52-eD,ll.prototype.F2=2*eD-52;var lh=[];for(eB=0,ej=48;eB<=9;++eB)lh[ej++]=eB;for(eB=10,ej=97;eB<36;++eB)lh[ej++]=eB;for(eB=10,ej=65;eB<36;++eB)lh[ej++]=eB;function lp(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function lg(e){var t=lf();return t.fromInt(e),t}function ly(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function lv(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function lm(e){return cG.from(new lc().random(e).toString(),"hex")}lv.prototype.convert=function(e){var t=lf();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ll.ZERO)>0&&this.m.subTo(t,t),t},lv.prototype.revert=function(e){var t=lf();return e.copyTo(t),this.reduce(t),t},lv.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},lv.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},lv.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},ll.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},ll.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},ll.prototype.fromString=function(e,t){if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else if(4==t)r=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var r,n=e.length,i=!1,o=0;--n>=0;){var s=function(e,t){var r=lh[e.charCodeAt(t)];return null==r?-1:r}(e,n);if(s<0){"-"==e.charAt(n)&&(i=!0);continue}i=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB)}this.clamp(),i&&ll.ZERO.subTo(this,this)},ll.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},ll.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},ll.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},ll.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},ll.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()},ll.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},ll.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&ll.ZERO.subTo(t,t)},ll.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},ll.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=lf());var o=lf(),s=this.s,a=e.s,u=this.DB-ly(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=r.t,y=g-c,v=null==t?lf():t;for(o.dlShiftTo(y,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),ll.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){var m=r[--g]==l?this.DM:Math.floor(r[g]*d+(r[g-1]+p)*h);if((r[g]+=o.am(0,m,r,y,0,c))<m)for(o.dlShiftTo(y,v),r.subTo(v,r);r[g]<--m;)r.subTo(v,r)}null!=t&&(r.drShiftTo(c,t),s!=a&&ll.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&ll.ZERO.subTo(r,r)}}},ll.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},ll.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},ll.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else if(4==e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var t,r,n=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=lp(r));s>=0;)a<t?r=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(r=this[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=lp(r));return i?o:"0"},ll.prototype.negate=function(){var e=lf();return ll.ZERO.subTo(this,e),e},ll.prototype.abs=function(){return this.s<0?this.negate():this},ll.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},ll.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ly(this[this.t-1]^this.s&this.DM)},ll.prototype.mod=function(e){var t=lf();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ll.ZERO)>0&&e.subTo(t,t),t},ll.prototype.equals=function(e){return 0==this.compareTo(e)},ll.prototype.add=function(e){var t=lf();return this.addTo(e,t),t},ll.prototype.subtract=function(e){var t=lf();return this.subTo(e,t),t},ll.prototype.multiply=function(e){var t=lf();return this.multiplyTo(e,t),t},ll.prototype.divide=function(e){var t=lf();return this.divRemTo(e,t,null),t},ll.prototype.modPow=function(e,t,r){var n,i=e.bitLength(),o=lg(1),s=new lv(t);if(i<=0)return o;var a=[],u=3,c=(n=i<18?1:i<48?3:i<144?4:i<768?5:6)-1,l=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=lf();for(s.sqrTo(a[1],f);u<=l;)a[u]=lf(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,y=lf();for(i=ly(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=n;(1&d)==0;)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,y),s.sqrTo(y,o),u-=2;u>0?s.sqrTo(o,y):(h=o,o=y,y=h),s.mulTo(y,a[d],o)}for(;p>=0&&(e[p]&1<<i)==0;)s.sqrTo(o,y),h=o,o=y,y=h,--i<0&&(i=this.DB-1,--p)}var v=s.revert(o);return r(null,v),v},ll.ZERO=lg(0),ll.ONE=lg(1);var lb=/^[89a-f]/i,lw=/*#__PURE__*/function(){function e(e){this.N=new ll("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new ll("2",16),this.k=new ll(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=cG.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(r,n){r&&e(r,null),t.largeAValue=n,e(null,t.largeAValue)})},t.generateRandomSmallA=function(){return new ll(lm(128).toString("hex"),16)},t.generateRandomString=function(){return lm(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,r){var n=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=lm(16).toString("hex");this.SaltToHashDevices=this.padHex(new ll(s,16)),this.g.modPow(new ll(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&r(e,null),n.verifierDevices=n.padHex(t),r(null,null)})},t.calculateA=function(e,t){var r=this;this.g.modPow(e,this.N,function(e,n){e&&t(e,null),n.mod(r.N).equals(ll.ZERO)&&t(Error("Illegal paramater. A mod N cannot be 0."),null),t(null,n)})},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new ll(this.UHexHash,16)},t.hash=function(e){var t=e instanceof cG?/*@__PURE__*/om(ls).lib.WordArray.create(e):e,r=/*@__PURE__*/om(la)(t).toString();return Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(cG.from(e,"hex"))},t.computehkdf=function(e,t){var r=/*@__PURE__*/om(ls).lib.WordArray.create(cG.concat([this.infoBits,cG.from("\x01","utf8")])),n=e instanceof cG?/*@__PURE__*/om(ls).lib.WordArray.create(e):e,i=t instanceof cG?/*@__PURE__*/om(ls).lib.WordArray.create(t):t,o=/*@__PURE__*/om(lu)(n,i),s=/*@__PURE__*/om(lu)(r,o);return cG.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,r,n,i){var o=this;if(r.mod(this.N).equals(ll.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,r),this.UValue.equals(ll.ZERO))throw Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new ll(this.hexHash(this.padHex(n)+a),16);this.calculateS(u,r,function(e,t){e&&i(e,null),i(null,o.computehkdf(cG.from(o.padHex(t),"hex"),cG.from(o.padHex(o.UValue),"hex")))})},t.calculateS=function(e,t,r){var n=this;this.g.modPow(e,this.N,function(i,o){i&&r(i,null),t.subtract(n.k.multiply(o)).modPow(n.smallAValue.add(n.UValue.multiply(e)),n.N,function(e,t){e&&r(e,null),r(null,t.mod(n.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof ll))throw Error("Not a BigInteger");var t=0>e.compareTo(ll.ZERO),r=e.abs().toString(16);return r=r.length%2!=0?"0"+r:r,r=lb.test(r)?"00"+r:r,t&&(r=new ll(r.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(ll.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(r=r.substring(2)),r},e}(),lS=/*#__PURE__*/function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(cG.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function lE(e,t){return(lE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lC=/*#__PURE__*/function(e){function t(t){var r=(void 0===t?{}:t).AccessToken;return e.call(this,r||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lE(t,e),t}(lS);function lA(e,t){return(lA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lx=/*#__PURE__*/function(e){function t(t){var r=(void 0===t?{}:t).IdToken;return e.call(this,r||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lA(t,e),t}(lS),l_=/*#__PURE__*/function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),ls=oS("3OBZa");oS("dOqqi");var lk=oS("33Dov"),lu=oS("WS9F7"),lP=/*#__PURE__*/function(){function e(e){var t=void 0===e?{}:e,r=t.IdToken,n=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==r)throw Error("Id token and Access Token must be present.");this.idToken=r,this.refreshToken=n,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),lI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lT=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lO=/*#__PURE__*/function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=lT[e.getUTCDay()],r=lI[e.getUTCMonth()],n=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+r+" "+n+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),lU=/*#__PURE__*/function(){function e(e){var t=void 0===e?{}:e,r=t.Name,n=t.Value;this.Name=r||"",this.Value=n||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),lL={},lM=/*#__PURE__*/function(){function e(){}return e.setItem=function(e,t){return lL[e]=t,lL[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(lL,e)?lL[e]:void 0},e.removeItem=function(e){return delete lL[e]},e.clear=function(){return lL={}},e}(),lR=/*#__PURE__*/function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=lM}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),lN="undefined"!=typeof navigator?navigator.userAgent:"nodejs",lD=/*#__PURE__*/function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new lR().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var r=this,n=e.getAuthParameters();n.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:n,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,function(e,n){if(e)return t.onFailure(e);var i=n.ChallengeName,o=n.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(r.Session=n.Session,t.customChallenge(o)):(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),t.onSuccess(r.signInUserSession))})},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var r,n,i=this,o=new lw(this.pool.getUserPoolId().split("_")[1]),s=new lO,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue(function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",r=new ll(c.SRP_B,16),n=new ll(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),r,n,function(e,r){e&&t.onFailure(e);var n=s.getNowString(),a=/*@__PURE__*/om(ls).lib.WordArray.create(cG.concat([cG.from(i.pool.getUserPoolId().split("_")[1],"utf8"),cG.from(i.username,"utf8"),cG.from(c.SECRET_BLOCK,"base64"),cG.from(n,"utf8")])),f=/*@__PURE__*/om(ls).lib.WordArray.create(r),d=/*@__PURE__*/om(lk).stringify(/*@__PURE__*/om(lu)(a,f)),h={};h.USERNAME=i.username,h.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,h.TIMESTAMP=n,h.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(h.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,r){return i.client.request("RespondToAuthChallenge",t,function(n,o){return n&&"ResourceNotFoundException"===n.code&&-1!==n.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,r)):r(n,o)})}(p,function(e,r){return e?t.onFailure(e):i.authenticateUserInternal(r,o,t)})})})})},t.authenticateUserPlainUsernamePassword=function(e,t){var r=this,n={};if(n.USERNAME=this.username,n.PASSWORD=e.getPassword(),!n.PASSWORD){t.onFailure(Error("PASSWORD parameter is required"));return}var i=new lw(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(n.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:n,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)})},t.authenticateUserInternal=function(e,t,r){var n=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,r.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,r.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,r.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,r.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,r.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return r.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i){this.Session=e.Session,this.getDeviceResponse(r);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return r.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return r.onFailure(i);var o={Salt:cG.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:cG.from(t.getVerifierDevices(),"hex").toString("base64")};n.verifierDevices=o.PasswordVerifier,n.deviceGroupKey=f.DeviceGroupKey,n.randomPassword=t.getRandomPassword(),n.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:n.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:lN},function(t,i){return t?r.onFailure(t):(n.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,n.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary)?r.onSuccess(n.signInUserSession,i.UserConfirmationNecessary):r.onSuccess(n.signInUserSession)})})},t.completeNewPasswordChallenge=function(e,t,r,n){var i=this;if(!e)return r.onFailure(Error("New password is required."));var o=new lw(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach(function(e){a[s+e]=t[e]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(e,t){return e?r.onFailure(e):i.authenticateUserInternal(t,o,r)})},t.getDeviceResponse=function(e,t){var r=this,n=new lw(this.deviceGroupKey),i=new lO,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,n.getLargeAValue(function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:r.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:r.Session};r.getUserContextData()&&(u.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",u,function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new ll(s.SRP_B,16),u=new ll(s.SALT,16);n.getPasswordAuthenticationKey(r.deviceKey,r.randomPassword,a,u,function(t,n){if(t)return e.onFailure(t);var a=i.getNowString(),u=/*@__PURE__*/om(ls).lib.WordArray.create(cG.concat([cG.from(r.deviceGroupKey,"utf8"),cG.from(r.deviceKey,"utf8"),cG.from(s.SECRET_BLOCK,"base64"),cG.from(a,"utf8")])),c=/*@__PURE__*/om(ls).lib.WordArray.create(n),l=/*@__PURE__*/om(lk).stringify(/*@__PURE__*/om(lu)(u,c)),f={};f.USERNAME=r.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=a,f.PASSWORD_CLAIM_SIGNATURE=l,f.DEVICE_KEY=r.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:f,Session:o.Session};r.getUserContextData()&&(d.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",d,function(t,n){return t?e.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),e.onSuccess(r.signInUserSession))})})})})},t.confirmRegistration=function(e,t,r,n){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:n};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,function(e){return e?r(e,null):r(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(e,t,r){var n=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new lw(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)})},t.sendMFACode=function(e,t,r,n){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=r||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(e,r){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"===r.ChallengeName){i.getDeviceResponse(t);return}if(i.signInUserSession=i.getCognitoUserSession(r.AuthenticationResult),i.cacheTokens(),null==r.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var n=new lw(i.pool.getUserPoolId().split("_")[1]);n.generateHashDevice(r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var o={Salt:cG.from(n.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:cG.from(n.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=n.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:r.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:lN},function(e,n){return e?t.onFailure(e):(i.deviceKey=r.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===n.UserConfirmationNecessary)?t.onSuccess(i.signInUserSession,n.UserConfirmationNecessary):t.onSuccess(i.signInUserSession)})})})},t.changePassword=function(e,t,r,n){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return r(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(e){return e?r(e,null):r(null,"SUCCESS")})},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.setUserMfaPreference=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?r(e,null):r(null,"SUCCESS")})},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.deleteUser=function(e,t){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(r.clearCachedUser(),e(null,"SUCCESS"))})},t.updateAttributes=function(e,t,r){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:r},function(e){return e?t(e,null):n.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){if(t)return e(t,null);for(var n=[],i=0;i<r.UserAttributes.length;i++){var o=new lU({Name:r.UserAttributes[i].Name,Value:r.UserAttributes[i].Value});n.push(o)}return e(null,n)})},t.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){return t?e(t,null):e(null,r.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(r){var n=t.signInUserSession.getRefreshToken();n&&n.getToken()?t.refreshSession(n,r,e.clientMetadata):r()})},t.getUserData=function(e,t){var r=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var n=this.getUserDataFromCache();if(!n){this.fetchUserData().then(function(t){e(null,t)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(t)){this.fetchUserData().then(function(e){return r.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);return}try{e(null,JSON.parse(n));return}catch(t){this.clearCachedUserData(),e(t,null);return}},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},t.deleteAttributes=function(e,t){var r=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):r.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(e,t){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",r,function(t,r){return t?e(t,null):e(null,r)})},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=r+".idToken";if(this.storage.getItem(n)){var i=new lx({IdToken:this.storage.getItem(n)}),o=new lC({AccessToken:this.storage.getItem(r+".accessToken")}),s=new l_({RefreshToken:this.storage.getItem(r+".refreshToken")}),a=new lP({IdToken:i,AccessToken:o,RefreshToken:s,ClockDrift:parseInt(this.storage.getItem(r+".clockDrift"),0)||0});if(a.isValid())return this.signInUserSession=a,e(null,this.signInUserSession);if(!s.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(s,e,t.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,r){var n=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(t,r){if(t)return"NotAuthorizedException"===t.code&&n.clearCachedUser(),i(t,null);if(r){var o=r.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),n.signInUserSession=n.getCognitoUserSession(o),n.cacheTokens(),i(null,n.signInUserSession)}})},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",r=e+"."+this.username+".accessToken",n=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(e+".LastAuthUser",this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.setItem(e+".deviceKey",this.deviceKey),this.storage.setItem(e+".randomPasswordKey",this.randomPassword),this.storage.setItem(e+".deviceGroupKey",this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(e+".randomPasswordKey"),this.deviceGroupKey=this.storage.getItem(e+".deviceGroupKey"))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.removeItem(e+".deviceKey"),this.storage.removeItem(e+".randomPasswordKey"),this.storage.removeItem(e+".deviceGroupKey")},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",r=e+"."+this.username+".accessToken",n=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(r),this.storage.removeItem(n),this.storage.removeItem(e+".LastAuthUser"),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){return new lP({IdToken:new lx(e),AccessToken:new lC(e),RefreshToken:new l_(e)})},t.forgotPassword=function(e,t){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",r,function(t,r){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(r):e.onSuccess(r)})},t.confirmPassword=function(e,t,r,n){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:n};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,function(e){return e?r.onFailure(e):r.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(e,r){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(r):t.onSuccess("SUCCESS")})},t.verifyAttribute=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?r.onFailure(e):r.onSuccess("SUCCESS")})},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,r){return t?e.onFailure(t):e.onSuccess(r)})},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(r){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(r)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.listDevices=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(Error("User is not authenticated"));var n={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(n.PaginationToken=t),this.client.request("ListDevices",n,function(e,t){return e?r.onFailure(e):r.onSuccess(t)})},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r){return r?e.onFailure(r):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},t.signOut=function(e){var t=this;if(!e||"function"!=typeof e){this.cleanClientData();return}this.getSession(function(r,n){if(r)return e(r);t.revokeTokens(function(r){t.cleanClientData(),e(r)})})},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),r=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(r)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,r=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return r(e);r()})},t.sendMFASelectionAnswer=function(e,t){var r=this,n={};n.USERNAME=this.username,n.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:n,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(n,i){return n?t.onFailure(n):(r.Session=i.Session,"SMS_MFA"===e)?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0})},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){return t?e.onFailure(t):e.associateSecretCode(r.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(r,n){return r?e.onFailure(r):(t.Session=n.Session,e.associateSecretCode(n.SecretCode))})},t.verifySoftwareToken=function(e,t,r){var n=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?r.onFailure(e):r.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return r.onFailure(e);n.Session=t.Session;var i={};i.USERNAME=n.username;var o={ChallengeName:"MFA_SETUP",ClientId:n.pool.getClientId(),ChallengeResponses:i,Session:n.Session};n.getUserContextData()&&(o.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",o,function(e,t){return e?r.onFailure(e):(n.signInUserSession=n.getCognitoUserSession(t.AuthenticationResult),n.cacheTokens(),r.onSuccess(n.signInUserSession))})})},e}();self.fetch||(self.fetch=oS("laOt8").default||oS("laOt8"));var lj="aws-amplify/5.0.4",lB={userAgent:lj+" js",product:"",navigator:null,isReactNative:!1};function lF(){}function lz(e){var t="function"==typeof Map?new Map:void 0;return(lz=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return lK(e,arguments,lH(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),lq(r,e)})(e)}function lK(e,t,r){return(lK=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&lq(i,r.prototype),i}:Reflect.construct).apply(null,arguments)}function lq(e,t){return(lq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lH(e){return(lH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof navigator&&navigator.product&&((lB.product=navigator.product||"",lB.navigator=navigator||null,"ReactNative"===navigator.product)?(lB.userAgent=lj+" react-native",lB.isReactNative=!0):(lB.userAgent=lj+" js",lB.isReactNative=!1)),lF.prototype.userAgent=lB.userAgent;var lV=/*#__PURE__*/function(e){function t(t,r,n,i){var o;return(o=e.call(this,t)||this).code=r,o.name=n,o.statusCode=i,o}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lq(t,e),t}(/*#__PURE__*/lz(Error)),lG=/*#__PURE__*/function(){function e(e,t,r){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var n=(r||{}).credentials;this.fetchOptions=n?{credentials:n}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var r=this;return new Promise(function(n,i){r.request(e,t,function(e,t){e?i(new lV(e.message,e.code,e.name,e.statusCode)):n(t)})})},t.requestWithRetry=function(e,t,r){var n=this;(function e(t,r,n,i){if(void 0===i&&(i=1),"function"!=typeof t)throw Error("functionToRetry must be a function");return lW.debug(t.name+" attempt #"+i+" with args: "+JSON.stringify(r)),t.apply(void 0,r).catch(function(o){if(lW.debug("error on "+t.name,o),o&&o.nonRetryable)throw lW.debug(t.name+" non retryable error",o),o;var s=n(i,r,o);if(lW.debug(t.name+" retrying in "+s+" ms"),!1!==s)return new Promise(function(e){return setTimeout(e,s)}).then(function(){return e(t,r,n,i+1)});throw o})})(function(t){return new Promise(function(r,i){n.request(e,t,function(e,t){e?i(e):r(t)})})},[t],function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>5e3)&&t}).then(function(e){return r(null,e)}).catch(function(e){return r(e)})},t.request=function(e,t,r){var n,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":lF.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then(function(e){return n=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(n.ok)return r(null,e);var t=(e.__type||e.code).split("#").pop(),i=Error(e.message||e.Message||null);return i.name=t,i.code=t,r(i)}).catch(function(e){if(n&&n.headers&&n.headers.get("x-amzn-errortype"))try{var t=n.headers.get("x-amzn-errortype").split(":")[0],i=Error(n.status?n.status.toString():null);return i.code=t,i.name=t,i.statusCode=n.status,r(i)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return r(e)})},e}(),lW={debug:function(){}},l$=/*#__PURE__*/function(){function e(e,t){var r=e||{},n=r.UserPoolId,i=r.ClientId,o=r.endpoint,s=r.fetchOptions,a=r.AdvancedSecurityDataCollectionFlag;if(!n||!i)throw Error("Both UserPoolId and ClientId are required.");if(n.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(n))throw Error("Invalid UserPoolId format.");var u=n.split("_")[0];this.userPoolId=n,this.clientId=i,this.client=new lG(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||new lR().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,r,n,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:r,ValidationData:n,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(t,r){return t?i(t,null):i(null,{user:new lD({Username:e,Pool:s,Storage:s.storage}),userConfirmed:r.UserConfirmed,userSub:r.UserSub,codeDeliveryDetails:r.CodeDeliveryDetails})})},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);return t?new lD({Username:t,Pool:this,Storage:this.storage}):null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var r=t.getData(e,this.userPoolId,this.clientId);if(r)return{EncodedData:r}}return{}}},e}(),lY={};t=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})},"function"==typeof define&&define.amd&&define(t),lY=t();var lJ=/*#__PURE__*/function(){function e(e){if(e.domain)this.domain=e.domain;else throw Error("The domain of cookieStorage can not be undefined.");if(e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var r={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(r.sameSite=this.sameSite),lY.set(e,t,r),lY.get(e)},t.getItem=function(e){return lY.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),lY.remove(e,t)},t.clear=function(){for(var e=lY.get(),t=Object.keys(e).length,r=0;r<t;++r)this.removeItem(Object.keys(e)[r]);return{}},e}(),lZ=(oS("biuEp"),oS("biuEp")),lX=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},lQ=function(e){window.sessionStorage.setItem("oauth_state",e)},l0=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},l1=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},l2=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},la=oS("dCBbD"),lk=oS("33Dov"),l3=function(){return(l3=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l4=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},l6=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l5=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},l8="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",l7=function(e,t,r){oB.dispatch("auth",{event:e,data:t,message:r},"Auth",l8)},l9=new ok("OAuth"),fe=function(){function e(e){var t=e.config,r=e.cognitoClientId,n=e.scopes,i=void 0===n?[]:n;if(this._urlOpener=t.urlOpener||lX,this._config=t,this._cognitoClientId=r,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})},e.prototype.oauthSignIn=function(e,t,r,n,i,o){void 0===e&&(e="code"),void 0===i&&(i=eM.Cognito);var s=this._generateState(32),a=o?s+"-"+o.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""):s;lQ(a);var u=this._generateRandom(128);l1(u);var c=this._generateChallenge(u),l=this._scopes.join(" "),f="https://"+t+"/oauth2/authorize?"+Object.entries(l3(l3({redirect_uri:r,response_type:e,client_id:n,identity_provider:i,scope:l,state:a},"code"===e?{code_challenge:c}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=l5(e,2),r=t[0],n=t[1];return encodeURIComponent(r)+"="+encodeURIComponent(n)}).join("&");l9.debug("Redirecting to "+f),this._urlOpener(f,r)},e.prototype._handleCodeFlow=function(e){return l4(this,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,l,f,d,h;return l6(this,function(p){switch(p.label){case 0:if(t=((0,lZ.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r,n=l5(t,2),i=n[0],o=n[1];return l3(l3({},e),((r={})[i]=o,r))},{code:void 0}).code,r=(0,lZ.parse)(e).pathname||"/",n=(0,lZ.parse)(this._config.redirectSignIn).pathname||"/",!t||r!==n)return[2];return l7("codeFlow",{},"Retrieving tokens from "+(i="https://"+this._config.domain+"/oauth2/token")),o=cj(this._config)?this._cognitoClientId:this._config.clientID,s=cj(this._config)?this._config.redirectSignIn:this._config.redirectUri,a=l2(),u=l3({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s},a?{code_verifier:a}:{}),l9.debug("Calling token endpoint: "+i+" with",u),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object.entries(u).map(function(e){var t=l5(e,2),r=t[0],n=t[1];return encodeURIComponent(r)+"="+encodeURIComponent(n)}).join("&")})];case 1:return[4,p.sent().json()];case 2:if(l=(c=p.sent()).access_token,f=c.refresh_token,d=c.id_token,h=c.error)throw Error(h);return[2,{accessToken:l,refreshToken:f,idToken:d}]}})})},e.prototype._handleImplicitFlow=function(e){return l4(this,void 0,void 0,function(){var t,r,n;return l6(this,function(i){return r=(t=((0,lZ.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r,n=l5(t,2),i=n[0],o=n[1];return l3(l3({},e),((r={})[i]=o,r))},{id_token:void 0,access_token:void 0})).id_token,n=t.access_token,l7("implicitFlow",{},"Got tokens from "+e),l9.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:n,idToken:r,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(e){return l4(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return l6(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=(t=e?l3(l3({},((0,lZ.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r=l5(t,2),n=r[0],i=r[1];return e[n]=i,e},{})),((0,lZ.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r=l5(t,2),n=r[0],i=r[1];return e[n]=i,e},{})):{}).error,n=t.error_description,r)throw Error(n);if(i=this._validateState(t),l9.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType)return[3,2];return o=[{}],[4,this._handleCodeFlow(e)];case 1:return[2,l3.apply(void 0,[l3.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,l3.apply(void 0,[l3.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),l9.error("Error handling auth response.",a),a;case 6:return[2]}})})},e.prototype._validateState=function(e){if(e){var t=l0(),r=e.state;if(t&&t!==r)throw Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return l4(this,void 0,void 0,function(){var e,t,r;return l6(this,function(n){return e="https://"+this._config.domain+"/logout?",t=cj(this._config)?this._cognitoClientId:this._config.oauth.clientID,r=cj(this._config)?this._config.redirectSignOut:this._config.returnTo,l7("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+(e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(r)}).map(function(e){var t=l5(e,2);return t[0]+"="+t[1]}).join("&"))),l9.debug("Signing out from "+e),[2,this._urlOpener(e,r)]})})},e.prototype._generateState=function(e){for(var t="",r=e,n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r>0;--r)t+=n[Math.round(Math.random()*(n.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(/*@__PURE__*/om(la)(e))},e.prototype._base64URL=function(e){return e.toString(/*@__PURE__*/om(lk)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var r=0;r<e;r+=1)t[r]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],n=0;n<e.byteLength;n+=1){var i=e[n]%t.length;r.push(t[i])}return r.join("")},e}(),ft=function(e){if(o5.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(o5.browserOrNode().isNode);else throw Error("Not supported")};(l=eF||(eF={})).DEFAULT_MSG="Authentication Error",l.EMPTY_EMAIL="Email cannot be empty",l.EMPTY_PHONE="Phone number cannot be empty",l.EMPTY_USERNAME="Username cannot be empty",l.INVALID_USERNAME="The username should either be a string or one of the sign in types",l.EMPTY_PASSWORD="Password cannot be empty",l.EMPTY_CODE="Confirmation code cannot be empty",l.SIGN_UP_ERROR="Error creating account",l.NO_MFA="No valid MFA method provided",l.INVALID_MFA="Invalid MFA type",l.EMPTY_CHALLENGE="Challenge response cannot be empty",l.NO_USER_SESSION="Failed to get the session because the user is empty",l.NETWORK_ERROR="Network Error",l.DEVICE_CONFIG="Device tracking has not been configured in this User Pool";var fr=(f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),fn=new ok("AuthError"),fi=function(e){function t(r){var n=this,i=fs[r],o=i.message,s=i.log;return(n=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=s||o,fn.error(n.log),n}return fr(t,e),t}(Error),fo=function(e){function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return fr(t,e),t}(fi),fs={noConfig:{message:eF.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:eF.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:eF.EMPTY_USERNAME},invalidUsername:{message:eF.INVALID_USERNAME},emptyPassword:{message:eF.EMPTY_PASSWORD},emptyCode:{message:eF.EMPTY_CODE},signUpError:{message:eF.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:eF.NO_MFA},invalidMFA:{message:eF.INVALID_MFA},emptyChallengeResponse:{message:eF.EMPTY_CHALLENGE},noUserSession:{message:eF.NO_USER_SESSION},deviceConfig:{message:eF.DEVICE_CONFIG},networkError:{message:eF.NETWORK_ERROR},default:{message:eF.DEFAULT_MSG}},fa=function(){return(fa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fu=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},fc=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},fl=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ff=new ok("AuthClass"),fd="aws.cognito.signin.user.admin",fh="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",fp=function(e,t,r){oB.dispatch("auth",{event:e,data:t,message:r},"Auth",fh)},fg=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=ck,this.wrapRefreshSessionCallback=function(e){return function(t,r){return r?fp("tokenRefresh",void 0,"New token retrieved"):fp("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,r)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),oB.listen("auth",function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};ff.debug("configure Auth");var r=Object.assign({},this._config,se.parseMobilehubConfig(e).Auth,e);this._config=r;var n=this._config,i=n.userPoolId,o=n.userPoolWebClientId,s=n.cookieStorage,a=n.oauth,u=n.region,c=n.identityPoolId,l=n.mandatorySignIn,f=n.refreshHandlers,d=n.identityPoolRegion,h=n.clientMetadata,p=n.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw ff.error("The storage in the Auth config is not valid!"),Error("Empty storage object");this._storage=this._config.storage}else s?this._storage=new lJ(s):this._storage=e.ssr?new cN:new sn().getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var g={UserPoolId:i,ClientId:o,endpoint:p};g.Storage=this._storage,this.userPool=new l$(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:d||u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage});var y=a?cj(this._config.oauth)?a:a.awsCognito:void 0;if(y){var v=Object.assign({cognitoClientId:o,UserPoolId:i,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:h},y.options);this._oAuthHandler=new fe({scopes:v.scopes,config:v,cognitoClientId:v.cognitoClientId});var m={};ft(function(e){var r=e.url;m[r]||(m[r]=!0,t._handleAuthResponse(r))})}return fp("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t,r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var o=null,s=null,a=[],u=null;if(e&&"string"==typeof e){o=e,s=n?n[0]:null;var c=n?n[1]:null,l=n?n[2]:null;c&&a.push(new lU({Name:"email",Value:c})),l&&a.push(new lU({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(eR.SignUpError);o=e.username,s=e.password,e&&e.clientMetadata?t=e.clientMetadata:this._config.clientMetadata&&(t=this._config.clientMetadata);var f=e.attributes;f&&Object.keys(f).map(function(e){a.push(new lU({Name:e,Value:f[e]}))});var d=e.validationData;d&&(u=[],Object.keys(d).map(function(e){u.push(new lU({Name:e,Value:d[e]}))}))}return o?s?(ff.debug("signUp attrs:",a),ff.debug("signUp validation data:",u),new Promise(function(e,n){r.userPool.signUp(o,s,a,u,function(t,r){t?(fp("signUp_failure",t,o+" failed to signup"),n(t)):(fp("signUp",r,o+" has signed up successfully"),e(r))},t)})):this.rejectAuthError(eR.EmptyPassword):this.rejectAuthError(eR.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,r){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(eR.EmptyUsername);if(!t)return this.rejectAuthError(eR.EmptyCode);var n,i=this.createCognitoUser(e),o=!r||"boolean"!=typeof r.forceAliasCreation||r.forceAliasCreation;return r&&r.clientMetadata?n=r.clientMetadata:this._config.clientMetadata&&(n=this._config.clientMetadata),new Promise(function(e,r){i.confirmRegistration(t,o,function(t,n){t?r(t):e(n)},n)})},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(eR.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(e,n){r.resendConfirmationCode(function(t,r){t?n(t):e(r)},t)})},e.prototype.signIn=function(e,t,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var n=null,i=null,o={};if("string"==typeof e)n=e,i=t;else{if(!e.username)return this.rejectAuthError(eR.InvalidUsername);void 0!==t&&ff.warn("The password should be defined under the first parameter object!"),n=e.username,i=e.password,o=e.validationData}if(!n)return this.rejectAuthError(eR.EmptyUsername);var s=new cB({Username:n,Password:i,ValidationData:o,ClientMetadata:r});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,r){var n=this,i=this;return{onSuccess:function(o){return fu(n,void 0,void 0,function(){var n,s,a,u;return fc(this,function(c){switch(c.label){case 0:ff.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return n=c.sent(),ff.debug("succeed to get cognito credentials",n),[3,9];case 4:return s=c.sent(),ff.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,fp("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),ff.error("Failed to get the signed in user",u),r(u),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){ff.debug("signIn failure",t),fp("signIn_failure",t,e.getUsername()+" failed to signin"),r(t)},customChallenge:function(r){ff.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=r,t(e)},mfaRequired:function(r,n){ff.debug("signIn MFA required"),e.challengeName=r,e.challengeParam=n,t(e)},mfaSetup:function(r,n){ff.debug("signIn mfa setup",r),e.challengeName=r,e.challengeParam=n,t(e)},newPasswordRequired:function(r,n){ff.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:r,requiredAttributes:n},t(e)},totpRequired:function(r,n){ff.debug("signIn totpRequired"),e.challengeName=r,e.challengeParam=n,t(e)},selectMFAType:function(r,n){ff.debug("signIn selectMFAType",r),e.challengeName=r,e.challengeParam=n,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw Error("Pending sign-in attempt already in progress");var r=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(n,i){r.authenticateUser(e,t.authCallbacks(r,function(e){t.pendingSignIn=null,n(e)},function(e){t.pendingSignIn=null,i(e)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,r=this.createCognitoUser(e.getUsername());return r.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(n,i){r.initiateAuth(e,t.authCallbacks(r,n,i))})},e.prototype.getMFAOptions=function(e){return new Promise(function(t,r){e.getMFAOptions(function(e,n){if(e){ff.debug("get MFA Options failed",e),r(e);return}ff.debug("get MFA options success",n),t(n)})})},e.prototype.getPreferredMFA=function(e,t){var r=this,n=this;return new Promise(function(i,o){var s=r._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData(function(e,t){if(e){ff.debug("getting preferred mfa failed",e),o(e);return}var r=n._getMfaTypeFromUserData(t);if(r){i(r);return}o("invalid MFA Type")},{bypassCache:a,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(e){var t=null,r=e.PreferredMfaSetting;if(r)t=r;else{var n=e.UserMFASettingList;n?0===n.length?t="NOMFA":ff.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise(function(r,n){e.getUserData(function(e,t){if(e){ff.debug("getting user data failed",e),n(e);return}r(t)},t)})},e.prototype.setPreferredMFA=function(e,t){return fu(this,void 0,void 0,function(){var r,n,i,o,s,a;return fc(this,function(u){switch(u.label){case 0:return r=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:r})];case 1:switch(n=u.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if("NOMFA"===(a=u.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(eR.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach(function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return ff.debug("no validmfa method provided"),[2,this.rejectAuthError(eR.NoMFA)];case 7:return[2,new Promise(function(t,n){e.setUserMfaPreference(i,o,function(i,o){if(i)return ff.debug("Set user mfa preference error",i),n(i);ff.debug("Set user mfa success",o),ff.debug("Caching the latest user data into local"),e.getUserData(function(e,r){return e?(ff.debug("getting user data failed",e),n(e)):t(o)},{bypassCache:!0,clientMetadata:r})})})]}})})},e.prototype.disableSMS=function(e){return new Promise(function(t,r){e.disableMFA(function(e,n){if(e){ff.debug("disable mfa failed",e),r(e);return}ff.debug("disable mfa succeed",n),t(n)})})},e.prototype.enableSMS=function(e){return new Promise(function(t,r){e.enableMFA(function(e,n){if(e){ff.debug("enable mfa failed",e),r(e);return}ff.debug("enable mfa succeed",n),t(n)})})},e.prototype.setupTOTP=function(e){return new Promise(function(t,r){e.associateSoftwareToken({onFailure:function(e){ff.debug("associateSoftwareToken failed",e),r(e)},associateSecretCode:function(e){ff.debug("associateSoftwareToken sucess",e),t(e)}})})},e.prototype.verifyTotpToken=function(e,t){return ff.debug("verification totp token",e,t),new Promise(function(r,n){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){ff.debug("verifyTotpToken failed",e),n(e)},onSuccess:function(t){fp("signIn",e,"A user "+e.getUsername()+" has been signed in"),ff.debug("verifyTotpToken success",t),r(t)}})})},e.prototype.confirmSignIn=function(e,t,r,n){var i=this;if(void 0===n&&(n=this._config.clientMetadata),!t)return this.rejectAuthError(eR.EmptyCode);var o=this;return new Promise(function(s,a){e.sendMFACode(t,{onSuccess:function(t){return fu(i,void 0,void 0,function(){var r,n;return fc(this,function(i){switch(i.label){case 0:ff.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return r=i.sent(),ff.debug("succeed to get cognito credentials",r),[3,6];case 4:return n=i.sent(),ff.debug("cannot get cognito credentials",n),[3,6];case 5:return o.user=e,fp("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){ff.debug("confirm signIn failure",e),a(e)}},r,n)})},e.prototype.completeNewPassword=function(e,t,r,n){var i=this;if(void 0===r&&(r={}),void 0===n&&(n=this._config.clientMetadata),!t)return this.rejectAuthError(eR.EmptyPassword);var o=this;return new Promise(function(s,a){e.completeNewPasswordChallenge(t,r,{onSuccess:function(t){return fu(i,void 0,void 0,function(){var r,n;return fc(this,function(i){switch(i.label){case 0:ff.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return r=i.sent(),ff.debug("succeed to get cognito credentials",r),[3,6];case 4:return n=i.sent(),ff.debug("cannot get cognito credentials",n),[3,6];case 5:return o.user=e,fp("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){ff.debug("completeNewPassword failure",e),fp("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,r){ff.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=r,s(e)},mfaSetup:function(t,r){ff.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=r,s(e)},totpRequired:function(t,r){ff.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=r,s(e)}},n)})},e.prototype.sendCustomChallengeAnswer=function(e,t,r){var n=this;return(void 0===r&&(r=this._config.clientMetadata),this.userPool)?t?new Promise(function(i,o){e.sendCustomChallengeAnswer(t,n.authCallbacks(e,i,o),r)}):this.rejectAuthError(eR.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var r=this;return new Promise(function(n,i){r.userSession(e).then(function(r){e.deleteAttributes(t,function(e,t){return e?i(e):n(t)})})})},e.prototype.updateUserAttributes=function(e,t,r){void 0===r&&(r=this._config.clientMetadata);var n=[],i=this;return new Promise(function(o,s){i.userSession(e).then(function(i){for(var a in t)if("sub"!==a&&0>a.indexOf("_verified")){var u={Name:a,Value:t[a]};n.push(u)}e.updateAttributes(n,function(e,t){return e?s(e):o(t)},r)})})},e.prototype.userAttributes=function(e){var t=this;return new Promise(function(r,n){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?n(e):r(t)})})})},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var r=t.attributesToObject(e),n={},i={};return r.email&&(r.email_verified?i.email=r.email:n.email=r.email),r.phone_number&&(r.phone_number_verified?i.phone_number=r.phone_number:n.phone_number=r.phone_number),{verified:i,unverified:n}})},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(r,n){t._storageSync.then(function(){return fu(t,void 0,void 0,function(){var t,i,o=this;return fc(this,function(s){switch(s.label){case 0:if(!this.isOAuthInProgress())return[3,2];return ff.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(e){var t=setTimeout(function(){ff.debug("OAuth signIn in progress timeout"),oB.remove("auth",r),e()},1e4);function r(n){var i=n.payload.event;("cognitoHostedUI"===i||"cognitoHostedUI_failure"===i)&&(ff.debug("OAuth signIn resolved: "+i),clearTimeout(t),oB.remove("auth",r),e())}oB.listen("auth",r)})];case 1:s.sent(),s.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return ff.debug("Failed to get user from user pool"),n("No current user"),[2];return i=this._config.clientMetadata,t.getSession(function(i,s){return fu(o,void 0,void 0,function(){var o,a,u,c=this;return fc(this,function(l){switch(l.label){case 0:if(i)return ff.debug("Failed to get the user session",i),n(i),[2];if(!(o=!!e&&e.bypassCache))return[3,2];return[4,this.Credentials.clear()];case 1:l.sent(),l.label=2;case 2:if(a=this._config.clientMetadata,!(void 0===(u=s.getAccessToken().decodePayload().scope)?"":u).split(" ").includes(fd))return ff.debug("Unable to get the user data because the "+fd+" is not in the scopes of the access token"),[2,r(t)];return t.getUserData(function(e,i){if(e){ff.debug("getting user data failed",e),"User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?n(e):r(t);return}for(var o=i.PreferredMfaSetting||"NOMFA",s=[],a=0;a<i.UserAttributes.length;a++){var u=new lU({Name:i.UserAttributes[a].Name,Value:i.UserAttributes[a].Value});s.push(u)}return Object.assign(t,{attributes:c.attributesToObject(s),preferredMFA:o}),r(t)},{bypassCache:o,clientMetadata:a}),[2]}})})},{clientMetadata:i}),[2]}})})}).catch(function(e){return ff.debug("Failed to sync cache info into memory",e),n(e)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return fu(this,void 0,void 0,function(){var t,r,n,i,o;return fc(this,function(s){switch(s.label){case 0:ff.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw r=s.sent(),ff.debug("Failed to sync cache info into memory",r),r;case 4:try{(n=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=fa(fa({},n.user),{token:n.token}))}catch(e){ff.debug("cannot load federated user from auth storage")}if(!t)return[3,5];return this.user=t,ff.debug("get current authenticated federated user",this.user),[2,this.user];case 5:ff.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&ff.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ff.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},e.prototype.currentSession=function(){var e=this;return(ff.debug("Getting current session"),this.userPool)?new Promise(function(t,r){e.currentUserPoolUser().then(function(n){e.userSession(n).then(function(e){t(e)}).catch(function(e){ff.debug("Failed to get the current session",e),r(e)})}).catch(function(e){ff.debug("Failed to get the current user",e),r(e)})}):Promise.reject()},e.prototype.userSession=function(e){if(!e)return ff.debug("the user is null"),this.rejectAuthError(eR.NoUserSession);var t=this._config.clientMetadata;return new Promise(function(r,n){ff.debug("Getting the session from this user:",e),e.getSession(function(t,i){if(t){ff.debug("Failed to get the session from user",e),n(t);return}ff.debug("Succeed to get the user session",i),r(i)},{clientMetadata:t})})},e.prototype.currentUserCredentials=function(){return fu(this,void 0,void 0,function(){var e,t,r=this;return fc(this,function(n){switch(n.label){case 0:ff.debug("Getting current user credentials"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),ff.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){ff.debug("failed to get or parse item aws-amplify-federatedInfo",e)}if(t)return[2,this.Credentials.refreshFederatedToken(t)];return[2,this.currentSession().then(function(e){return ff.debug("getting session success",e),r.Credentials.set(e,"session")}).catch(function(e){return ff.debug("getting session failed",e),r.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return ff.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,r){return void 0===r&&(r=this._config.clientMetadata),new Promise(function(n,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return n(e)},onFailure:function(e){return i(e)}},r)})},e.prototype.verifyUserAttributeSubmit=function(e,t,r){return r?new Promise(function(n,i){e.verifyAttribute(t,r,{onSuccess:function(e){n(e)},onFailure:function(e){i(e)}})}):this.rejectAuthError(eR.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(r){return t.verifyUserAttribute(r,e)})},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttributeSubmit(n,e,t)})},e.prototype.cognitoIdentitySignOut=function(e,t){return fu(this,void 0,void 0,function(){var r,n,i=this;return fc(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw r=o.sent(),ff.debug("Failed to sync cache info into memory",r),r;case 3:return n=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(r,o){if(e&&e.global){ff.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession(function(e,s){if(e)return ff.debug("failed to get the user session",e),o(e);t.globalSignOut({onSuccess:function(e){if(ff.debug("global sign out success"),!n)return r();i.oAuthSignOutRedirect(r,o)},onFailure:function(e){return ff.debug("global sign out failed",e),o(e)}})},{clientMetadata:s})}else ff.debug("user sign out",t),t.signOut(function(){if(!n)return r();i.oAuthSignOutRedirect(r,o)})})]}})})},e.prototype.oAuthSignOutRedirect=function(e,t){o5.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e("Signout timeout fail")},3e3)},e.prototype.signOut=function(e){return fu(this,void 0,void 0,function(){var t;return fc(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),ff.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,7];if(!(t=this.userPool.getCurrentUser()))return[3,5];return[4,this.cognitoIdentitySignOut(e,t)];case 4:return r.sent(),[3,6];case 5:ff.debug("no current Cognito user"),r.label=6;case 6:return[3,8];case 7:ff.debug("no Congito User pool"),r.label=8;case 8:return fp("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return fu(this,void 0,void 0,function(){return fc(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},e.prototype.changePassword=function(e,t,r,n){var i=this;return void 0===n&&(n=this._config.clientMetadata),new Promise(function(o,s){i.userSession(e).then(function(i){e.changePassword(t,r,function(e,t){return e?(ff.debug("change password failure",e),s(e)):o(t)},n)})})},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(eR.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(n,i){r.forgotPassword({onSuccess:function(){n()},onFailure:function(t){ff.debug("forgot password failure",t),fp("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){fp("forgotPassword",r,e+" has initiated forgot password flow"),n(t)}},t)})},e.prototype.forgotPasswordSubmit=function(e,t,r,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(eR.EmptyUsername);if(!t)return this.rejectAuthError(eR.EmptyCode);if(!r)return this.rejectAuthError(eR.EmptyPassword);var i=this.createCognitoUser(e);return new Promise(function(o,s){i.confirmPassword(t,r,{onSuccess:function(t){fp("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){fp("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},n)})},e.prototype.currentUserInfo=function(){return fu(this,void 0,void 0,function(){var e,t,r,n,i,o,s;return fc(this,function(a){switch(a.label){case 0:if(!(!(e=this.Credentials.getCredSource())||"aws"===e||"userPool"===e))return[3,9];return[4,this.currentUserPoolUser().catch(function(e){return ff.error(e)})];case 1:if(!(t=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(t)];case 3:r=a.sent(),n=this.attributesToObject(r),i=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=a.sent(),[3,7];case 6:return o=a.sent(),ff.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:i?i.identityId:void 0,username:t.getUsername(),attributes:n}];case 8:return s=a.sent(),ff.error("currentUserInfo error",s),[2,{}];case 9:if("federated"===e)return[2,(t=this.user)||{}];return[2]}})})},e.prototype.federatedSignIn=function(e,t,r){return fu(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,f,d,h;return fc(this,function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation with Identity Pools requires tokens passed as arguments");if(!(cD(e)||e&&["customProvider"].find(function(t){return e.hasOwnProperty(t)})||e&&["customState"].find(function(t){return e.hasOwnProperty(t)})||void 0===e))return[3,1];return i=cD(n=e||{provider:eM.Cognito})?n.provider:n.customProvider,cD(n),o=n.customState,this._config.userPoolId&&(s=cj(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=cj(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,s,i,o)),[3,4];case 1:i=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&ff.warn("There is already a signed in user: "+u+" in your app.\n																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:i,token:c,identity_id:l,user:r,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return fp("signIn",h=p.sent(),"A user "+h.username+" has been signed in"),ff.debug("federated sign in credentials",d),[2,d];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(e){return fu(this,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,l,f,d,h;return fc(this,function(p){switch(p.label){case 0:if(this.oAuthFlowInProgress)return ff.debug("Skipping URL "+e+" current flow in progress"),[2];p.label=1;case 1:if(p.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw Error("OAuth responses require a User Pool defined in config");if(fp("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(o5.browserOrNode().isBrowser?window.location.href:""),r=!!((0,lZ.parse)(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=fl(e,1)[0];return"code"===t||"error"===t}),n=!!((0,lZ.parse)(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=fl(e,1)[0];return"access_token"===t||"error"===t}),!(r||n))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),p.label=2;case 2:return p.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:if(o=(i=p.sent()).accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new lP({IdToken:new lx({IdToken:s}),RefreshToken:new l_({RefreshToken:a}),AccessToken:new lC({AccessToken:o})}),l=void 0,!this._config.identityPoolId)return[3,5];return[4,this.Credentials.set(c,"session")];case 4:l=p.sent(),ff.debug("AWS credentials",l),p.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),fp("signIn",d,"A user "+d.getUsername()+" has been signed in"),fp("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&fp("customOAuthState",u.split("-").splice(1).join("-").match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""),"State for user "+d.getUsername()),[2,l];case 6:return h=p.sent(),ff.debug("Error in cognito hosted auth response",h),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),fp("signIn_failure",h,"The OAuth response flow failed"),fp("cognitoHostedUI_failure",h,"A failure occurred when returning to the Cognito Hosted UI"),fp("customState_failure",h,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,r={};return e&&e.map(function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?r[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:r[e.Name]=e.Value}),r},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var r=this._config.authenticationFlowType,n=new lD(t);return r&&n.setAuthenticationFlowType(r),n},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?eR.NoConfig:eR.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new fi(e))},e.prototype.rejectNoUserPool=function(){return Promise.reject(new fo(this.noUserPoolErrorHandler(this._config)))},e.prototype.rememberDevice=function(){return fu(this,void 0,void 0,function(){var e,t;return fc(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),ff.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new fi(eR.DeviceConfig)):"NetworkError"===e.code?r(new fi(eR.NetworkError)):r(e)}})})]}})})},e.prototype.forgetDevice=function(){return fu(this,void 0,void 0,function(){var e,t;return fc(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),ff.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new fi(eR.DeviceConfig)):"NetworkError"===e.code?r(new fi(eR.NetworkError)):r(e)}})})]}})})},e.prototype.fetchDevices=function(){return fu(this,void 0,void 0,function(){var e,t;return fc(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:throw t=r.sent(),ff.debug("The user is not authenticated by the error",t),Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.listDevices(60,null,{onSuccess:function(e){t(e.Devices.map(function(e){var t=e.DeviceAttributes.find(function(e){return"device_name"===e.Name})||{};return{id:e.DeviceKey,name:t.Value}}))},onFailure:function(e){"InvalidParameterException"===e.code?r(new fi(eR.DeviceConfig)):"NetworkError"===e.code?r(new fi(eR.NetworkError)):r(e)}})})]}})})},e}())(null);oT.register(fg);var fy={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new sn().getStorage()};function fv(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function fm(){return new Date().getTime()}function fb(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var fw={};!function(){function e(){}e.clear=function(){fw={}},e.getItem=function(e){return fw[e]||null},e.setItem=function(e,t){fw[e]=t},e.removeItem=function(e){delete fw[e]}}();var fS=new ok("StorageCache"),fE=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){fb(this.config.capacityInBytes)||(fS.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=fy.capacityInBytes),fb(this.config.itemMaxSize)||(fS.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=fy.itemMaxSize),fb(this.config.defaultTTL)||(fS.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=fy.defaultTTL),fb(this.config.defaultPriority)||(fS.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=fy.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(fS.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=fy.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(fS.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=fy.defaultPriority),(Number(this.config.warningThreshold)>1||0>Number(this.config.warningThreshold))&&(fS.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=fy.warningThreshold),this.config.capacityInBytes>5242880&&(fS.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=fy.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,r){var n={key:e,data:t,timestamp:fm(),visitedTime:fm(),priority:r.priority,expires:r.expires,type:typeof t,byteSize:0};return n.byteSize=fv(JSON.stringify(n)),n.byteSize=fv(JSON.stringify(n)),n},e.prototype.configure=function(e){return e&&(e.keyPrefix&&fS.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig()),this.config},e}(),fC=(d=function(e,t){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),fA=new ok("Cache"),fx=new(function(e){function t(t){var r=this,n=t?Object.assign({},fy,t):fy;return(r=e.call(this,n)||this).config.storage=n.storage,r.getItem=r.getItem.bind(r),r.setItem=r.setItem.bind(r),r.removeItem=r.removeItem.bind(r),r}return fC(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=fm(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=JSON.parse(this.config.storage.getItem(e));return fm()>=t.expires},t.prototype._removeItem=function(e,t){var r=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(r),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),fA.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,r=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>r?t:r},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],r=0;r<this.config.storage.length;r+=1)t.push(this.config.storage.key(r));for(var r=0;r<t.length;r+=1){var n=t[r];0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&(this._isExpired(n)?this._removeItem(n):e.push(n))}return e},t.prototype._popOutItems=function(e,t){for(var r=[],n=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);r.push(s)}}r.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1});for(var i=0;i<r.length;i+=1)if(this._removeItem(r[i].key,r[i].byteSize),(n-=r[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,r){fA.log("Set item: key is "+e+", value is "+t+" with options: "+r);var n=this.config.keyPrefix+e;if(n===this.config.keyPrefix||n===this.cacheCurSizeKey){fA.warn("Invalid key: should not be empty or 'CurSize'");return}if(void 0===t){fA.warn("The value of item should not be undefined!");return}var i={priority:r&&void 0!==r.priority?r.priority:this.config.defaultPriority,expires:r&&void 0!==r.expires?r.expires:this.config.defaultTTL+fm()};if(i.priority<1||i.priority>5){fA.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var o=this.fillCacheItem(n,t,i);if(o.byteSize>this.config.itemMaxSize){fA.warn("Item with key: "+e+" you are trying to put into is too big!");return}try{var s=this.config.storage.getItem(n);if(s&&this._removeItem(n,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(n,o)}catch(e){fA.warn("setItem failed! "+e)}},t.prototype.getItem=function(e,t){fA.log("Get item: key is "+e+" with options "+t);var r=null,n=this.config.keyPrefix+e;if(n===this.config.keyPrefix||n===this.cacheCurSizeKey)return fA.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(r=this.config.storage.getItem(n),null!=r){if(this._isExpired(n))this._removeItem(n,JSON.parse(r).byteSize),r=null;else{var i=JSON.parse(r);return(i=this._refreshItem(i,n)).data}}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return fA.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){fA.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var r=this.config.storage.getItem(t);r&&this._removeItem(t,JSON.parse(r).byteSize)}catch(e){fA.warn("removeItem failed! "+e)}},t.prototype.clear=function(){fA.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var r=this.config.storage.key(t);0===r.indexOf(this.config.keyPrefix)&&e.push(r)}try{for(var t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){fA.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var r=this.config.storage.key(t);0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&e.push(r.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==fy.keyPrefix||(fA.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=fm.toString()),new t(e)},t}(fE));oT.register(fx),(ez||(ez={})).filterSensitiveLog=function(e){return sx({},e)},(eK||(eK={})).filterSensitiveLog=function(e){return sx({},e)},(eq||(eq={})).filterSensitiveLog=function(e){return sx({},e)},(eH||(eH={})).filterSensitiveLog=function(e){return sx({},e)},(eV||(eV={})).filterSensitiveLog=function(e){return sx({},e)},(eG||(eG={})).filterSensitiveLog=function(e){return sx({},e)},(eW||(eW={})).filterSensitiveLog=function(e){return sx({},e)},(e$||(e$={})).filterSensitiveLog=function(e){return sx({},e)},(eY||(eY={})).filterSensitiveLog=function(e){return sx({},e)},(eJ||(eJ={})).filterSensitiveLog=function(e){return sx({},e)},(eZ||(eZ={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af})},(eX||(eX={})).filterSensitiveLog=function(e){return sx({},e)},(eQ||(eQ={})).filterSensitiveLog=function(e){return sx({},e)},(e0||(e0={})).filterSensitiveLog=function(e){return sx({},e)},(e1||(e1={})).filterSensitiveLog=function(e){return sx({},e)},(e2||(e2={})).filterSensitiveLog=function(e){return sx(sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af})},(e3||(e3={})).filterSensitiveLog=function(e){return sx(sx(sx(sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af}),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:af})},(e4||(e4={})).filterSensitiveLog=function(e){return sx({},e)},(e6||(e6={})).filterSensitiveLog=function(e){return sx({},e)},(e5||(e5={})).filterSensitiveLog=function(e){return sx({},e)},(e8||(e8={})).filterSensitiveLog=function(e){return sx({},e)},(e7||(e7={})).filterSensitiveLog=function(e){return sx({},e)},(e9||(e9={})).filterSensitiveLog=function(e){return sx({},e)},(te||(te={})).filterSensitiveLog=function(e){return sx(sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af})},(tt||(tt={})).filterSensitiveLog=function(e){return sx(sx(sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af}),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af})},(tr||(tr={})).filterSensitiveLog=function(e){return sx({},e)},(tn||(tn={})).filterSensitiveLog=function(e){return sx({},e)},(ti||(ti={})).filterSensitiveLog=function(e){return sx({},e)},(to||(to={})).filterSensitiveLog=function(e){return sx({},e)},(ts||(ts={})).filterSensitiveLog=function(e){return sx({},e)},(ta||(ta={})).filterSensitiveLog=function(e){return sx({},e)},(tu||(tu={})).filterSensitiveLog=function(e){return sx({},e)},(tc||(tc={})).filterSensitiveLog=function(e){return sx({},e)},(tl||(tl={})).filterSensitiveLog=function(e){return sx({},e)},(tf||(tf={})).filterSensitiveLog=function(e){return sx({},e)},(td||(td={})).filterSensitiveLog=function(e){return sx({},e)},(th||(th={})).filterSensitiveLog=function(e){return sx({},e)},(tp||(tp={})).filterSensitiveLog=function(e){return sx({},e)},(tg||(tg={})).filterSensitiveLog=function(e){return sx({},e)},(ty||(ty={})).filterSensitiveLog=function(e){return sx({},e)},(tv||(tv={})).filterSensitiveLog=function(e){return sx({},e)},(tm||(tm={})).filterSensitiveLog=function(e){return sx({},e)},(tb||(tb={})).filterSensitiveLog=function(e){return sx({},e)},(tw||(tw={})).filterSensitiveLog=function(e){return sx({},e)},(tS||(tS={})).filterSensitiveLog=function(e){return sx({},e)},(tE||(tE={})).filterSensitiveLog=function(e){return sx({},e)},(tC||(tC={})).filterSensitiveLog=function(e){return sx({},e)},(tA||(tA={})).filterSensitiveLog=function(e){return sx({},e)},(tx||(tx={})).filterSensitiveLog=function(e){return sx({},e)},(t_||(t_={})).filterSensitiveLog=function(e){return sx({},e)},(tk||(tk={})).filterSensitiveLog=function(e){return sx({},e)},(tP||(tP={})).filterSensitiveLog=function(e){return sx({},e)},(tI||(tI={})).filterSensitiveLog=function(e){return sx({},e)},(tT||(tT={})).filterSensitiveLog=function(e){return sx({},e)},(tO||(tO={})).filterSensitiveLog=function(e){return sx({},e)},(h=tU||(tU={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},h.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:tT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:tO.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(tL||(tL={})).filterSensitiveLog=function(e){return sx({},e)},(tM||(tM={})).filterSensitiveLog=function(e){return sx({},e)},(tR||(tR={})).filterSensitiveLog=function(e){return sx({},e)},(tN||(tN={})).filterSensitiveLog=function(e){return sx({},e)},(tD||(tD={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Filter&&{Filter:tU.filterSensitiveLog(e.Filter)})},(tj||(tj={})).filterSensitiveLog=function(e){return sx(sx({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:tD.filterSensitiveLog(e.AnalyticsConfiguration)})},(tB||(tB={})).filterSensitiveLog=function(e){return sx({},e)},(tF||(tF={})).filterSensitiveLog=function(e){return sx({},e)},(tz||(tz={})).filterSensitiveLog=function(e){return sx({},e)},(tK||(tK={})).filterSensitiveLog=function(e){return sx({},e)},(tq||(tq={})).filterSensitiveLog=function(e){return sx(sx({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:af})},(tH||(tH={})).filterSensitiveLog=function(e){return sx(sx({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:tq.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})},(tV||(tV={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Rules&&{Rules:e.Rules.map(function(e){return tH.filterSensitiveLog(e)})})},(tG||(tG={})).filterSensitiveLog=function(e){return sx(sx({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:tV.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(tW||(tW={})).filterSensitiveLog=function(e){return sx({},e)},(t$||(t$={})).filterSensitiveLog=function(e){return sx({},e)},(tY||(tY={})).filterSensitiveLog=function(e){return sx({},e)},(tJ||(tJ={})).filterSensitiveLog=function(e){return sx({},e)},(tZ||(tZ={})).filterSensitiveLog=function(e){return sx({},e)},(tX||(tX={})).filterSensitiveLog=function(e){return sx({},e)},(tQ||(tQ={})).filterSensitiveLog=function(e){return sx({},e)},(t0||(t0={})).filterSensitiveLog=function(e){return sx(sx({},e),e.KeyId&&{KeyId:af})},(t1||(t1={})).filterSensitiveLog=function(e){return sx({},e)},(t2||(t2={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMS&&{SSEKMS:t0.filterSensitiveLog(e.SSEKMS)})},(t3||(t3={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Encryption&&{Encryption:t2.filterSensitiveLog(e.Encryption)})},(t4||(t4={})).filterSensitiveLog=function(e){return sx(sx({},e),e.S3BucketDestination&&{S3BucketDestination:t3.filterSensitiveLog(e.S3BucketDestination)})},(t6||(t6={})).filterSensitiveLog=function(e){return sx({},e)},(t5||(t5={})).filterSensitiveLog=function(e){return sx({},e)},(t8||(t8={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Destination&&{Destination:t4.filterSensitiveLog(e.Destination)})},(t7||(t7={})).filterSensitiveLog=function(e){return sx(sx({},e),e.InventoryConfiguration&&{InventoryConfiguration:t8.filterSensitiveLog(e.InventoryConfiguration)})},(t9||(t9={})).filterSensitiveLog=function(e){return sx({},e)},(re||(re={})).filterSensitiveLog=function(e){return sx({},e)},(rt||(rt={})).filterSensitiveLog=function(e){return sx({},e)},(p=rr||(rr={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},p.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:tT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:rt.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(rn||(rn={})).filterSensitiveLog=function(e){return sx({},e)},(ri||(ri={})).filterSensitiveLog=function(e){return sx({},e)},(ro||(ro={})).filterSensitiveLog=function(e){return sx({},e)},(rs||(rs={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Filter&&{Filter:rr.filterSensitiveLog(e.Filter)})},(ra||(ra={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Rules&&{Rules:e.Rules.map(function(e){return rs.filterSensitiveLog(e)})})},(ru||(ru={})).filterSensitiveLog=function(e){return sx({},e)},(rc||(rc={})).filterSensitiveLog=function(e){return sx({},e)},(rl||(rl={})).filterSensitiveLog=function(e){return sx({},e)},(rf||(rf={})).filterSensitiveLog=function(e){return sx({},e)},(rd||(rd={})).filterSensitiveLog=function(e){return sx({},e)},(rh||(rh={})).filterSensitiveLog=function(e){return sx({},e)},(rp||(rp={})).filterSensitiveLog=function(e){return sx({},e)},(rg||(rg={})).filterSensitiveLog=function(e){return sx({},e)},(g=ry||(ry={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},g.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:tT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:rg.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(rv||(rv={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Filter&&{Filter:ry.filterSensitiveLog(e.Filter)})},(rm||(rm={})).filterSensitiveLog=function(e){return sx(sx({},e),e.MetricsConfiguration&&{MetricsConfiguration:rv.filterSensitiveLog(e.MetricsConfiguration)})},(rb||(rb={})).filterSensitiveLog=function(e){return sx({},e)},(rw||(rw={})).filterSensitiveLog=function(e){return sx({},e)},(rS||(rS={})).filterSensitiveLog=function(e){return sx({},e)},(rE||(rE={})).filterSensitiveLog=function(e){return sx({},e)},(rC||(rC={})).filterSensitiveLog=function(e){return sx({},e)},(rA||(rA={})).filterSensitiveLog=function(e){return sx({},e)},(rx||(rx={})).filterSensitiveLog=function(e){return sx({},e)},(r_||(r_={})).filterSensitiveLog=function(e){return sx({},e)},(rk||(rk={})).filterSensitiveLog=function(e){return sx({},e)},(rP||(rP={})).filterSensitiveLog=function(e){return sx({},e)},(rI||(rI={})).filterSensitiveLog=function(e){return sx({},e)},(rT||(rT={})).filterSensitiveLog=function(e){return sx({},e)},(rO||(rO={})).filterSensitiveLog=function(e){return sx({},e)},(rU||(rU={})).filterSensitiveLog=function(e){return sx({},e)},(rL||(rL={})).filterSensitiveLog=function(e){return sx({},e)},(rM||(rM={})).filterSensitiveLog=function(e){return sx({},e)},(rR||(rR={})).filterSensitiveLog=function(e){return sx({},e)},(rN||(rN={})).filterSensitiveLog=function(e){return sx({},e)},(rD||(rD={})).filterSensitiveLog=function(e){return sx({},e)},(rj||(rj={})).filterSensitiveLog=function(e){return sx({},e)},(rB||(rB={})).filterSensitiveLog=function(e){return sx({},e)},(rF||(rF={})).filterSensitiveLog=function(e){return sx({},e)},(rz||(rz={})).filterSensitiveLog=function(e){return sx({},e)},(rK||(rK={})).filterSensitiveLog=function(e){return sx({},e)},(rq||(rq={})).filterSensitiveLog=function(e){return sx({},e)},(rH||(rH={})).filterSensitiveLog=function(e){return sx({},e)},(y=rV||(rV={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},y.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:tT.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:rH.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(rG||(rG={})).filterSensitiveLog=function(e){return sx({},e)},(rW||(rW={})).filterSensitiveLog=function(e){return sx({},e)},(r$||(r$={})).filterSensitiveLog=function(e){return sx({},e)},(rY||(rY={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Filter&&{Filter:rV.filterSensitiveLog(e.Filter)})},(rJ||(rJ={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Rules&&{Rules:e.Rules.map(function(e){return rY.filterSensitiveLog(e)})})},(rZ||(rZ={})).filterSensitiveLog=function(e){return sx(sx({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:rJ.filterSensitiveLog(e.ReplicationConfiguration)})},(rX||(rX={})).filterSensitiveLog=function(e){return sx({},e)},(rQ||(rQ={})).filterSensitiveLog=function(e){return sx({},e)},(r0||(r0={})).filterSensitiveLog=function(e){return sx({},e)},(r1||(r1={})).filterSensitiveLog=function(e){return sx({},e)},(r2||(r2={})).filterSensitiveLog=function(e){return sx({},e)},(r3||(r3={})).filterSensitiveLog=function(e){return sx({},e)},(r4||(r4={})).filterSensitiveLog=function(e){return sx({},e)},(r6||(r6={})).filterSensitiveLog=function(e){return sx({},e)},(r5||(r5={})).filterSensitiveLog=function(e){return sx({},e)},(r8||(r8={})).filterSensitiveLog=function(e){return sx({},e)},(r7||(r7={})).filterSensitiveLog=function(e){return sx({},e)},(r9||(r9={})).filterSensitiveLog=function(e){return sx({},e)},(ne||(ne={})).filterSensitiveLog=function(e){return sx({},e)},(nt||(nt={})).filterSensitiveLog=function(e){return sx({},e)},(nr||(nr={})).filterSensitiveLog=function(e){return sx({},e)},(nn||(nn={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af})},(ni||(ni={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af})},(no||(no={})).filterSensitiveLog=function(e){return sx({},e)},(ns||(ns={})).filterSensitiveLog=function(e){return sx({},e)},(na||(na={})).filterSensitiveLog=function(e){return sx({},e)},(nu||(nu={})).filterSensitiveLog=function(e){return sx({},e)},(nc||(nc={})).filterSensitiveLog=function(e){return sx({},e)},(nl||(nl={})).filterSensitiveLog=function(e){return sx({},e)},(nf||(nf={})).filterSensitiveLog=function(e){return sx({},e)},(nd||(nd={})).filterSensitiveLog=function(e){return sx({},e)},(nh||(nh={})).filterSensitiveLog=function(e){return sx({},e)},(np||(np={})).filterSensitiveLog=function(e){return sx({},e)},(ng||(ng={})).filterSensitiveLog=function(e){return sx({},e)},(ny||(ny={})).filterSensitiveLog=function(e){return sx({},e)},(nv||(nv={})).filterSensitiveLog=function(e){return sx({},e)},(nm||(nm={})).filterSensitiveLog=function(e){return sx({},e)},(nb||(nb={})).filterSensitiveLog=function(e){return sx({},e)},(nw||(nw={})).filterSensitiveLog=function(e){return sx({},e)},(nS||(nS={})).filterSensitiveLog=function(e){return sx({},e)},(nE||(nE={})).filterSensitiveLog=function(e){return sx({},e)},(nC||(nC={})).filterSensitiveLog=function(e){return sx({},e)},(nA||(nA={})).filterSensitiveLog=function(e){return sx({},e)},(nx||(nx={})).filterSensitiveLog=function(e){return sx({},e)},(n_||(n_={})).filterSensitiveLog=function(e){return sx({},e)},(nk||(nk={})).filterSensitiveLog=function(e){return sx({},e)},(nP||(nP={})).filterSensitiveLog=function(e){return sx({},e)},(nI||(nI={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af})},(nT||(nT={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af})},(nO||(nO={})).filterSensitiveLog=function(e){return sx(sx({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map(function(e){return tD.filterSensitiveLog(e)})})},(nU||(nU={})).filterSensitiveLog=function(e){return sx({},e)},(nL||(nL={})).filterSensitiveLog=function(e){return sx({},e)},(nM||(nM={})).filterSensitiveLog=function(e){return sx({},e)},(nR||(nR={})).filterSensitiveLog=function(e){return sx(sx({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(function(e){return t8.filterSensitiveLog(e)})})},(nN||(nN={})).filterSensitiveLog=function(e){return sx({},e)},(nD||(nD={})).filterSensitiveLog=function(e){return sx(sx({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map(function(e){return rv.filterSensitiveLog(e)})})},(nj||(nj={})).filterSensitiveLog=function(e){return sx({},e)},(nB||(nB={})).filterSensitiveLog=function(e){return sx({},e)},(nF||(nF={})).filterSensitiveLog=function(e){return sx({},e)},(nz||(nz={})).filterSensitiveLog=function(e){return sx({},e)},(nK||(nK={})).filterSensitiveLog=function(e){return sx({},e)},(nq||(nq={})).filterSensitiveLog=function(e){return sx({},e)},(nH||(nH={})).filterSensitiveLog=function(e){return sx({},e)},(nV||(nV={})).filterSensitiveLog=function(e){return sx({},e)},(nG||(nG={})).filterSensitiveLog=function(e){return sx({},e)},(nW||(nW={})).filterSensitiveLog=function(e){return sx({},e)},(n$||(n$={})).filterSensitiveLog=function(e){return sx({},e)},(nY||(nY={})).filterSensitiveLog=function(e){return sx({},e)},(nJ||(nJ={})).filterSensitiveLog=function(e){return sx({},e)},(nZ||(nZ={})).filterSensitiveLog=function(e){return sx({},e)},(nX||(nX={})).filterSensitiveLog=function(e){return sx({},e)},(nQ||(nQ={})).filterSensitiveLog=function(e){return sx({},e)},(n0||(n0={})).filterSensitiveLog=function(e){return sx({},e)},(n1||(n1={})).filterSensitiveLog=function(e){return sx({},e)},(n2||(n2={})).filterSensitiveLog=function(e){return sx({},e)},(n3||(n3={})).filterSensitiveLog=function(e){return sx({},e)},(n4||(n4={})).filterSensitiveLog=function(e){return sx({},e)},(n6||(n6={})).filterSensitiveLog=function(e){return sx({},e)},(n5||(n5={})).filterSensitiveLog=function(e){return sx(sx({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:tD.filterSensitiveLog(e.AnalyticsConfiguration)})},(n8||(n8={})).filterSensitiveLog=function(e){return sx({},e)},(n7||(n7={})).filterSensitiveLog=function(e){return sx({},e)},(n9||(n9={})).filterSensitiveLog=function(e){return sx(sx({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:tV.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(ie||(ie={})).filterSensitiveLog=function(e){return sx({},e)},(it||(it={})).filterSensitiveLog=function(e){return sx(sx({},e),e.InventoryConfiguration&&{InventoryConfiguration:t8.filterSensitiveLog(e.InventoryConfiguration)})},(ir||(ir={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Rules&&{Rules:e.Rules.map(function(e){return rs.filterSensitiveLog(e)})})},(ii||(ii={})).filterSensitiveLog=function(e){return sx(sx({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:ir.filterSensitiveLog(e.LifecycleConfiguration)})},(io||(io={})).filterSensitiveLog=function(e){return sx({},e)},(is||(is={})).filterSensitiveLog=function(e){return sx({},e)},(ia||(ia={})).filterSensitiveLog=function(e){return sx(sx({},e),e.MetricsConfiguration&&{MetricsConfiguration:rv.filterSensitiveLog(e.MetricsConfiguration)})},(iu||(iu={})).filterSensitiveLog=function(e){return sx({},e)},(ic||(ic={})).filterSensitiveLog=function(e){return sx({},e)},(il||(il={})).filterSensitiveLog=function(e){return sx({},e)},(id||(id={})).filterSensitiveLog=function(e){return sx(sx({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:rJ.filterSensitiveLog(e.ReplicationConfiguration)})},(ih||(ih={})).filterSensitiveLog=function(e){return sx({},e)},(ip||(ip={})).filterSensitiveLog=function(e){return sx({},e)},(ig||(ig={})).filterSensitiveLog=function(e){return sx({},e)},(iy||(iy={})).filterSensitiveLog=function(e){return sx({},e)},(iv||(iv={})).filterSensitiveLog=function(e){return sx({},e)},(im||(im={})).filterSensitiveLog=function(e){return sx({},e)},(ib||(ib={})).filterSensitiveLog=function(e){return sx({},e)},(iw||(iw={})).filterSensitiveLog=function(e){return sx({},e)},(iS||(iS={})).filterSensitiveLog=function(e){return sx(sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af})},(iE||(iE={})).filterSensitiveLog=function(e){return sx(sx(sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af}),e.SSEKMSKeyId&&{SSEKMSKeyId:af}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:af})},(iC||(iC={})).filterSensitiveLog=function(e){return sx({},e)},(iA||(iA={})).filterSensitiveLog=function(e){return sx({},e)},(ix||(ix={})).filterSensitiveLog=function(e){return sx({},e)},(i_||(i_={})).filterSensitiveLog=function(e){return sx({},e)},(ik||(ik={})).filterSensitiveLog=function(e){return sx({},e)},(iP||(iP={})).filterSensitiveLog=function(e){return sx({},e)},(iI||(iI={})).filterSensitiveLog=function(e){return sx({},e)},(iT||(iT={})).filterSensitiveLog=function(e){return sx({},e)},(iO||(iO={})).filterSensitiveLog=function(e){return sx({},e)},(iU||(iU={})).filterSensitiveLog=function(e){return sx({},e)},(iL||(iL={})).filterSensitiveLog=function(e){return sx({},e)},(iM||(iM={})).filterSensitiveLog=function(e){return sx({},e)},(iR||(iR={})).filterSensitiveLog=function(e){return sx({},e)},(iN||(iN={})).filterSensitiveLog=function(e){return sx({},e)},(iD||(iD={})).filterSensitiveLog=function(e){return sx(sx({},e),e.KMSKeyId&&{KMSKeyId:af})};var f_=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,r=!!this.children.length,n="<"+this.name,i=this.attributes;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];null!=u&&(n+=" "+a+'="'+(""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"')}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n+(r?">"+this.children.map(function(e){return e.toString()}).join("")+"</"+this.name+">":"/>")},e}(),fk=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),fP=oS("l8rQG");const fI=function(e,t,r){let n={};if(!t.alwaysCreateTextNode&&(!e.child||fP.isEmptyObject(e.child))&&(!e.attrsMap||fP.isEmptyObject(e.attrsMap)))return fP.isExist(e.val)?e.val:"";if(fP.isExist(e.val)&&!("string"==typeof e.val&&(""===e.val||e.val===t.cdataPositionChar))){let i=fP.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=i?[e.val]:e.val}fP.merge(n,e.attrsMap,t.arrayMode);let i=Object.keys(e.child);for(let o=0;o<i.length;o++){let s=i[o];if(e.child[s]&&e.child[s].length>1)for(let r in n[s]=[],e.child[s])e.child[s].hasOwnProperty(r)&&n[s].push(fI(e.child[s][r],t,s));else{let i=fI(e.child[s][0],t,s),o=!0===t.arrayMode&&"object"==typeof i||fP.isTagNameInArrayMode(s,t.arrayMode,r);n[s]=o?[i]:i}}return n};var fT=(oS("21YsA"),oS("21YsA")),fP=oS("l8rQG"),fO=fP.buildOptions,fP=oS("l8rQG");const fU={allowBooleanAttributes:!1},fL=["allowBooleanAttributes"];function fM(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let n=e.substr(r,t-r);if(t>5&&"xml"===n)return fj("InvalidXml","XML declaration allowed only at the start of the document.",fB(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function fR(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}iB=function(e,t){t=fP.buildOptions(t,fU,fL);let r=[],n=!1,i=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,(s=fM(e,s)).err)return s}else if("<"===e[s]){let a=s;if("!"===e[++s]){s=fR(e,s);continue}{var o;let u=!1;"/"===e[s]&&(u=!0,s++);let c="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"	"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)c+=e[s];if("/"===(c=c.trim())[c.length-1]&&(c=c.substring(0,c.length-1),s--),o=c,!fP.isName(o))return fj("InvalidTag",0===c.trim().length?"Invalid space after '<'.":"Tag '"+c+"' is an invalid name.",fB(e,s));let l=function(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}(e,s);if(!1===l)return fj("InvalidAttr","Attributes for '"+c+"' have open quote.",fB(e,s));let f=l.value;if(s=l.index,"/"===f[f.length-1]){let r=s-f.length,i=fD(f=f.substring(0,f.length-1),t);if(!0!==i)return fj(i.err.code,i.err.msg,fB(e,r+i.err.line));n=!0}else if(u){if(!l.tagClosed)return fj("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",fB(e,s));{if(f.trim().length>0)return fj("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",fB(e,a));let t=r.pop();if(c!==t.tagName){let r=fB(e,t.tagStartPos);return fj("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+c+"'.",fB(e,a))}0==r.length&&(i=!0)}}else{let o=fD(f,t);if(!0!==o)return fj(o.err.code,o.err.msg,fB(e,s-f.length+o.err.line));if(!0===i)return fj("InvalidXml","Multiple possible root nodes found.",fB(e,s));r.push({tagName:c,tagStartPos:a}),n=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s=fR(e,++s);continue}if("?"===e[s+1]){if((s=fM(e,++s)).err)return s}else break}else if("&"===e[s]){let t=function(e,t){if(";"===e[++t])return -1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return -1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!e[t].match(/\w/)||!(r<20)){if(";"===e[t])break;return -1}return t}(e,s);if(-1==t)return fj("InvalidChar","char '&' is not expected.",fB(e,s));s=t}"<"===e[s]&&s--}}else{if(" "===e[s]||"	"===e[s]||"\n"===e[s]||"\r"===e[s])continue;return fj("InvalidChar","char '"+e[s]+"' is not expected.",fB(e,s))}return n?1==r.length?fj("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",fB(e,r[0].tagStartPos)):!(r.length>0)||fj("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):fj("InvalidXml","Start tag expected.",1)};const fN=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function fD(e,t){let r=fP.getAllMatches(e,fN),n={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return fj("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",fF(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return fj("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",fF(r[e]));let i=r[e][2];if(!fP.isName(i))return fj("InvalidAttr","Attribute '"+i+"' is an invalid name.",fF(r[e]));if(n.hasOwnProperty(i))return fj("InvalidAttr","Attribute '"+i+"' is repeated.",fF(r[e]));n[i]=1}return!0}function fj(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function fB(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function fF(e){return e.startIndex+e[1].length}ij=function(e,t={},r){if(r){!0===r&&(r={});let t=iB(e,r);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let n=fO(t,fT.defaultOptions,fT.props);return fI(fT.getTraversalObj(e,n),n)},oS("9CiNR").convert2nimn,fT.getTraversalObj,oS("ajMmB").convertToJsonString,oS("gnljR");var fz=function(e,t){return s_(void 0,void 0,void 0,function(){var t;return sk(this,function(r){return t={name:"NoSuchBucket",$fault:"client",$metadata:fQ(e)},e.body,[2,t]})})},fK=function(e,t){var r=new f_("CompletedMultipartUpload");return void 0!==e.Parts&&null!==e.Parts&&fH(e.Parts,t).map(function(e){e=e.withName("Part"),r.addChildNode(e)}),r},fq=function(e,t){var r=new f_("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var n=new f_("ETag").addChildNode(new fk(e.ETag)).withName("ETag");r.addChildNode(n)}if(void 0!==e.PartNumber&&null!==e.PartNumber){var n=new f_("PartNumber").addChildNode(new fk(String(e.PartNumber))).withName("PartNumber");r.addChildNode(n)}return r},fH=function(e,t){return e.filter(function(e){return null!=e}).map(function(e){return null===e?null:fq(e,t).withName("member")})},fV=function(e,t){var r={Prefix:void 0};return void 0!==e.Prefix&&(r.Prefix=e.Prefix),r},fG=function(e,t){return(e||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:fV(e,t)})},fW=function(e,t){var r={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(r.ETag=e.ETag),void 0!==e.LastModified&&(r.LastModified=new Date(e.LastModified)),r},f$=function(e,t){var r={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(r.ID=e.ID),void 0!==e.DisplayName&&(r.DisplayName=e.DisplayName),r},fY=function(e,t){var r={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(r.Key=e.Key),void 0!==e.LastModified&&(r.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(r.ETag=e.ETag),void 0!==e.Size&&(r.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(r.StorageClass=e.StorageClass),void 0!==e.Owner&&(r.Owner=fZ(e.Owner,t)),r},fJ=function(e,t){return(e||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:fY(e,t)})},fZ=function(e,t){var r={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(r.DisplayName=e.DisplayName),void 0!==e.ID&&(r.ID=e.ID),r},fX=function(e,t){var r={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(r.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(r.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(r.ETag=e.ETag),void 0!==e.Size&&(r.Size=parseInt(e.Size)),r},fQ=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},f0=function(e,t){return(void 0===e&&(e=new Uint8Array),e instanceof Uint8Array)?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},f1=function(e){return null!=e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size)},f2=function(e,t){return f0(e,t).then(function(e){return t.utf8Encoder(e)}).then(function(e){if(e.length){var t=ij(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),r="#text",n=Object.keys(t)[0],i=t[n];return i[r]&&(i[n]=i[r],delete i[r]),ao(i)}return{}})},f3=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},f4=function(){return(f4=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f6(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}var f5=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},f8=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw Error("Malformed ARN");var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(t);return{partition:r[1],service:r[2],region:r[3],accountId:r[4],resource:r.slice(5).join(":")}},f7=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,f9=/(\d+\.){3}\d+/,de=/\.\./,dt=/\./,dr=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,dn=/^s3(-external-1)?\.amazonaws\.com$/,di="amazonaws.com",ds=function(e){return dp(e)?e.replace(/fips-|-fips/,""):e},da=function(e){var t=e.match(dr);return[t[2],e.replace(RegExp("^"+t[0]),"")]},du=function(e){if(e.pathStyleEndpoint)throw Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw Error("HTTPS is required when bucket is an ARN")},dc=function(e){if("s3"!==e&&"s3-outposts"!==e)throw Error("Expect 's3' or 's3-outposts' in ARN service component")},dl=function(e){if("s3"!==e)throw Error("Expect 's3' in Accesspoint ARN service component")},df=function(e){if("s3-outposts"!==e)throw Error("Expect 's3-posts' in Outpost ARN service component")},dd=function(e,t){if(e!==t.clientPartition)throw Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')},dh=function(e,t){if(""===e)throw Error("ARN region is empty");if(!t.useArnRegion&&!dg(e,t.clientRegion)&&!dg(e,t.clientSigningRegion))throw Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&dp(e))throw Error("Endpoint does not support FIPS region")},dp=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},dg=function(e,t){return e===t||ds(e)===t||e===ds(t)},dy=function(e){if(!/[0-9]{12}/.exec(e))throw Error("Access point ARN accountID does not match regex '[0-9]{12}'")},dv=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&dt.test(e))throw Error("Invalid DNS label "+e)},dm=function(e){var t=e.includes(":")?":":"/",r=f6(e.split(t)),n=r[0],i=r.slice(1);if("accesspoint"===n){if(1!==i.length||""===i[0])throw Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===n){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=f6(i,3);return{outpostId:o[0],accesspointName:(o[1],o[2])}}throw Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")},db=function(e){if(e)throw Error("Dualstack endpoint is not supported with Outpost")},dw=function(e){if(dp(null!=e?e:""))throw Error("FIPS region is not supported with Outpost, got "+e)},dS=function(e){var t=e.isCustomEndpoint,r=(e.baseHostname,e.dualstackEndpoint),n=e.accelerateEndpoint;if(t){if(r)throw Error("Dualstack endpoint is not supported with custom endpoint");if(n)throw Error("Accelerate endpoint is not supported with custom endpoint")}return"string"==typeof e.bucketName?dC(f4(f4({},e),{isCustomEndpoint:t})):dE(f4(f4({},e),{isCustomEndpoint:t}))},dE=function(e){var t=e.isCustomEndpoint,r=e.baseHostname,n=f6(t?[e.clientRegion,r]:dn.test(r)?[r.replace("."+di,""),di]:da(r),2),i=n[0],o=n[1],s=e.pathStyleEndpoint,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.accelerateEndpoint,l=e.tlsCompatible,f=void 0===l||l,d=e.useArnRegion,h=e.bucketName,p=e.clientPartition,g=e.clientSigningRegion,y=void 0===g?i:g;du({pathStyleEndpoint:s,accelerateEndpoint:void 0!==c&&c,tlsCompatible:f});var v=h.service,m=h.partition,b=h.accountId,w=h.region,S=h.resource;dc(v),dd(m,{clientPartition:void 0===p?"aws":p}),dy(b),dh(w,{useArnRegion:d,clientRegion:i,clientSigningRegion:y});var E=dm(S),C=E.accesspointName,A=E.outpostId;dv(C+"-"+b,{tlsCompatible:f});var x=d?w:i,_=d?w:y;return A?(df(v),dv(A,{tlsCompatible:f}),db(u),dw(x),{bucketEndpoint:!0,hostname:C+"-"+b+"."+A+(t?"":".s3-outposts."+x)+"."+o,signingRegion:_,signingService:"s3-outposts"}):(dl(v),{bucketEndpoint:!0,hostname:C+"-"+b+(t?"":".s3-accesspoint"+(u?".dualstack":"")+"."+x)+"."+o,signingRegion:_})},dC=function(e){var t,r=e.accelerateEndpoint,n=e.clientRegion,i=e.baseHostname,o=e.bucketName,s=e.dualstackEndpoint,a=void 0!==s&&s,u=e.pathStyleEndpoint,c=e.tlsCompatible,l=e.isCustomEndpoint,f=f6(void 0!==l&&l?[n,i]:(t=i,dn.test(t)?["us-east-1",di]:da(t)),2),d=f[0],h=f[1];return void 0!==u&&u||!f7.test(o)||f9.test(o)||de.test(o)||(void 0===c||c)&&dt.test(o)?{bucketEndpoint:!1,hostname:a?"s3.dualstack."+d+"."+h:i}:(void 0!==r&&r?i="s3-accelerate"+(a?".dualstack":"")+"."+h:a&&(i="s3.dualstack."+d+"."+h),{bucketEndpoint:!0,hostname:o+"."+i})},dA={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},dx=function(e){return{applyToStack:function(t){t.addRelativeTo(function(t,r){return function(n){var i,o,s,a;return i=void 0,o=void 0,s=void 0,a=function(){var i,o,s,a,u,c,l,f,d,h,p,g,y,v,m,b,w,S;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(E){switch(E.label){case 0:if(i=n.input.Bucket,o=e.bucketEndpoint,s=n.request,!sT.isInstance(s))return[3,8];if(!e.bucketEndpoint)return[3,1];return s.hostname=i,[3,7];case 1:if(!f5(i))return[3,5];return a=f8(i),c=ds,[4,e.region()];case 2:return u=c.apply(void 0,[E.sent()]),[4,e.regionInfoProvider(u)];case 3:return f=(l=E.sent()||{}).partition,h=void 0===(d=l.signingRegion)?u:d,[4,e.useArnRegion()];case 4:return p=E.sent(),y=(g=dS({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:p,clientPartition:f,clientSigningRegion:h,clientRegion:u,isCustomEndpoint:e.isCustomEndpoint})).hostname,v=g.bucketEndpoint,m=g.signingRegion,b=g.signingService,m&&m!==h&&(r.signing_region=m),b&&"s3"!==b&&(r.signing_service=b),s.hostname=y,o=v,[3,7];case 5:return w=ds,[4,e.region()];case 6:u=w.apply(void 0,[E.sent()]),y=(S=dS({bucketName:i,clientRegion:u,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint})).hostname,v=S.bucketEndpoint,s.hostname=y,o=v,E.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),E.label=8;case 8:return[2,t(f4(f4({},n),{request:s}))]}})},new(s||(s=Promise))(function(e,t){function r(e){try{u(a.next(e))}catch(e){t(e)}}function n(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}u((a=a.apply(i,o||[])).next())})}},dA)}}},d_=function(){return(d_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function dk(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function dP(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var dI={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},dT={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},dO=function(e,t){return(void 0===e&&(e=new Uint8Array),e instanceof Uint8Array)?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},dU={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},dL=function(e){return{applyToStack:function(t){t.addRelativeTo(function(t){return function(r){return dk(void 0,void 0,void 0,function(){var n,i,o,s,a,u,c;return dP(this,function(l){switch(l.label){case 0:return[4,t(r)];case 1:if(i=(n=l.sent()).response,!sP.isInstance(i)||(o=i.statusCode,s=i.body,o<200&&o>=300))return[2,n];return[4,dO(s,e)];case 2:return[4,dO(a=l.sent(),e).then(function(t){return e.utf8Encoder(t)})];case 3:if(u=l.sent(),0===a.length)throw(c=Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,n]}})})}},dU)}}},dM=function(){return(dM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},dR={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},dN=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(r){return function(n){var i,o,s;return i=void 0,o=void 0,s=function(){var t,i,o,s,a,u,c,l,f,d,h,p,g,y,v,m;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(b){switch(b.label){case 0:t=dM({},n.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],b.label=1;case 1:b.trys.push([1,6,7,8]),s=(o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i)).next(),b.label=2;case 2:if(s.done)return[3,5];if(!(u=t[(a=s.value).target]))return[3,4];return c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[dM({},t)],(m={})[a.target]=l,h=a.hash,g=(p=e).base64Encoder,[4,f.digest()];case 3:t=dM.apply(void 0,d.concat([(m[h]=g.apply(p,[b.sent()]),m)])),b.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return y={error:b.sent()},[3,8];case 7:try{s&&!s.done&&(v=o.return)&&v.call(o)}finally{if(y)throw y.error}return[7];case 8:return[2,r(dM(dM({},n),{input:t}))]}})},new(o||(o=Promise))(function(e,r){function n(e){try{u(s.next(e))}catch(e){r(e)}}function a(e){try{u(s.throw(e))}catch(e){r(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof o?r:new o(function(e){e(r)})).then(n,a)}u((s=s.apply(t,i||[])).next())})}}}(e),dR)}}},dD=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dL(t)),this.middlewareStack.use(dN(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:e3.filterSensitiveLog,outputFilterSensitiveLog:e2.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx({},f1(e.ACL)&&{"x-amz-acl":e.ACL}),f1(e.CacheControl)&&{"cache-control":e.CacheControl}),f1(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),f1(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),f1(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),f1(e.ContentType)&&{"content-type":e.ContentType}),f1(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),f1(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),f1(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":al(e.CopySourceIfModifiedSince).toString()}),f1(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),f1(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":al(e.CopySourceIfUnmodifiedSince).toString()}),f1(e.Expires)&&{expires:al(e.Expires).toString()}),f1(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),f1(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),f1(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),f1(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),f1(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),f1(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),f1(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),f1(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),f1(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),f1(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),f1(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),f1(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),f1(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),f1(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),f1(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),f1(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),f1(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),f1(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.Tagging)&&{"x-amz-tagging":e.Tagging}),f1(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),f1(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),f1(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),f1(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,r){var n;return sx(sx({},t),((n={})["x-amz-meta-"+r.toLowerCase()]=e.Metadata[r],n))},{})),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:return n=[sx({},e)],c={},[4,f2(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(c.body=l.sent(),c)])),o="UnknownError",o=f3(e,r.body)){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:var f,d;return s=[{}],[4,(f=r,d=0,s_(void 0,void 0,void 0,function(){var e;return sk(this,function(t){return e={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:fQ(f)},f.body,[2,e]})}))];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:fQ(e)}]),[3,5];case 4:o=(a=r.body).code||a.Code||o,i=sx(sx({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:fQ(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(Error(u),i))]}})})];return r={$metadata:fQ(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(r.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(r.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(r.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f2(e.body,t)];case 1:return n=i.sent(),r.CopyObjectResult=fW(n,t),[2,Promise.resolve(r)]}})})},t}(ar),dj=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:ty.filterSensitiveLog,outputFilterSensitiveLog:tg.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx({},f1(e.MFA)&&{"x-amz-mfa":e.MFA}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"DELETE",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){switch(n.label){case 0:if(204!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(r.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(r.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f0(e.body,t)];case 1:return n.sent(),[2,Promise.resolve(r)]}})})},t}(ar),dB=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dN(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:ni.filterSensitiveLog,outputFilterSensitiveLog:nn.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx(sx(sx(sx(sx(sx(sx({},f1(e.IfMatch)&&{"if-match":e.IfMatch}),f1(e.IfModifiedSince)&&{"if-modified-since":al(e.IfModifiedSince).toString()}),f1(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),f1(e.IfUnmodifiedSince)&&{"if-unmodified-since":al(e.IfUnmodifiedSince).toString()}),f1(e.Range)&&{range:e.Range}),f1(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),f1(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),f1(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx(sx(sx(sx(sx(sx(sx(sx({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"GET",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l;return sk(this,function(f){var d,h,p,g;switch(f.label){case 0:return n=[sx({},e)],l={},[4,f2(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(l.body=f.sent(),l)])),o="UnknownError",o=f3(e,r.body)){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,(d=r,h=0,s_(void 0,void 0,void 0,function(){var e,t;return sk(this,function(r){return e={name:"InvalidObjectState",$fault:"client",$metadata:fQ(d),AccessTier:void 0,StorageClass:void 0},void 0!==(t=d.body).AccessTier&&(e.AccessTier=t.AccessTier),void 0!==t.StorageClass&&(e.StorageClass=t.StorageClass),[2,e]})}))];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:fQ(e)}]),[3,7];case 4:return a=[{}],[4,(p=r,g=0,s_(void 0,void 0,void 0,function(){var e;return sk(this,function(t){return e={name:"NoSuchKey",$fault:"client",$metadata:fQ(p)},p.body,[2,e]})}))];case 5:return i=sx.apply(void 0,[sx.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:fQ(e)}]),[3,7];case 6:o=(u=r.body).code||u.Code||o,i=sx(sx({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:fQ(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(Error(c),i))]}})})]:(r={$metadata:fQ(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(r.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(r.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(r.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(r.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(r.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(r.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(r.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(r.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(r.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(r.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(r.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(r.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(r.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(r.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(r.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(r.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(r.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(r.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(r.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(r.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(r.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(r.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(r.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(r.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(t){void 0===r.Metadata&&(r.Metadata={}),t.startsWith("x-amz-meta-")&&(r.Metadata[t.substring(11)]=e.headers[t])}),n=e.body,r.Body=n,[2,Promise.resolve(r)])})})},t}(ar),dF=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:n$.filterSensitiveLog,outputFilterSensitiveLog:nW.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx({},f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");return o=sx(sx(sx(sx(sx({},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.Marker&&{marker:e.Marker}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"GET",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:return n=[sx({},e)],c={},[4,f2(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(c.body=l.sent(),c)])),o="UnknownError",o=f3(e,r.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,fz(r,t)];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:fQ(e)}]),[3,5];case 4:o=(a=r.body).code||a.Code||o,i=sx(sx({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:fQ(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(Error(u),i))]}})})];return r={$metadata:fQ(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,f2(e.body,t)];case 1:return""===(n=i.sent()).CommonPrefixes&&(r.CommonPrefixes=[]),void 0!==n.CommonPrefixes&&(r.CommonPrefixes=fG(ai(n.CommonPrefixes),t)),""===n.Contents&&(r.Contents=[]),void 0!==n.Contents&&(r.Contents=fJ(ai(n.Contents),t)),void 0!==n.Delimiter&&(r.Delimiter=n.Delimiter),void 0!==n.EncodingType&&(r.EncodingType=n.EncodingType),void 0!==n.IsTruncated&&(r.IsTruncated="true"==n.IsTruncated),void 0!==n.Marker&&(r.Marker=n.Marker),void 0!==n.MaxKeys&&(r.MaxKeys=parseInt(n.MaxKeys)),void 0!==n.Name&&(r.Name=n.Name),void 0!==n.NextMarker&&(r.NextMarker=n.NextMarker),void 0!==n.Prefix&&(r.Prefix=n.Prefix),[2,Promise.resolve(r)]}})})},t}(ar);function dz(e){var t=e.port,r=e.query,n=e.protocol,i=e.path,o=e.hostname;n&&":"!==n.substr(-1)&&(n+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=r?aI(r):"";return s&&"?"!==s[0]&&(s="?"+s),n+"//"+o+i+s}function dK(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function dq(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var dH=function(){return(dH=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},dV=function(){function e(e){var t=dH({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new co(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var r,n,i,o,s=t.unsignableHeaders,a=void 0===s?new Set:s,u=t.unhoistableHeaders,c=void 0===u?new Set:u,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(t,["unsignableHeaders","unhoistableHeaders"]);return r=this,n=void 0,i=void 0,o=function(){return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(t){return a.add("content-type"),Object.keys(e.headers).map(function(e){return e.toLowerCase()}).filter(function(e){return e.startsWith("x-amz-server-side-encryption")}).forEach(function(e){c.add(e)}),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,dH({expiresIn:900,unsignableHeaders:a,unhoistableHeaders:c},l))]})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}u((o=o.apply(r,n||[])).next())})},e}(),dG={};dG=oS("7we3r"),(v=iF||(iF={})).NO_CREDENTIALS="No credentials",v.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',v.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',v.INVALID_BLOB="Object must be an instance of Blob",(m=iz||(iz={})).CLEANUP_FAILED="Multipart copy clean up failed",m.NO_OBJECT_FOUND="Object does not exist",m.INVALID_QUEUESIZE="Queue size must be a positive number",m.NO_COPYSOURCE="You must specify a copy source",m.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed",(iK||(iK={})).UPLOAD_PAUSED_MESSAGE="paused";var dW=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d$=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},dY=new ok("axios-http-handler"),dJ="sendUploadProgress",dZ="sendDownloadProgress",dX=function(e,t){var r,n;try{for(var i=dW(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=d$(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},dQ=[function(e,t){return"undefined"!=typeof Blob&&e instanceof Blob?(dX(t,"Content-Type"),dX(t,"Accept"),e):/*@__PURE__*/om(dG).defaults.transformRequest[0].call(null,e,t)}],d0=function(){function e(e,t,r){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=r}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var r,n=this.httpOptions.requestTimeout,i=t.emitter||this.emitter,o=e.path;if(e.query){var s=aI(e.query);s&&(o+="?"+s)}var a=e.port,u=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,c={};return c.url=u,c.method=e.method,c.headers=e.headers,delete c.headers.host,e.body?c.data=e.body:c.headers[Object.keys(c.headers).find(function(e){return"content-type"===e.toLowerCase()})]&&(c.data=null),i&&(c.onUploadProgress=function(e){i.emit(dJ,e),dY.debug(e)},c.onDownloadProgress=function(e){i.emit(dZ,e),dY.debug(e)}),this.cancelTokenSource&&(c.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(c.cancelToken=t.cancelTokenSource.token),c.responseType="blob",oU.isReactNative&&(c.transformRequest=dQ),Promise.race([/*@__PURE__*/om(dG).request(c).then(function(e){return{response:new sP({headers:e.headers,statusCode:e.status,body:e.data})}}).catch(function(e){var t,r,n;if(e.message!==iK.UPLOAD_PAUSED_MESSAGE&&dY.error(e.message),/*@__PURE__*/om(dG).isCancel(e))throw e;return{response:new sP({statusCode:null===(t=e.response)||void 0===t?void 0:t.status,body:null===(r=e.response)||void 0===r?void 0:r.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}}),(void 0===(r=n)&&(r=0),new Promise(function(e,t){r&&setTimeout(function(){var e=Error("Request did not complete within "+r+" ms");e.name="TimeoutError",t(e)},r)}))])},e}(),d1="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",d2="contentLengthMiddleware",d3="__uploadInProgress",d4=function(e){if("string"==typeof e)return e.length;if(d8(e))return e.byteLength;if(d5(e))return e.size;throw Error("Cannot determine byte length of "+e)},d6=function(e,t,r,n,i){if(e){var o={attrs:r};n&&(o.metrics=n),oB.dispatch("storage",{event:t,data:o,message:i},"Storage",d1)}},d5=function(e){return void 0!==e&&e instanceof Blob},d8=function(e){return void 0!==e&&e instanceof ArrayBuffer},d7={};d7=JSON.parse('{"name":"@aws-sdk/client-s3","description":"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-s3"}}');var d9={};Object.defineProperty(d9,"__esModule",{value:!0}),d9.AwsCrc32=d9.Crc32=d9.crc32=void 0;var he=oS("8XVZm");d9.crc32=function(e){return new ht().update(e).digest()};var ht=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,r;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=n.next();!i.done;i=n.next()){var o=i.value;this.checksum=this.checksum>>>8^hr[(this.checksum^o)&255]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();d9.Crc32=ht;var hr=(0,he.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.AwsCrc32=void 0;var he=oS("8XVZm"),hi=function(){function e(){this.crc32=new d9.Crc32}return e.prototype.update=function(e){(0,he.isEmptyData)(e)||this.crc32.update((0,he.convertToBuffer)(e))},e.prototype.digest=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(e){return[2,(0,he.numToUint8)(this.crc32.digest())]})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e}();function ho(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}hn.AwsCrc32=hi,Object.defineProperty(d9,"AwsCrc32",{enumerable:!0,get:function(){return hn.AwsCrc32}});var hs=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x7fffffffffffffff||t<-0x8000000000000000)throw Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var r=new Uint8Array(8),n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&ha(r),new e(r)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&ha(e),parseInt(uG(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function ha(e){for(var t=0;t<8;t++)e[t]^=255;for(var t=7;t>-1&&(e[t]++,0===e[t]);t--);}var hu=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,r,n,i,o=[];try{for(var s=ho(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce(function(e,t){return e+t.byteLength},0)),f=0;try{for(var d=ho(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":var n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);var u=new Uint8Array(a.buffer);return u.set(s,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(hs.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!hm.test(e.value))throw Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=e.substr(r,2).toLowerCase();if(n in uq)t[r/2]=uq[n];else throw Error("Cannot decode unrecognized sequence "+n+" as hexadecimal")}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},r=0;r<e.byteLength;){var n=e.getUint8(r++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[i]={type:hc,value:!0};break;case 1:t[i]={type:hc,value:!1};break;case 2:t[i]={type:hl,value:e.getInt8(r++)};break;case 3:t[i]={type:hf,value:e.getInt16(r,!1)},r+=2;break;case 4:t[i]={type:hd,value:e.getInt32(r,!1)},r+=4;break;case 5:t[i]={type:hh,value:new hs(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:var o=e.getUint16(r,!1);r+=2,t[i]={type:hp,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:var s=e.getUint16(r,!1);r+=2,t[i]={type:hg,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,s))},r+=s;break;case 8:t[i]={type:hy,value:new Date(new hs(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:var a=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[i]={type:hv,value:uG(a.subarray(0,4))+"-"+uG(a.subarray(4,6))+"-"+uG(a.subarray(6,8))+"-"+uG(a.subarray(8,10))+"-"+uG(a.subarray(10))};break;default:throw Error("Unrecognized header type tag")}}return t},e}();(b=iq||(iq={}))[b.boolTrue=0]="boolTrue",b[b.boolFalse=1]="boolFalse",b[b.byte=2]="byte",b[b.short=3]="short",b[b.integer=4]="integer",b[b.long=5]="long",b[b.byteArray=6]="byteArray",b[b.string=7]="string",b[b.timestamp=8]="timestamp",b[b.uuid=9]="uuid";var hc="boolean",hl="byte",hf="short",hd="integer",hh="long",hp="binary",hg="string",hy="timestamp",hv="uuid",hm=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,hb=function(){function e(e,t){this.headerMarshaller=new hu(e,t)}return e.prototype.marshall=function(e){var t=e.headers,r=e.body,n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new d9.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,r=e.byteOffset,n=e.buffer;if(t<16)throw Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(n,r,t),o=i.getUint32(0,!1);if(t!==o)throw Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),a=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=new(0,d9.Crc32)().update(new Uint8Array(n,r,8));if(a!==c.digest())throw Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(n,r+8,t-12)),u!==c.digest())throw Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(n,r+8+4,s),body:new Uint8Array(n,r+8+4+s,o-s-16)}}(e),r=t.headers,n=t.body;return{headers:this.headerMarshaller.parse(r),body:n}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();function hw(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function hS(e){return this instanceof hS?(this.v=e,this):new hS(e)}function hE(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof hS?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function hC(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}var hA=function(){function e(e){var t=e.utf8Encoder,r=e.utf8Decoder;this.eventMarshaller=new hb(t,r),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var r,n,i,o,s,a,u,c;return n=0,i=0,o=null,s=null,a=function(e){if("number"!=typeof e)throw Error("Attempted to allocate an event message where size was not a number: "+e);n=e,i=4,new DataView((o=new Uint8Array(e)).buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return hE(this,arguments,function(){var t,r,u,c,l,f,d,h;return hw(this,function(p){switch(p.label){case 0:t=e[Symbol.asyncIterator](),p.label=1;case 1:return[4,hS(t.next())];case 2:if(u=(r=p.sent()).value,!r.done)return[3,10];if(n)return[3,4];return[4,hS(void 0)];case 3:case 9:return[2,p.sent()];case 4:if(n!==i)return[3,7];return[4,hS(o)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw Error("Truncated event message received.");case 8:return[4,hS(void 0)];case 10:c=u.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!o){if(f=c-l,s||(s=new Uint8Array(4)),d=Math.min(4-i,f),s.set(u.slice(l,l+d),i),i+=d,l+=d,i<4)return[3,15];a(new DataView(s.buffer).getUint32(0,!1)),s=null}if(h=Math.min(n-i,c-l),o.set(u.slice(l,l+h),i),i+=h,l+=h,!(n&&n===i))return[3,14];return[4,hS(o)];case 12:return[4,p.sent()];case 13:p.sent(),o=null,n=0,i=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})},u={eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder},(c={})[Symbol.asyncIterator]=function(){return hE(this,arguments,function(){var e,t,n,i,o,s,a,c,l,f,d,h,p,g,y,v;return hw(this,function(m){switch(m.label){case 0:m.trys.push([0,12,13,18]),e=hC(r),m.label=1;case 1:return[4,hS(e.next())];case 2:if((t=m.sent()).done)return[3,11];if(n=t.value,"error"!==(o=(i=u.eventMarshaller.unmarshall(n)).headers[":message-type"].value))return[3,3];throw(s=Error(i.headers[":error-message"].value||"UnknownError")).name=i.headers[":error-code"].value,s;case 3:if("exception"!==o)return[3,5];return a=i.headers[":exception-type"].value,(p={})[a]=i,c=p,[4,hS(u.deserializer(c))];case 4:if((l=m.sent()).$unknown)throw(f=Error(u.toUtf8(i.body))).name=a,f;throw l[a];case 5:if("event"!==o)return[3,9];return(g={})[i.headers[":event-type"].value]=i,d=g,[4,hS(u.deserializer(d))];case 6:if((h=m.sent()).$unknown)return[3,10];return[4,hS(h)];case 7:return[4,m.sent()];case 8:return m.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+i.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return y={error:m.sent()},[3,18];case 13:if(m.trys.push([13,,16,17]),!(t&&!t.done&&(v=e.return)))return[3,15];return[4,hS(v.call(e))];case 14:m.sent(),m.label=15;case 15:return[3,17];case 16:if(y)throw y.error;return[7];case 17:return[7];case 18:return[2]}})})},c},e.prototype.serialize=function(e,t){var r,n=this;return(r={})[Symbol.asyncIterator]=function(){return hE(this,arguments,function(){var r,i,o,s,a;return hw(this,function(u){switch(u.label){case 0:u.trys.push([0,7,8,13]),r=hC(e),u.label=1;case 1:return[4,hS(r.next())];case 2:if((i=u.sent()).done)return[3,6];return o=i.value,[4,hS(n.eventMarshaller.marshall(t(o)))];case 3:return[4,u.sent()];case 4:u.sent(),u.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return s={error:u.sent()},[3,13];case 8:if(u.trys.push([8,,11,12]),!(i&&!i.done&&(a=r.return)))return[3,10];return[4,hS(a.call(r))];case 9:u.sent(),u.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[4,hS(new Uint8Array(0))];case 14:return[4,u.sent()];case 15:return u.sent(),[2]}})})},r},e}();function hx(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h_(e){return this instanceof h_?(this.v=e,this):new h_(e)}var hk=function(e){var t;return(t={})[Symbol.asyncIterator]=function(){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof h_?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function(){var t,r,n,i;return hx(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,h_(t.read())];case 3:if(n=(r=o.sent()).done,i=r.value,!n)return[3,5];return[4,h_(void 0)];case 4:return[2,o.sent()];case 5:return[4,h_(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t},hP=function(e){var t=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(e){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function(){var r,n,i;return hx(this,function(o){switch(o.label){case 0:return[4,t.next()];case 1:if(n=(r=o.sent()).done,i=r.value,n)return[2,e.close()];return e.enqueue(i),[2]}})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}u((o=o.apply(r,n||[])).next())})}})},hI=function(){function e(e){var t=e.utf8Encoder,r=e.utf8Decoder;this.eventMarshaller=new hb(t,r),this.universalMarshaller=new hA({utf8Decoder:r,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var r=hT(e)?hk(e):e;return this.universalMarshaller.deserialize(r,t)},e.prototype.serialize=function(e,t){var r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?hP(r):r},e}(),hT=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},uf=oS("f5Ly5"),hO=[1732584193,4023233417,2562383102,271733878],hU=function(){function e(){this.state=Uint32Array.from(hO),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!("string"==typeof e?0===e.length:0===e.byteLength)){if(this.finished)throw Error("Attempted to update an already finished hash.");var t="string"==typeof e?(0,uf.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),r=0,n=t.byteLength;for(this.bytesHashed+=n;n>0;)this.buffer.setUint8(this.bufferLength++,t[r++]),n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){var e,t,r,n,i,o;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(s){if(!this.finished){if(e=this,t=e.buffer,r=e.bufferLength,n=8*e.bytesHashed,t.setUint8(this.bufferLength++,128),r%64>=56){for(i=this.bufferLength;i<64;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<56;i++)t.setUint8(i,0);t.setUint32(56,n>>>0,!0),t.setUint32(60,Math.floor(n/4294967296),!0),this.hashBuffer(),this.finished=!0}for(i=0,o=new DataView(new ArrayBuffer(16));i<4;i++)o.setUint32(4*i,this.state[i],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,r=t[0],n=t[1],i=t[2],o=t[3];r=hM(r,n,i,o,e.getUint32(0,!0),7,3614090360),o=hM(o,r,n,i,e.getUint32(4,!0),12,3905402710),i=hM(i,o,r,n,e.getUint32(8,!0),17,606105819),n=hM(n,i,o,r,e.getUint32(12,!0),22,3250441966),r=hM(r,n,i,o,e.getUint32(16,!0),7,4118548399),o=hM(o,r,n,i,e.getUint32(20,!0),12,1200080426),i=hM(i,o,r,n,e.getUint32(24,!0),17,2821735955),n=hM(n,i,o,r,e.getUint32(28,!0),22,4249261313),r=hM(r,n,i,o,e.getUint32(32,!0),7,1770035416),o=hM(o,r,n,i,e.getUint32(36,!0),12,2336552879),i=hM(i,o,r,n,e.getUint32(40,!0),17,4294925233),n=hM(n,i,o,r,e.getUint32(44,!0),22,2304563134),r=hM(r,n,i,o,e.getUint32(48,!0),7,1804603682),o=hM(o,r,n,i,e.getUint32(52,!0),12,4254626195),i=hM(i,o,r,n,e.getUint32(56,!0),17,2792965006),n=hM(n,i,o,r,e.getUint32(60,!0),22,1236535329),r=hR(r,n,i,o,e.getUint32(4,!0),5,4129170786),o=hR(o,r,n,i,e.getUint32(24,!0),9,3225465664),i=hR(i,o,r,n,e.getUint32(44,!0),14,643717713),n=hR(n,i,o,r,e.getUint32(0,!0),20,3921069994),r=hR(r,n,i,o,e.getUint32(20,!0),5,3593408605),o=hR(o,r,n,i,e.getUint32(40,!0),9,38016083),i=hR(i,o,r,n,e.getUint32(60,!0),14,3634488961),n=hR(n,i,o,r,e.getUint32(16,!0),20,3889429448),r=hR(r,n,i,o,e.getUint32(36,!0),5,568446438),o=hR(o,r,n,i,e.getUint32(56,!0),9,3275163606),i=hR(i,o,r,n,e.getUint32(12,!0),14,4107603335),n=hR(n,i,o,r,e.getUint32(32,!0),20,1163531501),r=hR(r,n,i,o,e.getUint32(52,!0),5,2850285829),o=hR(o,r,n,i,e.getUint32(8,!0),9,4243563512),i=hR(i,o,r,n,e.getUint32(28,!0),14,1735328473),n=hR(n,i,o,r,e.getUint32(48,!0),20,2368359562),r=hN(r,n,i,o,e.getUint32(20,!0),4,4294588738),o=hN(o,r,n,i,e.getUint32(32,!0),11,2272392833),i=hN(i,o,r,n,e.getUint32(44,!0),16,1839030562),n=hN(n,i,o,r,e.getUint32(56,!0),23,4259657740),r=hN(r,n,i,o,e.getUint32(4,!0),4,2763975236),o=hN(o,r,n,i,e.getUint32(16,!0),11,1272893353),i=hN(i,o,r,n,e.getUint32(28,!0),16,4139469664),n=hN(n,i,o,r,e.getUint32(40,!0),23,3200236656),r=hN(r,n,i,o,e.getUint32(52,!0),4,681279174),o=hN(o,r,n,i,e.getUint32(0,!0),11,3936430074),i=hN(i,o,r,n,e.getUint32(12,!0),16,3572445317),n=hN(n,i,o,r,e.getUint32(24,!0),23,76029189),r=hN(r,n,i,o,e.getUint32(36,!0),4,3654602809),o=hN(o,r,n,i,e.getUint32(48,!0),11,3873151461),i=hN(i,o,r,n,e.getUint32(60,!0),16,530742520),n=hN(n,i,o,r,e.getUint32(8,!0),23,3299628645),r=hD(r,n,i,o,e.getUint32(0,!0),6,4096336452),o=hD(o,r,n,i,e.getUint32(28,!0),10,1126891415),i=hD(i,o,r,n,e.getUint32(56,!0),15,2878612391),n=hD(n,i,o,r,e.getUint32(20,!0),21,4237533241),r=hD(r,n,i,o,e.getUint32(48,!0),6,1700485571),o=hD(o,r,n,i,e.getUint32(12,!0),10,2399980690),i=hD(i,o,r,n,e.getUint32(40,!0),15,4293915773),n=hD(n,i,o,r,e.getUint32(4,!0),21,2240044497),r=hD(r,n,i,o,e.getUint32(32,!0),6,1873313359),o=hD(o,r,n,i,e.getUint32(60,!0),10,4264355552),i=hD(i,o,r,n,e.getUint32(24,!0),15,2734768916),n=hD(n,i,o,r,e.getUint32(52,!0),21,1309151649),r=hD(r,n,i,o,e.getUint32(16,!0),6,4149444226),o=hD(o,r,n,i,e.getUint32(44,!0),10,3174756917),i=hD(i,o,r,n,e.getUint32(8,!0),15,718787259),n=hD(n,i,o,r,e.getUint32(36,!0),21,3951481745),t[0]=r+t[0]&4294967295,t[1]=n+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function hL(e,t,r,n,i,o){return((t=(t+e&4294967295)+(n+o&4294967295)&4294967295)<<i|t>>>32-i)+r&4294967295}function hM(e,t,r,n,i,o,s){return hL(t&r|~t&n,e,t,i,o,s)}function hR(e,t,r,n,i,o,s){return hL(t&n|r&~n,e,t,i,o,s)}function hN(e,t,r,n,i,o,s){return hL(t^r^n,e,t,i,o,s)}function hD(e,t,r,n,i,o,s){return hL(r^(t|~n),e,t,i,o,s)}var uf=oS("f5Ly5"),hj="s3.{region}.amazonaws.com",hB=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),hF=new Set(["cn-north-1","cn-northwest-1"]),hz=new Set(["us-iso-east-1"]),hK=new Set(["us-isob-east-1"]),hq=new Set(["us-gov-east-1","us-gov-west-1"]),hH={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var r=void 0;switch(e){case"af-south-1":r={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":r={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":r={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":r={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":r={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":r={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":r={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":r={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:hB.has(e)&&(r={hostname:hj.replace("{region}",e),partition:"aws"}),hF.has(e)&&(r={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),hz.has(e)&&(r={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),hK.has(e)&&(r={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),hq.has(e)&&(r={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===r&&(r={hostname:hj.replace("{region}",e),partition:"aws"})}return Promise.resolve(sx({signingService:"s3"},r))},serviceId:"S3",signingEscapePath:!1,urlParser:um,useArnRegion:!1},hV=sx(sx({},hH),{runtime:"browser",base64Decoder:aj,base64Encoder:aB,bodyLengthChecker:uu,credentialDefaultProvider:function(e){return function(){return Promise.reject(Error("Credential is missing"))}},defaultUserAgentProvider:ul({serviceId:hH.serviceId,clientVersion:/*@__PURE__*/om(d7).version}),eventStreamSerdeProvider:function(e){return new hI(e)},maxAttempts:3,md5:hU,region:az("Region is missing"),requestHandler:new aT,sha256:aE.Sha256,streamCollector:aF,streamHasher:function(e,t){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function(){var r;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(n){switch(n.label){case 0:var i,o;return r=new e,[4,(i=function(e){r.update(e)},void 0===o&&(o=1048576),new Promise(function(e,r){var n=new FileReader;n.addEventListener("error",r),n.addEventListener("abort",r);var s=t.size,a=0;function u(){if(a>=s){e();return}n.readAsArrayBuffer(t.slice(a,Math.min(s,a+o)))}n.addEventListener("load",function(e){var t=e.target.result;i(new Uint8Array(t)),a+=t.byteLength,u()}),u()}))];case 1:return n.sent(),[2,r.digest()]}})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}u((o=o.apply(r,n||[])).next())})},utf8Decoder:uf.fromUtf8,utf8Encoder:uf.toUtf8}),hG=function(){return(hG=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},hW=function(){return(hW=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},h$={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},hY=function(e){function t(t){var r,n,i,o,s,a,u,c,l,f=this,d=us(cl(uE(ux(sx(sx({},hV),t))))),h=cy((r=d.bucketEndpoint,n=d.forcePathStyle,i=d.useAccelerateEndpoint,o=d.useDualstackEndpoint,a=void 0!==(s=d.useArnRegion)&&s,f4(f4({},d),{bucketEndpoint:void 0!==r&&r,forcePathStyle:void 0!==n&&n,useAccelerateEndpoint:void 0!==i&&i,useDualstackEndpoint:void 0!==o&&o,useArnRegion:"function"==typeof a?a:function(){return Promise.resolve(a)}}))),p=hG(hG({},h),{eventStreamMarshaller:h.eventStreamSerdeProvider(h)});return(f=e.call(this,p)||this).config=p,f.middlewareStack.use((u=f.config,{applyToStack:function(e){e.addRelativeTo(function(e,t){return function(r){return uN(this,void 0,void 0,function(){var n,i,o,s,a,c,l,f,d;return uD(this,function(h){switch(h.label){case 0:if(!sT.isInstance(r.request))return[2,e(r)];if("function"!=typeof u.signer)return[3,2];return[4,u.signer()];case 1:return i=h.sent(),[3,3];case 2:i=u.signer,h.label=3;case 3:return n=i,s=e,a=[uR({},r)],d={},[4,n.sign(r.request,{signingDate:new Date(Date.now()+u.systemClockOffset),signingRegion:t.signing_region,signingService:t.signing_service})];case 4:return[4,s.apply(void 0,[uR.apply(void 0,a.concat([(d.request=h.sent(),d)]))])];case 5:if(l=(c=(o=h.sent()).response.headers)&&(c.date||c.Date)){var p,g;p=f=Date.parse(l),Math.abs((g=u.systemClockOffset,new Date(Date.now()+g)).getTime()-p)>=3e5&&(u.systemClockOffset=f-Date.now())}return[2,o]}})})}},cd)}})),f.middlewareStack.use(aG(f.config)),f.middlewareStack.use(uT(f.config)),f.middlewareStack.use(uU(f.config)),f.middlewareStack.use(uM(f.config)),f.middlewareStack.use((f.config,{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(r){return dk(e,void 0,void 0,function(){var e,n;return dP(this,function(i){if("string"==typeof(e=r.input.Bucket)&&!f5(e)&&e.indexOf("/")>=0)throw(n=Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",n;return[2,t(d_({},r))]})})}}}(),dI)}})),f.middlewareStack.use((c=f.config,{applyToStack:function(e){e.add(function(e){return function(t){return dk(void 0,void 0,void 0,function(){var r,n;return dP(this,function(i){switch(i.label){case 0:if(r=t.request,!sT.isInstance(r)||c.isCustomEndpoint)return[2,e(d_({},t))];if("s3.amazonaws.com"!==r.hostname)return[3,1];return r.hostname="s3.us-east-1.amazonaws.com",[3,3];case 1:return n="aws-global",[4,c.region()];case 2:n===i.sent()&&(r.hostname="s3.amazonaws.com"),i.label=3;case 3:return[2,e(d_({},t))]}})})}},dT)}})),f.middlewareStack.use((l=f.config,{applyToStack:function(e){e.add(function(e){var t=this;return function(r){return function(n){var i,o,s;return i=void 0,o=void 0,s=function(){var t;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(i){return t=n.request,sT.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=hW(hW({},t.headers),{Expect:"100-continue"})),[2,r(hW(hW({},n),{request:t}))]})},new(o||(o=Promise))(function(e,r){function n(e){try{u(s.next(e))}catch(e){r(e)}}function a(e){try{u(s.throw(e))}catch(e){r(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof o?r:new o(function(e){e(r)})).then(n,a)}u((s=s.apply(t,i||[])).next())})}}}(l),h$)}})),f.middlewareStack.use(cS(f.config)),f}return sA(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(at),hJ=function(){return(hJ=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},hZ=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},hX=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},hQ=new ok("S3ClientUtils"),h0={accessKeyId:"",secretAccessKey:""},h1=function(e){var t=e.credentials,r=e.level,n=e.customPrefix,i=e.identityId,o=n||{},s=i||t.identityId,a=(void 0!==o.private?o.private:"private/")+s+"/",u=(void 0!==o.protected?o.protected:"protected/")+s+"/",c=void 0!==o.public?o.public:"public/";switch(r){case"private":return a;case"protected":return u;default:return c}},h2=function(e,t){return function(r,n){return function(n){return hZ(void 0,void 0,void 0,function(){var i,o,s,a;return hX(this,function(u){switch(u.label){case 0:return[4,ck.get()];case 1:return i=u.sent(),o=ck.shear(i),s=h1(hJ(hJ({},e),{credentials:o})),a=Object.assign({},n.input),Object.prototype.hasOwnProperty.call(n.input,"Key")?(a.Key=s+t,n.input=a):Object.prototype.hasOwnProperty.call(n.input,"Prefix")&&(a.Prefix=s+t,n.input=a),[2,r(n)]}})})}}},h3=function(e){return function(t,r){return function(r){return hZ(void 0,void 0,void 0,function(){var n,i;return hX(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(r)];case 1:return[2,o.sent()];case 2:var s;throw(s=n=o.sent()).ServerTime&&"string"==typeof s.Code&&"RequestTimeTooSkewed"===s.Code&&(i=new Date(n.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),n;case 3:return[2]}})})}}},h4={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},h6={step:"initialize",name:"addPrefixMiddleware"},h5=function(){return hZ(void 0,void 0,void 0,function(){var e,t,r;return hX(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ck.get()];case 1:if(!(e=n.sent()))return[2,h0];return t=ck.shear(e),hQ.debug("credentials provider get credentials",t),[2,t];case 2:return r=n.sent(),hQ.warn("credentials provider error",r),[2,h0];case 3:return[2]}})})},h8=function(e,t){var r=e.region,n=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new hY(hJ(hJ({region:r,credentials:h5,customUserAgent:oL()},s),{requestHandler:new d0({},t,n),useAccelerateEndpoint:o}));return a.middlewareStack.remove(d2),a},h7=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:eq.filterSensitiveLog,outputFilterSensitiveLog:eK.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx({},f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"DELETE",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){switch(n.label){case 0:if(204!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:return n=[sx({},e)],c={},[4,f2(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(c.body=l.sent(),c)])),o="UnknownError",o=f3(e,r.body)){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:var f,d;return s=[{}],[4,(f=r,d=0,s_(void 0,void 0,void 0,function(){var e;return sk(this,function(t){return e={name:"NoSuchUpload",$fault:"client",$metadata:fQ(f)},f.body,[2,e]})}))];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:fQ(e)}]),[3,5];case 4:o=(a=r.body).code||a.Code||o,i=sx(sx({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:fQ(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(Error(u),i))]}})})];return r={$metadata:fQ(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f0(e.body,t)];case 1:return n.sent(),[2,Promise.resolve(r)]}})})},t}(ar),h9=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dL(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:e0.filterSensitiveLog,outputFilterSensitiveLog:eZ.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l;return sk(this,function(f){switch(f.label){case 0:if(r=sx(sx({"content-type":"application/xml"},f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(a=fK(e.MultipartUpload,t),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return c=(u=f.sent()).hostname,[2,new sT({protocol:void 0===(l=u.protocol)?"https":l,hostname:c,port:u.port,method:"POST",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(r.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(r.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f2(e.body,t)];case 1:return void 0!==(n=i.sent()).Bucket&&(r.Bucket=n.Bucket),void 0!==n.ETag&&(r.ETag=n.ETag),void 0!==n.Key&&(r.Key=n.Key),void 0!==n.Location&&(r.Location=n.Location),[2,Promise.resolve(r)]}})})},t}(ar),pe=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dN(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:tt.filterSensitiveLog,outputFilterSensitiveLog:te.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx({},f1(e.ACL)&&{"x-amz-acl":e.ACL}),f1(e.CacheControl)&&{"cache-control":e.CacheControl}),f1(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),f1(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),f1(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),f1(e.ContentType)&&{"content-type":e.ContentType}),f1(e.Expires)&&{expires:al(e.Expires).toString()}),f1(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),f1(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),f1(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),f1(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),f1(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),f1(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),f1(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),f1(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),f1(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),f1(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),f1(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),f1(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),f1(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.Tagging)&&{"x-amz-tagging":e.Tagging}),f1(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),f1(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),f1(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,r){var n;return sx(sx({},t),((n={})["x-amz-meta-"+r.toLowerCase()]=e.Metadata[r],n))},{})),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o={uploads:""},[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"POST",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f2(e.body,t)];case 1:return void 0!==(n=i.sent()).Bucket&&(r.Bucket=n.Bucket),void 0!==n.Key&&(r.Key=n.Key),void 0!==n.UploadId&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},t}(ar),pt=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:n3.filterSensitiveLog,outputFilterSensitiveLog:n2.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx({},f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx(sx(sx({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"GET",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f2(e.body,t)];case 1:return void 0!==(n=i.sent()).Bucket&&(r.Bucket=n.Bucket),void 0!==n.Initiator&&(r.Initiator=f$(n.Initiator,t)),void 0!==n.IsTruncated&&(r.IsTruncated="true"==n.IsTruncated),void 0!==n.Key&&(r.Key=n.Key),void 0!==n.MaxParts&&(r.MaxParts=parseInt(n.MaxParts)),void 0!==n.NextPartNumberMarker&&(r.NextPartNumberMarker=n.NextPartNumberMarker),void 0!==n.Owner&&(r.Owner=fZ(n.Owner,t)),void 0!==n.PartNumberMarker&&(r.PartNumberMarker=n.PartNumberMarker),""===n.Part&&(r.Parts=[]),void 0!==n.Part&&(r.Parts=(ai(n.Part)||[]).filter(function(e){return null!=e}).map(function(e){return null===e?null:fX(e,t)})),void 0!==n.StorageClass&&(r.StorageClass=n.StorageClass),void 0!==n.UploadId&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},t}(ar),pr=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dN(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:iE.filterSensitiveLog,outputFilterSensitiveLog:iS.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx(sx({"content-type":"application/octet-stream"},f1(e.ACL)&&{"x-amz-acl":e.ACL}),f1(e.CacheControl)&&{"cache-control":e.CacheControl}),f1(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),f1(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),f1(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),f1(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),f1(e.ContentMD5)&&{"content-md5":e.ContentMD5}),f1(e.ContentType)&&{"content-type":e.ContentType}),f1(e.Expires)&&{expires:al(e.Expires).toString()}),f1(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),f1(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),f1(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),f1(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),f1(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),f1(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),f1(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),f1(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),f1(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),f1(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),f1(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),f1(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),f1(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.Tagging)&&{"x-amz-tagging":e.Tagging}),f1(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),f1(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),f1(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(function(t,r){var n;return sx(sx({},t),((n={})["x-amz-meta-"+r.toLowerCase()]=e.Metadata[r],n))},{})),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o={"x-id":"PutObject"},void 0!==e.Body&&(s=e.Body),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){switch(n.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(r.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(r.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(r.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f0(e.body,t)];case 1:return n.sent(),[2,Promise.resolve(r)]}})})},t}(ar);(iH||(iH={})).filterSensitiveLog=function(e){return sx({},e)},(iV||(iV={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Encryption&&{Encryption:iD.filterSensitiveLog(e.Encryption)})},(iG||(iG={})).filterSensitiveLog=function(e){return sx(sx({},e),e.S3&&{S3:iV.filterSensitiveLog(e.S3)})},(w=iW||(iW={})).IGNORE="IGNORE",w.NONE="NONE",w.USE="USE",(i$||(i$={})).filterSensitiveLog=function(e){return sx({},e)},(S=iY||(iY={})).DOCUMENT="DOCUMENT",S.LINES="LINES",(iJ||(iJ={})).filterSensitiveLog=function(e){return sx({},e)},(iZ||(iZ={})).filterSensitiveLog=function(e){return sx({},e)},(iX||(iX={})).filterSensitiveLog=function(e){return sx({},e)},(E=iQ||(iQ={})).ALWAYS="ALWAYS",E.ASNEEDED="ASNEEDED",(i0||(i0={})).filterSensitiveLog=function(e){return sx({},e)},(i1||(i1={})).filterSensitiveLog=function(e){return sx({},e)},(i2||(i2={})).filterSensitiveLog=function(e){return sx({},e)},(i3||(i3={})).filterSensitiveLog=function(e){return sx({},e)},(i4||(i4={})).SELECT="SELECT",(i6||(i6={})).filterSensitiveLog=function(e){return sx(sx({},e),e.OutputLocation&&{OutputLocation:iG.filterSensitiveLog(e.OutputLocation)})},(i5||(i5={})).filterSensitiveLog=function(e){return sx(sx({},e),e.RestoreRequest&&{RestoreRequest:i6.filterSensitiveLog(e.RestoreRequest)})},(i8||(i8={})).filterSensitiveLog=function(e){return sx({},e)},(i7||(i7={})).filterSensitiveLog=function(e){return sx({},e)},(i9||(i9={})).filterSensitiveLog=function(e){return sx({},e)},(oe||(oe={})).filterSensitiveLog=function(e){return sx({},e)},(ot||(ot={})).filterSensitiveLog=function(e){return sx({},e)},(or||(or={})).filterSensitiveLog=function(e){return sx({},e)},(on||(on={})).filterSensitiveLog=function(e){return sx({},e)},(C=oi||(oi={})).visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},C.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:ot.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:on.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:oe.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:i8.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:i7.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(oo||(oo={})).filterSensitiveLog=function(e){return sx(sx({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})},(os||(os={})).filterSensitiveLog=function(e){return sx({},e)},(oa||(oa={})).filterSensitiveLog=function(e){return sx({},e)},(ou||(ou={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af})},(oc||(oc={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af})},(ol||(ol={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af})},(of||(of={})).filterSensitiveLog=function(e){return sx({},e)},(od||(od={})).filterSensitiveLog=function(e){return sx(sx({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:af})},(oh||(oh={})).filterSensitiveLog=function(e){return sx(sx(sx({},e),e.SSECustomerKey&&{SSECustomerKey:af}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:af})};var pn=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dN(t)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:ol.filterSensitiveLog,outputFilterSensitiveLog:oc.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx(sx(sx(sx(sx(sx({"content-type":"application/octet-stream"},f1(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),f1(e.ContentMD5)&&{"content-md5":e.ContentMD5}),f1(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),f1(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),f1(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");if(void 0!==e.Key){if((i=e.Key).length<=0)throw Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(e){return an(e)}).join("/"))}else throw Error("No value provided for input HTTP label: Key.");return o=sx(sx({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(s=e.Body),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"PUT",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r;return sk(this,function(n){switch(n.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u;return sk(this,function(c){switch(c.label){case 0:return n=[sx({},e)],u={},[4,f2(e.body,t)];case 1:return r=sx.apply(void 0,n.concat([(u.body=c.sent(),u)])),o="UnknownError",o=f3(e,r.body),o=(s=r.body).code||s.Code||o,a=(i=sx(sx({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:fQ(e)})).message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(Error(a),i))]}})})];return r={$metadata:fQ(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(r.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(r.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,f0(e.body,t)];case 1:return n.sent(),[2,Promise.resolve(r)]}})})},t}(ar),pi={},po="object"==typeof Reflect?Reflect:null,ps=po&&"function"==typeof po.apply?po.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};op=po&&"function"==typeof po.ownKeys?po.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var pa=Number.isNaN||function(e){return e!=e};function pu(){pu.init.call(this)}(pi=pu).once=function(e,t){return new Promise(function(r,n){var i;function o(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}pm(e,t,s,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&pm(e,"error",o,i))})},pu.EventEmitter=pu,pu.prototype._events=void 0,pu.prototype._eventsCount=0,pu.prototype._maxListeners=void 0;var pc=10;function pl(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function pf(e){return void 0===e._maxListeners?pu.defaultMaxListeners:e._maxListeners}function pd(e,t,r,n){if(pl(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=pf(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function ph(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=ph.bind(n);return i.listener=r,n.wrapFn=i,i}function pg(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):pv(i,i.length)}function py(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function pv(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function pm(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(pu,"defaultMaxListeners",{enumerable:!0,get:function(){return pc},set:function(e){if("number"!=typeof e||e<0||pa(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pc=e}}),pu.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},pu.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||pa(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},pu.prototype.getMaxListeners=function(){return pf(this)},pu.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)ps(a,this,t);else for(var u=a.length,c=pv(a,u),r=0;r<u;++r)ps(c[r],this,t);return!0},pu.prototype.addListener=function(e,t){return pd(this,e,t,!1)},pu.prototype.on=pu.prototype.addListener,pu.prototype.prependListener=function(e,t){return pd(this,e,t,!0)},pu.prototype.once=function(e,t){return pl(t),this.on(e,pp(this,e,t)),this},pu.prototype.prependOnceListener=function(e,t){return pl(t),this.prependListener(e,pp(this,e,t)),this},pu.prototype.removeListener=function(e,t){var r,n,i,o,s;if(pl(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},pu.prototype.off=pu.prototype.removeListener,pu.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},pu.prototype.listeners=function(e){return pg(this,e,!0)},pu.prototype.rawListeners=function(e){return pg(this,e,!1)},pu.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):py.call(e,t)},pu.prototype.listenerCount=py,pu.prototype.eventNames=function(){return this._eventsCount>0?op(this._events):[]};var pb=function(){return(pb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pw=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},pS=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pE=new ok("AWSS3ProviderManagedUpload"),pC=function(){function e(e,t,r){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=r,this.s3client=this._createNewS3Client(t,r)}return e.prototype.upload=function(){return pw(this,void 0,void 0,function(){var e,t,r,n,i,o,s=this;return pS(this,function(a){switch(a.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:if(e.body=a.sent(),this.totalBytesToUpload=this.byteLength(this.body),!(this.totalBytesToUpload<=this.minPartSize))return[3,2];return this.params.Body=this.body,t=new pr(this.params),[2,this.s3client.send(t)];case 2:return[4,this.createMultiPartUpload()];case 3:r=a.sent(),n=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,a.label=4;case 4:if(!(o<n))return[3,9];return[4,this.checkIfUploadCancelled(r)];case 5:return a.sent(),[4,this.uploadParts(r,i.slice(o,o+this.queueSize))];case 6:return a.sent(),[4,this.checkIfUploadCancelled(r)];case 7:a.sent(),a.label=8;case 8:return o+=this.queueSize,[3,4];case 9:return i.map(function(e){s.removeEventListener(e)}),[4,this.finishMultiPartUpload(r)];case 10:return[2,a.sent()]}})})},e.prototype.createParts=function(){for(var e=[],t=0;t<this.totalBytesToUpload;){var r=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,r),partNumber:e.length+1,emitter:new pi.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e},e.prototype.createMultiPartUpload=function(){return pw(this,void 0,void 0,function(){var e,t;return pS(this,function(r){switch(r.label){case 0:return e=new pe(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),pE.debug(t.UploadId),[2,t.UploadId]}})})},e.prototype.uploadParts=function(e,t){return pw(this,void 0,void 0,function(){var r,n,i,o=this;return pS(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map(function(t){return pw(o,void 0,void 0,function(){var r,n,i,o,s,a,u;return pS(this,function(c){switch(c.label){case 0:return this.setupEventListener(t),r={emitter:t.emitter},i=(n=this.params).Key,o=n.Bucket,s=n.SSECustomerAlgorithm,a=n.SSECustomerKey,u=n.SSECustomerKeyMD5,[4,this.s3client.send(new pn(pb(pb(pb({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})),r)];case 1:return[2,c.sent()]}})})}))];case 1:for(n=0,r=s.sent();n<r.length;n++)this.completedParts.push({PartNumber:t[n].partNumber,ETag:r[n].ETag});return[3,3];case 2:return i=s.sent(),pE.error("error happened while uploading a part. Cancelling the multipart upload",i),this.cancelUpload(),[2];case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(e){return pw(this,void 0,void 0,function(){var t,r;return pS(this,function(n){switch(n.label){case 0:t=new h9({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.s3client.send(t)];case 2:return[2,n.sent().Key];case 3:return r=n.sent(),pE.error("error happened while finishing the upload. Cancelling the multipart upload",r),this.cancelUpload(),[2];case 4:return[2]}})})},e.prototype.checkIfUploadCancelled=function(e){return pw(this,void 0,void 0,function(){var t,r;return pS(this,function(n){switch(n.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),t+=" "+r.message,[3,4];case 4:throw Error(t);case 5:return[2]}})})},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return pw(this,void 0,void 0,function(){var t,r;return pS(this,function(n){switch(n.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new h7(t))];case 1:return n.sent(),[4,this.s3client.send(new pt(t))];case 2:if((r=n.sent())&&r.Parts&&r.Parts.length>0)throw Error("Multi Part upload clean up failed");return[2]}})})},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(dJ),e.emitter.removeAllListeners(dZ)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(dJ,function(r){t.progressChanged(e.partNumber,r.loaded-e._lastUploadedBytes),e._lastUploadedBytes=r.loaded})},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(dJ,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path);else throw Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return pw(this,void 0,void 0,function(){return pS(this,function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]})})},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var r=h8(e,t);return r.middlewareStack.add(h2(this.opts,this.params.Key),h6),r.middlewareStack.add(h3(r.config),h4),r},e}(),pA=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return sA(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(s6(t,this.serialize,this.deserialize)),this.middlewareStack.use(dx(t));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:nJ.filterSensitiveLog,outputFilterSensitiveLog:nY.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:if(r=sx(sx({},f1(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),f1(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",void 0!==e.Bucket){if((i=e.Bucket).length<=0)throw Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",an(i))}else throw Error("No value provided for input HTTP label: Bucket.");return o=sx(sx(sx(sx(sx(sx(sx({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return u=(a=l.sent()).hostname,[2,new sT({protocol:void 0===(c=a.protocol)?"https":c,hostname:u,port:a.port,method:"GET",headers:r,path:n,query:o,body:s})]}})})},t.prototype.deserialize=function(e,t){return s_(void 0,void 0,void 0,function(){var r,n;return sk(this,function(i){switch(i.label){case 0:if(200!==e.statusCode&&e.statusCode>=300)return[2,s_(void 0,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return sk(this,function(l){switch(l.label){case 0:return n=[sx({},e)],c={},[4,f2(e.body,t)];case 1:switch(r=sx.apply(void 0,n.concat([(c.body=l.sent(),c)])),o="UnknownError",o=f3(e,r.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,fz(r,t)];case 3:return i=sx.apply(void 0,[sx.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:fQ(e)}]),[3,5];case 4:o=(a=r.body).code||a.Code||o,i=sx(sx({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:fQ(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(Error(u),i))]}})})];return r={$metadata:fQ(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,f2(e.body,t)];case 1:return""===(n=i.sent()).CommonPrefixes&&(r.CommonPrefixes=[]),void 0!==n.CommonPrefixes&&(r.CommonPrefixes=fG(ai(n.CommonPrefixes),t)),""===n.Contents&&(r.Contents=[]),void 0!==n.Contents&&(r.Contents=fJ(ai(n.Contents),t)),void 0!==n.ContinuationToken&&(r.ContinuationToken=n.ContinuationToken),void 0!==n.Delimiter&&(r.Delimiter=n.Delimiter),void 0!==n.EncodingType&&(r.EncodingType=n.EncodingType),void 0!==n.IsTruncated&&(r.IsTruncated="true"==n.IsTruncated),void 0!==n.KeyCount&&(r.KeyCount=parseInt(n.KeyCount)),void 0!==n.MaxKeys&&(r.MaxKeys=parseInt(n.MaxKeys)),void 0!==n.Name&&(r.Name=n.Name),void 0!==n.NextContinuationToken&&(r.NextContinuationToken=n.NextContinuationToken),void 0!==n.Prefix&&(r.Prefix=n.Prefix),void 0!==n.StartAfter&&(r.StartAfter=n.StartAfter),[2,Promise.resolve(r)]}})})},t}(ar),px=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},p_=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pk=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},pP=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pk(arguments[t]));return e},pI=new ok("AWSS3UploadTask");function pT(e,t){return e.PartNumber-t.PartNumber}(A=og||(og={}))[A.INIT=0]="INIT",A[A.IN_PROGRESS=1]="IN_PROGRESS",A[A.PAUSED=2]="PAUSED",A[A.CANCELLED=3]="CANCELLED",A[A.COMPLETED=4]="COMPLETED",(x=oy||(oy={})).CANCEL="cancel",x.UPLOAD_COMPLETE="uploadComplete",x.UPLOAD_PROGRESS="uploadPartProgress",x.ERROR="error";var pO=function(){function e(e){var t=e.s3Client,r=e.file,n=e.emitter,i=e.storage,o=e.params,s=e.level,a=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=og.INIT,this.prefixPromise=a,this.s3client=t,this.s3client.middlewareStack.remove(d2),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=r,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=n,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(oy.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===og.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,r=e.bucket;return px(this,void 0,void 0,function(){var e,n,i;return p_(this,function(o){switch(o.label){case 0:return[4,this.s3client.send(new pA({Bucket:r,Prefix:t}))];case 1:return n=void 0===(e=o.sent().Contents)?[]:e,[4,this.prefixPromise];case 2:return i=o.sent(),[2,n.find(function(e){return e.Key===""+i+t})]}})})},e.prototype._getFileId=function(e){var t;return void 0!==(t=this.file)&&t instanceof File?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return px(this,void 0,void 0,function(){var e,t;return p_(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:if(0===Object.keys(e=r.sent()).length||!Object.prototype.hasOwnProperty.call(e,this.fileId))return[2,{parts:[],uploadId:null}];return(t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(d3,JSON.stringify(e)),[4,this.s3client.send(new pt({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))];case 2:return[2,{parts:r.sent().Parts||[],uploadId:t.uploadId}]}})})},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return px(this,void 0,void 0,function(){return p_(this,function(e){switch(e.label){case 0:return[4,this.storageSync];case 1:return e.sent(),[2,JSON.parse(this.storage.getItem(d3)||"{}")]}})})},e.prototype._cache=function(e){return px(this,void 0,void 0,function(){var t;return p_(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=r.sent())[this.fileId]=e,this.storage.setItem(d3,JSON.stringify(t)),[2]}})})},e.prototype._isCached=function(){return px(this,void 0,void 0,function(){var e,t;return p_(this,function(r){switch(r.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[r.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return px(this,void 0,void 0,function(){var e;return p_(this,function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=t.sent(),delete e[this.fileId],this.storage.setItem(d3,JSON.stringify(e)),[2]}})})},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,r=e.partNumber,n=e.chunk;return px(this,void 0,void 0,function(){return p_(this,function(e){return this.completedParts.push({ETag:t,PartNumber:r}),this.bytesUploaded+=d4(n),this._emitEvent(oy.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(e){return e.uploadPartInput.PartNumber!==r}),this.queued.length&&this.state!==og.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return px(this,void 0,void 0,function(){var e;return p_(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new h9({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(pT)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(oy.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=og.COMPLETED,[3,3];case 2:return e=t.sent(),pI.error("error completing upload",e),this._emitEvent(oy.ERROR,e),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(e,t){return px(this,void 0,void 0,function(){var r,n;return p_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new pn(e),{cancelTokenSource:t})];case 1:return r=i.sent(),[4,this._onPartUploadCompletion({eTag:r.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),this.state===og.PAUSED?pI.log("upload paused"):this.state===og.CANCELLED?pI.log("upload aborted"):pI.error("error starting next part of upload: ",n),/*@__PURE__*/om(dG).isCancel(n)||n.message===iK.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(oy.ERROR,n),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==og.PAUSED){var e=/*@__PURE__*/om(dG).CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return px(this,void 0,void 0,function(){var e,t;return p_(this,function(r){switch(r.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(!(t=!!((e=r.sent())&&e.Size===this.file.size)))throw Error("File size does not match between local file and file on s3");return[2,t]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],r=0;r<e;){var n=Math.min(r+this.partSize,e);t.push({Body:this.file.slice(r,n),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),r+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce(function(e,t){return e+t.Size},0);var t=new Set(e.map(function(e){return e.PartNumber}));this.queued=this.queued.filter(function(e){return!t.has(e.PartNumber)}),this.completedParts=e.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}}),this._emitEvent(oy.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return px(this,void 0,void 0,function(){var e;return p_(this,function(t){switch(t.label){case 0:return[4,this.s3client.send(new pe(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}})})},e.prototype._initializeUploadTask=function(){return px(this,void 0,void 0,function(){var e,t,r,n;return p_(this,function(i){switch(i.label){case 0:this.state=og.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:if(!i.sent())return[3,4];return[4,this._findCachedUploadParts()];case 3:return t=(e=i.sent()).parts,r=e.uploadId,this.uploadId=r,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:if(this.uploadId)return[3,6];return[4,this._initMultipartUpload()];case 5:r=i.sent(),this.uploadId=r,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return n=i.sent(),/*@__PURE__*/om(dG).isCancel(n)||pI.error("Error initializing the upload task",n),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===og.CANCELLED?pI.warn("This task has already been cancelled"):this.state===og.COMPLETED?pI.warn("This task has already been completed"):this.state===og.IN_PROGRESS?pI.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=og.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return px(this,void 0,void 0,function(){var e;return p_(this,function(t){switch(t.label){case 0:if(this.state!==og.CANCELLED)return[3,1];return pI.warn("This task has already been cancelled"),[2,!1];case 1:if(this.state!==og.COMPLETED)return[3,2];return pI.warn("This task has already been completed"),[2,!1];case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=og.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new h7({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),pI.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){this.state===og.CANCELLED?pI.warn("This task has already been cancelled"):this.state===og.COMPLETED?pI.warn("This task has already been completed"):this.state===og.PAUSED&&pI.warn("This task is already paused"),this.state=og.PAUSED;var e,t=this.inProgress.splice(0,this.inProgress.length);t.forEach(function(e){e.cancel(iK.UPLOAD_PAUSED_MESSAGE)}),(e=this.queued).unshift.apply(e,pP(t.map(function(e){return e.uploadPartInput})))},e}(),pU=function(){return(pU=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pL=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},pM=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pR=new ok("AWSS3Provider"),pN="public",pD=function(){function e(e){var t=this;this._config=e||{},this._storage=new sn().getStorage(),oB.listen("auth",function(e){var r=e.payload;("signOut"===r.event||"signIn"===r.event)&&t._storage.removeItem(d3)}),pR.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(pR.debug("configure Storage",e),!e)return this._config;var t=se.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||pR.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var r=e.s3Client,n=e.emitter,i=e.key,o=e.file,s=e.params,a=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track;if(!(o instanceof Blob))throw Error(iF.INVALID_BLOB);n.on(oy.UPLOAD_PROGRESS,function(e){a&&("function"==typeof a?a(e):pR.warn("progressCallback should be a function, not a "+typeof a))}),n.on(oy.UPLOAD_COMPLETE,function(e){u&&("function"==typeof u?u(e):pR.warn("completeCallback should be a function, not a "+typeof u))}),n.on(oy.ERROR,function(e){c&&("function"==typeof c?c(e):pR.warn("errorCallback should be a function, not a "+typeof c))});var f=ck.get().then(function(e){var r=ck.shear(e);return h1(pU(pU({},t),{credentials:r}))}),d=new pO({s3Client:r,file:o,emitter:n,level:t.level,storage:this._storage,params:s,prefixPromise:f});return d6(void 0!==l&&l,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),d.resume(),d},e.prototype.copy=function(e,t,r){return pL(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,f,d,h,p,g,y,v,m,b,w,S,E,C,A,x,_,k;return pM(this,function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw Error(iF.NO_CREDENTIALS);if(i=(n=Object.assign({},this._config,r)).acl,o=n.bucket,s=n.cacheControl,a=n.expires,u=n.track,c=n.serverSideEncryption,l=n.SSECustomerAlgorithm,f=n.SSECustomerKey,d=n.SSECustomerKeyMD5,h=n.SSEKMSKeyId,g=void 0===(p=e.level)?pN:p,y=e.identityId,v=e.key,b=void 0===(m=t.level)?pN:m,w=t.key,!v||"string"!=typeof v)throw Error(iF.NO_SRC_KEY);if(!w||"string"!=typeof w)throw Error(iF.NO_DEST_KEY);"protected"!==g&&y&&pR.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),S=this._prefix(pU(pU(pU({},n),{level:g}),y&&{identityId:y})),E=this._prefix(pU(pU({},n),{level:b})),C=o+"/"+S+v,A=""+E+w,pR.debug("copying "+C+" to "+A),x={Bucket:o,CopySource:C,Key:A,MetadataDirective:"COPY"},s&&(x.CacheControl=s),a&&(x.Expires=a),c&&(x.ServerSideEncryption=c),l&&(x.SSECustomerAlgorithm=l),f&&(x.SSECustomerKey=f),d&&(x.SSECustomerKeyMD5=d),h&&(x.SSEKMSKeyId=h),i&&(x.ACL=i),_=this._createNewS3Client(n),P.label=2;case 2:return P.trys.push([2,4,,5]),[4,_.send(new dD(x))];case 3:return P.sent(),d6(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+v+" to "+w),[2,{key:w}];case 4:throw k=P.sent(),d6(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+v+" to "+w),k;case 5:return[2]}})})},e.prototype.get=function(e,t){return pL(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,f,d,h,p,g,y,v,m,b,w,S,E,C,A,x,_,k;return pM(this,function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw Error(iF.NO_CREDENTIALS);if(n=(r=Object.assign({},this._config,t)).bucket,i=r.download,o=r.cacheControl,s=r.contentDisposition,a=r.contentEncoding,u=r.contentLanguage,c=r.contentType,l=r.expires,f=r.track,d=r.SSECustomerAlgorithm,h=r.SSECustomerKey,p=r.SSECustomerKeyMD5,g=r.progressCallback,y=this._prefix(r)+e,v=new pi.EventEmitter,m=this._createNewS3Client(r,v),pR.debug("get "+e+" from "+y),b={Bucket:n,Key:y},o&&(b.ResponseCacheControl=o),s&&(b.ResponseContentDisposition=s),a&&(b.ResponseContentEncoding=a),u&&(b.ResponseContentLanguage=u),c&&(b.ResponseContentType=c),d&&(b.SSECustomerAlgorithm=d),h&&(b.SSECustomerKey=h),p&&(b.SSECustomerKeyMD5=p),!0!==i)return[3,5];w=new dB(b),P.label=2;case 2:return P.trys.push([2,4,,5]),g&&("function"==typeof g?v.on(dZ,function(e){g(e)}):pR.warn("progressCallback should be a function, not a "+typeof g)),[4,m.send(w)];case 3:return S=P.sent(),v.removeAllListeners(dZ),d6(f,"download",{method:"get",result:"success"},{fileSize:Number(S.Body.size||S.Body.length)},"Download success for "+e),[2,S];case 4:throw E=P.sent(),d6(f,"download",{method:"get",result:"failed"},null,"Download failed with "+E.message),E;case 5:return P.trys.push([5,8,,9]),C=new dV(pU({},m.config)),[4,function(e,t){return dK(this,void 0,void 0,function(){var r,n,i=this;return dq(this,function(o){switch(o.label){case 0:return r=function(e){return function(e){return dK(i,void 0,void 0,function(){return dq(this,function(t){return[2,{output:{request:e.request},response:void 0}]})})}},(n=e.middlewareStack.clone()).add(r,{step:"build",priority:"low"}),[4,t.resolveMiddleware(n,e.config,void 0)(t).then(function(e){return e.output.request})];case 1:return[2,o.sent()]}})})}(m,new dB(b))];case 6:return A=P.sent(),_=dz,[4,C.presign(A,{expiresIn:l||900})];case 7:return x=_.apply(void 0,[P.sent()]),d6(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+x),[2,x];case 8:throw k=P.sent(),pR.warn("get signed url error",k),d6(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),k;case 9:return[2]}})})},e.prototype.put=function(e,t,r){var n=Object.assign({},this._config,r),i=n.bucket,o=n.track,s=n.progressCallback,a=n.level,u=n.resumable,c=n.contentType,l=n.contentDisposition,f=n.contentEncoding,d=n.cacheControl,h=n.expires,p=n.metadata,g=n.tagging,y=n.acl,v=n.serverSideEncryption,m=n.SSECustomerAlgorithm,b=n.SSECustomerKey,w=n.SSECustomerKeyMD5,S=n.SSEKMSKeyId,E={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(E.CacheControl=d),l&&(E.ContentDisposition=l),f&&(E.ContentEncoding=f),h&&(E.Expires=h),p&&(E.Metadata=p),g&&(E.Tagging=g),v&&(E.ServerSideEncryption=v),m&&(E.SSECustomerAlgorithm=m),b&&(E.SSECustomerKey=b),w&&(E.SSECustomerKeyMD5=w),S&&(E.SSEKMSKeyId=S);var C=new pi.EventEmitter,A=new pC(E,n,C);if(y&&(E.ACL=y),!0===u){var x=this._createNewS3Client(n);return x.middlewareStack.add(h2(n,e),h6),this.startResumableUpload({bucket:i,key:e,s3Client:x,file:t,emitter:C,accessLevel:a,params:E},r)}try{return s&&("function"==typeof s?C.on(dJ,function(e){s(e)}):pR.warn("progressCallback should be a function, not a "+typeof s)),A.upload().then(function(t){return pR.debug("upload result",t),d6(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}})}catch(t){throw pR.warn("error uploading",t),d6(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return pL(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return pM(this,function(l){switch(l.label){case 0:return[4,this._ensureCredentials()];case 1:if(!l.sent()||!this._isWithCredentials(this._config))throw Error(iF.NO_CREDENTIALS);n=(r=Object.assign({},this._config,t)).bucket,i=r.track,o=this._prefix(r)+e,s=this._createNewS3Client(r),pR.debug("remove "+e+" from "+o),a=new dj({Bucket:n,Key:o}),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.send(a)];case 3:return u=l.sent(),d6(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,u];case 4:throw c=l.sent(),d6(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+c),c;case 5:return[2]}})})},e.prototype.list=function(e,t){return pL(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c,l,f,d;return pM(this,function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw Error(iF.NO_CREDENTIALS);n=(r=Object.assign({},this._config,t)).bucket,i=r.track,o=r.maxKeys,a=(s=this._prefix(r))+e,u=this._createNewS3Client(r),pR.debug("list "+e+" from "+a),c=new dF({Bucket:n,Prefix:a,MaxKeys:o}),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.send(c)];case 3:return l=h.sent(),f=[],l&&l.Contents&&(f=l.Contents.map(function(e){return{key:e.Key.substr(s.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}})),d6(i,"list",{method:"list",result:"success"},null,f.length+" items returned from list operation"),pR.debug("list",f),[2,f];case 4:throw d=h.sent(),pR.warn("list error",d),d6(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+d.message),d;case 5:return[2]}})})},e.prototype._ensureCredentials=function(){return pL(this,void 0,void 0,function(){var e,t,r;return pM(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ck.get()];case 1:if(!(e=n.sent()))return[2,!1];return t=ck.shear(e),pR.debug("set credentials for storage",t),this._config.credentials=t,[2,!0];case 2:return r=n.sent(),pR.warn("ensure credentials error",r),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,r=e.level,n=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==n.private?n.private:"private/")+i+"/",s=(void 0!==n.protected?n.protected:"protected/")+i+"/",a=void 0!==n.public?n.public:"public/";switch(r){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var r=h8(e,t);return r.middlewareStack.add(h3(r.config),h4),r},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),pj=function(){return(pj=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pB=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},pF=new ok("StorageClass"),pz="AWSS3",pK=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,pF.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find(function(t){return t.getProviderName()===e});return void 0===t?(pF.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter(function(t){return t.getProviderName()!==e})},e.prototype.configure=function(e){var t=this;if(pF.debug("configure Storage"),!e)return this._config;var r=se.parseMobilehubConfig(e),n=Object.keys(r.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some(function(t){return t===e})};return n&&n.find(function(e){return o(e)})&&!r.Storage[pz]&&(r.Storage[pz]={}),Object.entries(r.Storage).map(function(e){var t=pB(e,2),n=t[0],i=t[1];n&&o(n)&&void 0!==i&&(r.Storage[pz][n]=i,delete r.Storage[n])}),Object.keys(r.Storage).forEach(function(e){"string"!=typeof r.Storage[e]&&(t._config[e]=pj(pj({},t._config[e]),r.Storage[e]))}),this._pluggables.forEach(function(e){e.configure(t._config[e.getProviderName()])}),0===this._pluggables.length&&this.addPluggable(new pD),this._config},e.prototype.getCancellableTokenSource=function(){return /*@__PURE__*/om(dG).CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof pO)return e._cancel();var r=this._cancelTokenSourceMap.get(e);r?r.cancel(t):pF.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,r){var n=(null==r?void 0:r.provider)||pz,i=this._pluggables.find(function(e){return e.getProviderName()===n});if(void 0===i)return pF.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,pj(pj({},r),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.get=function(e,t){var r=(null==t?void 0:t.provider)||pz,n=this._pluggables.find(function(e){return e.getProviderName()===r});if(void 0===n)return pF.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=n.get(e,pj(pj({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return /*@__PURE__*/om(dG).isCancel(e)},e.prototype.put=function(e,t,r){var n=(null==r?void 0:r.provider)||pz,i=this._pluggables.find(function(e){return e.getProviderName()===n});if(void 0===i)return pF.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.put(e,t,pj(pj({},r),{cancelTokenSource:o}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,o),s},e.prototype.remove=function(e,t){var r=(null==t?void 0:t.provider)||pz,n=this._pluggables.find(function(e){return e.getProviderName()===r});return void 0===n?(pF.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")):n.remove(e,t)},e.prototype.list=function(e,t){var r=(null==t?void 0:t.provider)||pz,n=this._pluggables.find(function(e){return e.getProviderName()===r});return void 0===n?(pF.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider")):n.list(e,t)},e}(),pq=function(){return(pq=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pH=new ok("Storage"),pV=null,pG=function(){if(pV)return pV;pH.debug("Create Storage Instance, debug"),(pV=new pK).vault=new pK;var e=pV.configure;return pV.configure=function(t){pH.debug("storage configure called");var r=pq({},e.call(pV,t));Object.keys(r).forEach(function(e){"string"!=typeof r[e]&&(r[e]=pq(pq({},r[e]),{level:"private"}))}),pH.debug("storage vault configure called"),pV.vault.configure(r)},pV}();oT.register(pG);(function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)})([function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(1)),n(r(2)),n(r(3)),n(r(4)),n(r(5)),n(r(6)),n(r(7)),n(r(8)),n(r(9)),n(r(10)),n(r(11)),n(r(12)),n(r(13))},function(e,t,r){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,r){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,r){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,r){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,r){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,r){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,r){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,r){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,r){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,r){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,r){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,r){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,r){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}]),oT.Auth=fg,oT.Cache=fx,oT.ServiceWorker=cP,Amplify.configure({Auth:{userPoolId:"ap-northeast-2_4BBJiRrR9",userPoolWebClientId:"122g2i26b7erslg90ut69s227l",region:"ap-northeast-2"}});const pW=async e=>{e.preventDefault();let t=document.querySelector('input[placeholder="email"]').value,r=document.querySelector('input[placeholder="password"]').value;try{let{user:e}=await Amplify.Auth.signUp({username:t,password:r,attributes:{email:t}});console.log("회원가입 성공:",e)}catch(e){console.error("회원가입 실패:",e)}};document.querySelector("form").addEventListener("submit",pW),oT.configure(/*@__PURE__*/om({}));const p$=async e=>{e.preventDefault();let t=document.querySelector('input[placeholder="email"]').value,r=document.querySelector('input[placeholder="password"]').value;try{let{user:e}=await fg.signUp({username:t,password:r,attributes:{email:t}});console.log("회원가입 성공:",e),alert("회원가입이 완료되었습니다. 이메일 인증을 확인하세요."),window.location.href="/index.html"}catch(e){console.error("회원가입 실패:",e),document.querySelector(".errortext").textContent="회원가입 실패: "+e.message}};document.querySelector("form").addEventListener("submit",p$);
//# sourceMappingURL=index.39c560e1.js.map
